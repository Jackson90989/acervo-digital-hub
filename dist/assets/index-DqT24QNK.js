var IN=Object.defineProperty;var nA=n=>{throw TypeError(n)};var DN=(n,e,t)=>e in n?IN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var H=(n,e,t)=>DN(n,typeof e!="symbol"?e+"":e,t),$v=(n,e,t)=>e.has(n)||nA("Cannot "+t);var c=(n,e,t)=>($v(n,e,"read from private field"),t?t.call(n):e.get(n)),S=(n,e,t)=>e.has(n)?nA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),A=(n,e,t,s)=>($v(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),E=(n,e,t)=>($v(n,e,"access private method"),t);var xt=(n,e,t,s)=>({set _(r){A(n,e,r,t)},get _(){return c(n,e,s)}});function ON(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in n)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function UE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var VE={exports:{}},Gy={},WE={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp=Symbol.for("react.element"),jN=Symbol.for("react.portal"),FN=Symbol.for("react.fragment"),BN=Symbol.for("react.strict_mode"),zN=Symbol.for("react.profiler"),$N=Symbol.for("react.provider"),HN=Symbol.for("react.context"),UN=Symbol.for("react.forward_ref"),VN=Symbol.for("react.suspense"),WN=Symbol.for("react.memo"),GN=Symbol.for("react.lazy"),sA=Symbol.iterator;function qN(n){return n===null||typeof n!="object"?null:(n=sA&&n[sA]||n["@@iterator"],typeof n=="function"?n:null)}var GE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qE=Object.assign,XE={};function _d(n,e,t){this.props=n,this.context=e,this.refs=XE,this.updater=t||GE}_d.prototype.isReactComponent={};_d.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};_d.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function KE(){}KE.prototype=_d.prototype;function yb(n,e,t){this.props=n,this.context=e,this.refs=XE,this.updater=t||GE}var vb=yb.prototype=new KE;vb.constructor=yb;qE(vb,_d.prototype);vb.isPureReactComponent=!0;var rA=Array.isArray,YE=Object.prototype.hasOwnProperty,wb={current:null},QE={key:!0,ref:!0,__self:!0,__source:!0};function JE(n,e,t){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)YE.call(e,s)&&!QE.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(s in a=n.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:jp,type:n,key:i,ref:o,props:r,_owner:wb.current}}function XN(n,e){return{$$typeof:jp,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function xb(n){return typeof n=="object"&&n!==null&&n.$$typeof===jp}function KN(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var iA=/\/+/g;function Hv(n,e){return typeof n=="object"&&n!==null&&n.key!=null?KN(""+n.key):e.toString(36)}function Hm(n,e,t,s,r){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case jp:case jN:o=!0}}if(o)return o=n,r=r(o),n=s===""?"."+Hv(o,0):s,rA(r)?(t="",n!=null&&(t=n.replace(iA,"$&/")+"/"),Hm(r,e,t,"",function(u){return u})):r!=null&&(xb(r)&&(r=XN(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(iA,"$&/")+"/")+n)),e.push(r)),1;if(o=0,s=s===""?".":s+":",rA(n))for(var a=0;a<n.length;a++){i=n[a];var l=s+Hv(i,a);o+=Hm(i,e,t,l,r)}else if(l=qN(n),typeof l=="function")for(n=l.call(n),a=0;!(i=n.next()).done;)i=i.value,l=s+Hv(i,a++),o+=Hm(i,e,t,l,r);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function um(n,e,t){if(n==null)return n;var s=[],r=0;return Hm(n,s,"","",function(i){return e.call(t,i,r++)}),s}function YN(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var mn={current:null},Um={transition:null},QN={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Um,ReactCurrentOwner:wb};function ZE(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:um,forEach:function(n,e,t){um(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return um(n,function(){e++}),e},toArray:function(n){return um(n,function(e){return e})||[]},only:function(n){if(!xb(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};fe.Component=_d;fe.Fragment=FN;fe.Profiler=zN;fe.PureComponent=yb;fe.StrictMode=BN;fe.Suspense=VN;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QN;fe.act=ZE;fe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var s=qE({},n.props),r=n.key,i=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=wb.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)YE.call(e,l)&&!QE.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:jp,type:n.type,key:r,ref:i,props:s,_owner:o}};fe.createContext=function(n){return n={$$typeof:HN,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:$N,_context:n},n.Consumer=n};fe.createElement=JE;fe.createFactory=function(n){var e=JE.bind(null,n);return e.type=n,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(n){return{$$typeof:UN,render:n}};fe.isValidElement=xb;fe.lazy=function(n){return{$$typeof:GN,_payload:{_status:-1,_result:n},_init:YN}};fe.memo=function(n,e){return{$$typeof:WN,type:n,compare:e===void 0?null:e}};fe.startTransition=function(n){var e=Um.transition;Um.transition={};try{n()}finally{Um.transition=e}};fe.unstable_act=ZE;fe.useCallback=function(n,e){return mn.current.useCallback(n,e)};fe.useContext=function(n){return mn.current.useContext(n)};fe.useDebugValue=function(){};fe.useDeferredValue=function(n){return mn.current.useDeferredValue(n)};fe.useEffect=function(n,e){return mn.current.useEffect(n,e)};fe.useId=function(){return mn.current.useId()};fe.useImperativeHandle=function(n,e,t){return mn.current.useImperativeHandle(n,e,t)};fe.useInsertionEffect=function(n,e){return mn.current.useInsertionEffect(n,e)};fe.useLayoutEffect=function(n,e){return mn.current.useLayoutEffect(n,e)};fe.useMemo=function(n,e){return mn.current.useMemo(n,e)};fe.useReducer=function(n,e,t){return mn.current.useReducer(n,e,t)};fe.useRef=function(n){return mn.current.useRef(n)};fe.useState=function(n){return mn.current.useState(n)};fe.useSyncExternalStore=function(n,e,t){return mn.current.useSyncExternalStore(n,e,t)};fe.useTransition=function(){return mn.current.useTransition()};fe.version="18.3.1";WE.exports=fe;var T=WE.exports;const U=UE(T),JN=ON({__proto__:null,default:U},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZN=T,eR=Symbol.for("react.element"),tR=Symbol.for("react.fragment"),nR=Object.prototype.hasOwnProperty,sR=ZN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rR={key:!0,ref:!0,__self:!0,__source:!0};function eC(n,e,t){var s,r={},i=null,o=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)nR.call(e,s)&&!rR.hasOwnProperty(s)&&(r[s]=e[s]);if(n&&n.defaultProps)for(s in e=n.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:eR,type:n,key:i,ref:o,props:r,_owner:sR.current}}Gy.Fragment=tR;Gy.jsx=eC;Gy.jsxs=eC;VE.exports=Gy;var y=VE.exports,tC={exports:{}},os={},nC={exports:{}},sC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(R,$){var Y=R.length;R.push($);e:for(;0<Y;){var W=Y-1>>>1,q=R[W];if(0<r(q,$))R[W]=$,R[Y]=q,Y=W;else break e}}function t(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var $=R[0],Y=R.pop();if(Y!==$){R[0]=Y;e:for(var W=0,q=R.length,ee=q>>>1;W<ee;){var Se=2*(W+1)-1,Ye=R[Se],de=Se+1,ge=R[de];if(0>r(Ye,Y))de<q&&0>r(ge,Ye)?(R[W]=ge,R[de]=Y,W=de):(R[W]=Ye,R[Se]=Y,W=Se);else if(de<q&&0>r(ge,Y))R[W]=ge,R[de]=Y,W=de;else break e}}return $}function r(R,$){var Y=R.sortIndex-$.sortIndex;return Y!==0?Y:R.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,g=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var $=t(u);$!==null;){if($.callback===null)s(u);else if($.startTime<=R)s(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(u)}}function C(R){if(p=!1,b(R),!g)if(t(l)!==null)g=!0,j(_);else{var $=t(u);$!==null&&B(C,$.startTime-R)}}function _(R,$){g=!1,p&&(p=!1,v(N),N=-1),m=!0;var Y=f;try{for(b($),h=t(l);h!==null&&(!(h.expirationTime>$)||R&&!D());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var q=W(h.expirationTime<=$);$=n.unstable_now(),typeof q=="function"?h.callback=q:h===t(l)&&s(l),b($)}else s(l);h=t(l)}if(h!==null)var ee=!0;else{var Se=t(u);Se!==null&&B(C,Se.startTime-$),ee=!1}return ee}finally{h=null,f=Y,m=!1}}var k=!1,P=null,N=-1,L=5,M=-1;function D(){return!(n.unstable_now()-M<L)}function F(){if(P!==null){var R=n.unstable_now();M=R;var $=!0;try{$=P(!0,R)}finally{$?G():(k=!1,P=null)}}else k=!1}var G;if(typeof w=="function")G=function(){w(F)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,ne=O.port2;O.port1.onmessage=F,G=function(){ne.postMessage(null)}}else G=function(){x(F,0)};function j(R){P=R,k||(k=!0,G())}function B(R,$){N=x(function(){R(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,j(_))},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(R){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var Y=f;f=$;try{return R()}finally{f=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Y=f;f=R;try{return $()}finally{f=Y}},n.unstable_scheduleCallback=function(R,$,Y){var W=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?W+Y:W):Y=W,R){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Y+q,R={id:d++,callback:$,priorityLevel:R,startTime:Y,expirationTime:q,sortIndex:-1},Y>W?(R.sortIndex=Y,e(u,R),t(l)===null&&R===t(u)&&(p?(v(N),N=-1):p=!0,B(C,Y-W))):(R.sortIndex=q,e(l,R),g||m||(g=!0,j(_))),R},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(R){var $=f;return function(){var Y=f;f=$;try{return R.apply(this,arguments)}finally{f=Y}}}})(sC);nC.exports=sC;var iR=nC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oR=T,is=iR;function z(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rC=new Set,Lh={};function dc(n,e){yd(n,e),yd(n+"Capture",e)}function yd(n,e){for(Lh[n]=e,n=0;n<e.length;n++)rC.add(e[n])}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I0=Object.prototype.hasOwnProperty,aR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oA={},aA={};function lR(n){return I0.call(aA,n)?!0:I0.call(oA,n)?!1:aR.test(n)?aA[n]=!0:(oA[n]=!0,!1)}function cR(n,e,t,s){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function uR(n,e,t,s){if(e===null||typeof e>"u"||cR(n,e,t,s))return!0;if(s)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(n,e,t,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){$t[n]=new gn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];$t[e]=new gn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){$t[n]=new gn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){$t[n]=new gn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){$t[n]=new gn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){$t[n]=new gn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){$t[n]=new gn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){$t[n]=new gn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){$t[n]=new gn(n,5,!1,n.toLowerCase(),null,!1,!1)});var bb=/[\-:]([a-z])/g;function Ab(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(bb,Ab);$t[e]=new gn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(bb,Ab);$t[e]=new gn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(bb,Ab);$t[e]=new gn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){$t[n]=new gn(n,1,!1,n.toLowerCase(),null,!1,!1)});$t.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){$t[n]=new gn(n,1,!1,n.toLowerCase(),null,!0,!0)});function Sb(n,e,t,s){var r=$t.hasOwnProperty(e)?$t[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uR(e,t,r,s)&&(t=null),s||r===null?lR(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,s=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,s?n.setAttributeNS(s,e,t):n.setAttribute(e,t))))}var Xi=oR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dm=Symbol.for("react.element"),Lc=Symbol.for("react.portal"),Mc=Symbol.for("react.fragment"),Eb=Symbol.for("react.strict_mode"),D0=Symbol.for("react.profiler"),iC=Symbol.for("react.provider"),oC=Symbol.for("react.context"),Cb=Symbol.for("react.forward_ref"),O0=Symbol.for("react.suspense"),j0=Symbol.for("react.suspense_list"),_b=Symbol.for("react.memo"),so=Symbol.for("react.lazy"),aC=Symbol.for("react.offscreen"),lA=Symbol.iterator;function Od(n){return n===null||typeof n!="object"?null:(n=lA&&n[lA]||n["@@iterator"],typeof n=="function"?n:null)}var Ke=Object.assign,Uv;function Qd(n){if(Uv===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Uv=e&&e[1]||""}return`
`+Uv+n}var Vv=!1;function Wv(n,e){if(!n||Vv)return"";Vv=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){s=u}n.call(e.prototype)}else{try{throw Error()}catch(u){s=u}n()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vv=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Qd(n):""}function dR(n){switch(n.tag){case 5:return Qd(n.type);case 16:return Qd("Lazy");case 13:return Qd("Suspense");case 19:return Qd("SuspenseList");case 0:case 2:case 15:return n=Wv(n.type,!1),n;case 11:return n=Wv(n.type.render,!1),n;case 1:return n=Wv(n.type,!0),n;default:return""}}function F0(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Mc:return"Fragment";case Lc:return"Portal";case D0:return"Profiler";case Eb:return"StrictMode";case O0:return"Suspense";case j0:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case oC:return(n.displayName||"Context")+".Consumer";case iC:return(n._context.displayName||"Context")+".Provider";case Cb:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _b:return e=n.displayName||null,e!==null?e:F0(n.type)||"Memo";case so:e=n._payload,n=n._init;try{return F0(n(e))}catch{}}return null}function hR(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F0(e);case 8:return e===Eb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ua(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function lC(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fR(n){var e=lC(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),s=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function hm(n){n._valueTracker||(n._valueTracker=fR(n))}function cC(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),s="";return n&&(s=lC(n)?n.checked?"true":"false":n.value),n=s,n!==t?(e.setValue(n),!0):!1}function Fg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function B0(n,e){var t=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function cA(n,e){var t=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;t=ua(e.value!=null?e.value:t),n._wrapperState={initialChecked:s,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uC(n,e){e=e.checked,e!=null&&Sb(n,"checked",e,!1)}function z0(n,e){uC(n,e);var t=ua(e.value),s=e.type;if(t!=null)s==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(s==="submit"||s==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?$0(n,e.type,t):e.hasOwnProperty("defaultValue")&&$0(n,e.type,ua(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function uA(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function $0(n,e,t){(e!=="number"||Fg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Jd=Array.isArray;function Xc(n,e,t,s){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&s&&(n[t].defaultSelected=!0)}else{for(t=""+ua(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,s&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function H0(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function dA(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(z(92));if(Jd(t)){if(1<t.length)throw Error(z(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ua(t)}}function dC(n,e){var t=ua(e.value),s=ua(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),s!=null&&(n.defaultValue=""+s)}function hA(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function hC(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function U0(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?hC(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var fm,fC=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,s,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,s,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(fm=fm||document.createElement("div"),fm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fm.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Mh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var bh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pR=["Webkit","ms","Moz","O"];Object.keys(bh).forEach(function(n){pR.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),bh[e]=bh[n]})});function pC(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||bh.hasOwnProperty(n)&&bh[n]?(""+e).trim():e+"px"}function mC(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var s=t.indexOf("--")===0,r=pC(t,e[t],s);t==="float"&&(t="cssFloat"),s?n.setProperty(t,r):n[t]=r}}var mR=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function V0(n,e){if(e){if(mR[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function W0(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G0=null;function Tb(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var q0=null,Kc=null,Yc=null;function fA(n){if(n=zp(n)){if(typeof q0!="function")throw Error(z(280));var e=n.stateNode;e&&(e=Qy(e),q0(n.stateNode,n.type,e))}}function gC(n){Kc?Yc?Yc.push(n):Yc=[n]:Kc=n}function yC(){if(Kc){var n=Kc,e=Yc;if(Yc=Kc=null,fA(n),e)for(n=0;n<e.length;n++)fA(e[n])}}function vC(n,e){return n(e)}function wC(){}var Gv=!1;function xC(n,e,t){if(Gv)return n(e,t);Gv=!0;try{return vC(n,e,t)}finally{Gv=!1,(Kc!==null||Yc!==null)&&(wC(),yC())}}function Ih(n,e){var t=n.stateNode;if(t===null)return null;var s=Qy(t);if(s===null)return null;t=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(z(231,e,typeof t));return t}var X0=!1;if(zi)try{var jd={};Object.defineProperty(jd,"passive",{get:function(){X0=!0}}),window.addEventListener("test",jd,jd),window.removeEventListener("test",jd,jd)}catch{X0=!1}function gR(n,e,t,s,r,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var Ah=!1,Bg=null,zg=!1,K0=null,yR={onError:function(n){Ah=!0,Bg=n}};function vR(n,e,t,s,r,i,o,a,l){Ah=!1,Bg=null,gR.apply(yR,arguments)}function wR(n,e,t,s,r,i,o,a,l){if(vR.apply(this,arguments),Ah){if(Ah){var u=Bg;Ah=!1,Bg=null}else throw Error(z(198));zg||(zg=!0,K0=u)}}function hc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function bC(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function pA(n){if(hc(n)!==n)throw Error(z(188))}function xR(n){var e=n.alternate;if(!e){if(e=hc(n),e===null)throw Error(z(188));return e!==n?null:n}for(var t=n,s=e;;){var r=t.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){t=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===t)return pA(r),n;if(i===s)return pA(r),e;i=i.sibling}throw Error(z(188))}if(t.return!==s.return)t=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,s=i;break}if(a===s){o=!0,s=r,t=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===t){o=!0,t=i,s=r;break}if(a===s){o=!0,s=i,t=r;break}a=a.sibling}if(!o)throw Error(z(189))}}if(t.alternate!==s)throw Error(z(190))}if(t.tag!==3)throw Error(z(188));return t.stateNode.current===t?n:e}function AC(n){return n=xR(n),n!==null?SC(n):null}function SC(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=SC(n);if(e!==null)return e;n=n.sibling}return null}var EC=is.unstable_scheduleCallback,mA=is.unstable_cancelCallback,bR=is.unstable_shouldYield,AR=is.unstable_requestPaint,nt=is.unstable_now,SR=is.unstable_getCurrentPriorityLevel,kb=is.unstable_ImmediatePriority,CC=is.unstable_UserBlockingPriority,$g=is.unstable_NormalPriority,ER=is.unstable_LowPriority,_C=is.unstable_IdlePriority,qy=null,zr=null;function CR(n){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(qy,n,void 0,(n.current.flags&128)===128)}catch{}}var qs=Math.clz32?Math.clz32:kR,_R=Math.log,TR=Math.LN2;function kR(n){return n>>>=0,n===0?32:31-(_R(n)/TR|0)|0}var pm=64,mm=4194304;function Zd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Hg(n,e){var t=n.pendingLanes;if(t===0)return 0;var s=0,r=n.suspendedLanes,i=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?s=Zd(a):(i&=o,i!==0&&(s=Zd(i)))}else o=t&~r,o!==0?s=Zd(o):i!==0&&(s=Zd(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=s;0<e;)t=31-qs(e),r=1<<t,s|=n[t],e&=~r;return s}function PR(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NR(n,e){for(var t=n.suspendedLanes,s=n.pingedLanes,r=n.expirationTimes,i=n.pendingLanes;0<i;){var o=31-qs(i),a=1<<o,l=r[o];l===-1?(!(a&t)||a&s)&&(r[o]=PR(a,e)):l<=e&&(n.expiredLanes|=a),i&=~a}}function Y0(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function TC(){var n=pm;return pm<<=1,!(pm&4194240)&&(pm=64),n}function qv(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Fp(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-qs(e),n[e]=t}function RR(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var s=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-qs(t),i=1<<r;e[r]=0,s[r]=-1,n[r]=-1,t&=~i}}function Pb(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var s=31-qs(t),r=1<<s;r&e|n[s]&e&&(n[s]|=e),t&=~r}}var _e=0;function kC(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var PC,Nb,NC,RC,LC,Q0=!1,gm=[],ta=null,na=null,sa=null,Dh=new Map,Oh=new Map,io=[],LR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gA(n,e){switch(n){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":Dh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oh.delete(e.pointerId)}}function Fd(n,e,t,s,r,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=zp(e),e!==null&&Nb(e)),n):(n.eventSystemFlags|=s,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function MR(n,e,t,s,r){switch(e){case"focusin":return ta=Fd(ta,n,e,t,s,r),!0;case"dragenter":return na=Fd(na,n,e,t,s,r),!0;case"mouseover":return sa=Fd(sa,n,e,t,s,r),!0;case"pointerover":var i=r.pointerId;return Dh.set(i,Fd(Dh.get(i)||null,n,e,t,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Oh.set(i,Fd(Oh.get(i)||null,n,e,t,s,r)),!0}return!1}function MC(n){var e=Ma(n.target);if(e!==null){var t=hc(e);if(t!==null){if(e=t.tag,e===13){if(e=bC(t),e!==null){n.blockedOn=e,LC(n.priority,function(){NC(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Vm(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=J0(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var s=new t.constructor(t.type,t);G0=s,t.target.dispatchEvent(s),G0=null}else return e=zp(t),e!==null&&Nb(e),n.blockedOn=t,!1;e.shift()}return!0}function yA(n,e,t){Vm(n)&&t.delete(e)}function IR(){Q0=!1,ta!==null&&Vm(ta)&&(ta=null),na!==null&&Vm(na)&&(na=null),sa!==null&&Vm(sa)&&(sa=null),Dh.forEach(yA),Oh.forEach(yA)}function Bd(n,e){n.blockedOn===e&&(n.blockedOn=null,Q0||(Q0=!0,is.unstable_scheduleCallback(is.unstable_NormalPriority,IR)))}function jh(n){function e(r){return Bd(r,n)}if(0<gm.length){Bd(gm[0],n);for(var t=1;t<gm.length;t++){var s=gm[t];s.blockedOn===n&&(s.blockedOn=null)}}for(ta!==null&&Bd(ta,n),na!==null&&Bd(na,n),sa!==null&&Bd(sa,n),Dh.forEach(e),Oh.forEach(e),t=0;t<io.length;t++)s=io[t],s.blockedOn===n&&(s.blockedOn=null);for(;0<io.length&&(t=io[0],t.blockedOn===null);)MC(t),t.blockedOn===null&&io.shift()}var Qc=Xi.ReactCurrentBatchConfig,Ug=!0;function DR(n,e,t,s){var r=_e,i=Qc.transition;Qc.transition=null;try{_e=1,Rb(n,e,t,s)}finally{_e=r,Qc.transition=i}}function OR(n,e,t,s){var r=_e,i=Qc.transition;Qc.transition=null;try{_e=4,Rb(n,e,t,s)}finally{_e=r,Qc.transition=i}}function Rb(n,e,t,s){if(Ug){var r=J0(n,e,t,s);if(r===null)s0(n,e,s,Vg,t),gA(n,s);else if(MR(r,n,e,t,s))s.stopPropagation();else if(gA(n,s),e&4&&-1<LR.indexOf(n)){for(;r!==null;){var i=zp(r);if(i!==null&&PC(i),i=J0(n,e,t,s),i===null&&s0(n,e,s,Vg,t),i===r)break;r=i}r!==null&&s.stopPropagation()}else s0(n,e,s,null,t)}}var Vg=null;function J0(n,e,t,s){if(Vg=null,n=Tb(s),n=Ma(n),n!==null)if(e=hc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=bC(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Vg=n,null}function IC(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SR()){case kb:return 1;case CC:return 4;case $g:case ER:return 16;case _C:return 536870912;default:return 16}default:return 16}}var Jo=null,Lb=null,Wm=null;function DC(){if(Wm)return Wm;var n,e=Lb,t=e.length,s,r="value"in Jo?Jo.value:Jo.textContent,i=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(s=1;s<=o&&e[t-s]===r[i-s];s++);return Wm=r.slice(n,1<s?1-s:void 0)}function Gm(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function ym(){return!0}function vA(){return!1}function as(n){function e(t,s,r,i,o){this._reactName=t,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ym:vA,this.isPropagationStopped=vA,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ym)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ym)},persist:function(){},isPersistent:ym}),e}var Td={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mb=as(Td),Bp=Ke({},Td,{view:0,detail:0}),jR=as(Bp),Xv,Kv,zd,Xy=Ke({},Bp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ib,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==zd&&(zd&&n.type==="mousemove"?(Xv=n.screenX-zd.screenX,Kv=n.screenY-zd.screenY):Kv=Xv=0,zd=n),Xv)},movementY:function(n){return"movementY"in n?n.movementY:Kv}}),wA=as(Xy),FR=Ke({},Xy,{dataTransfer:0}),BR=as(FR),zR=Ke({},Bp,{relatedTarget:0}),Yv=as(zR),$R=Ke({},Td,{animationName:0,elapsedTime:0,pseudoElement:0}),HR=as($R),UR=Ke({},Td,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),VR=as(UR),WR=Ke({},Td,{data:0}),xA=as(WR),GR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KR(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=XR[n])?!!e[n]:!1}function Ib(){return KR}var YR=Ke({},Bp,{key:function(n){if(n.key){var e=GR[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Gm(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qR[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ib,charCode:function(n){return n.type==="keypress"?Gm(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Gm(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),QR=as(YR),JR=Ke({},Xy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bA=as(JR),ZR=Ke({},Bp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ib}),eL=as(ZR),tL=Ke({},Td,{propertyName:0,elapsedTime:0,pseudoElement:0}),nL=as(tL),sL=Ke({},Xy,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),rL=as(sL),iL=[9,13,27,32],Db=zi&&"CompositionEvent"in window,Sh=null;zi&&"documentMode"in document&&(Sh=document.documentMode);var oL=zi&&"TextEvent"in window&&!Sh,OC=zi&&(!Db||Sh&&8<Sh&&11>=Sh),AA=" ",SA=!1;function jC(n,e){switch(n){case"keyup":return iL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FC(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ic=!1;function aL(n,e){switch(n){case"compositionend":return FC(e);case"keypress":return e.which!==32?null:(SA=!0,AA);case"textInput":return n=e.data,n===AA&&SA?null:n;default:return null}}function lL(n,e){if(Ic)return n==="compositionend"||!Db&&jC(n,e)?(n=DC(),Wm=Lb=Jo=null,Ic=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OC&&e.locale!=="ko"?null:e.data;default:return null}}var cL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!cL[n.type]:e==="textarea"}function BC(n,e,t,s){gC(s),e=Wg(e,"onChange"),0<e.length&&(t=new Mb("onChange","change",null,t,s),n.push({event:t,listeners:e}))}var Eh=null,Fh=null;function uL(n){YC(n,0)}function Ky(n){var e=jc(n);if(cC(e))return n}function dL(n,e){if(n==="change")return e}var zC=!1;if(zi){var Qv;if(zi){var Jv="oninput"in document;if(!Jv){var CA=document.createElement("div");CA.setAttribute("oninput","return;"),Jv=typeof CA.oninput=="function"}Qv=Jv}else Qv=!1;zC=Qv&&(!document.documentMode||9<document.documentMode)}function _A(){Eh&&(Eh.detachEvent("onpropertychange",$C),Fh=Eh=null)}function $C(n){if(n.propertyName==="value"&&Ky(Fh)){var e=[];BC(e,Fh,n,Tb(n)),xC(uL,e)}}function hL(n,e,t){n==="focusin"?(_A(),Eh=e,Fh=t,Eh.attachEvent("onpropertychange",$C)):n==="focusout"&&_A()}function fL(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ky(Fh)}function pL(n,e){if(n==="click")return Ky(e)}function mL(n,e){if(n==="input"||n==="change")return Ky(e)}function gL(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ks=typeof Object.is=="function"?Object.is:gL;function Bh(n,e){if(Ks(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(s=0;s<t.length;s++){var r=t[s];if(!I0.call(e,r)||!Ks(n[r],e[r]))return!1}return!0}function TA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function kA(n,e){var t=TA(n);n=0;for(var s;t;){if(t.nodeType===3){if(s=n+t.textContent.length,n<=e&&s>=e)return{node:t,offset:e-n};n=s}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=TA(t)}}function HC(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?HC(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function UC(){for(var n=window,e=Fg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Fg(n.document)}return e}function Ob(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function yL(n){var e=UC(),t=n.focusedElem,s=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&HC(t.ownerDocument.documentElement,t)){if(s!==null&&Ob(t)){if(e=s.start,n=s.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!n.extend&&i>s&&(r=s,s=i,i=r),r=kA(t,i);var o=kA(t,s);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),i>s?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var vL=zi&&"documentMode"in document&&11>=document.documentMode,Dc=null,Z0=null,Ch=null,ew=!1;function PA(n,e,t){var s=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;ew||Dc==null||Dc!==Fg(s)||(s=Dc,"selectionStart"in s&&Ob(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ch&&Bh(Ch,s)||(Ch=s,s=Wg(Z0,"onSelect"),0<s.length&&(e=new Mb("onSelect","select",null,e,t),n.push({event:e,listeners:s}),e.target=Dc)))}function vm(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Oc={animationend:vm("Animation","AnimationEnd"),animationiteration:vm("Animation","AnimationIteration"),animationstart:vm("Animation","AnimationStart"),transitionend:vm("Transition","TransitionEnd")},Zv={},VC={};zi&&(VC=document.createElement("div").style,"AnimationEvent"in window||(delete Oc.animationend.animation,delete Oc.animationiteration.animation,delete Oc.animationstart.animation),"TransitionEvent"in window||delete Oc.transitionend.transition);function Yy(n){if(Zv[n])return Zv[n];if(!Oc[n])return n;var e=Oc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in VC)return Zv[n]=e[t];return n}var WC=Yy("animationend"),GC=Yy("animationiteration"),qC=Yy("animationstart"),XC=Yy("transitionend"),KC=new Map,NA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ba(n,e){KC.set(n,e),dc(e,[n])}for(var e0=0;e0<NA.length;e0++){var t0=NA[e0],wL=t0.toLowerCase(),xL=t0[0].toUpperCase()+t0.slice(1);ba(wL,"on"+xL)}ba(WC,"onAnimationEnd");ba(GC,"onAnimationIteration");ba(qC,"onAnimationStart");ba("dblclick","onDoubleClick");ba("focusin","onFocus");ba("focusout","onBlur");ba(XC,"onTransitionEnd");yd("onMouseEnter",["mouseout","mouseover"]);yd("onMouseLeave",["mouseout","mouseover"]);yd("onPointerEnter",["pointerout","pointerover"]);yd("onPointerLeave",["pointerout","pointerover"]);dc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dc("onBeforeInput",["compositionend","keypress","textInput","paste"]);dc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bL=new Set("cancel close invalid load scroll toggle".split(" ").concat(eh));function RA(n,e,t){var s=n.type||"unknown-event";n.currentTarget=t,wR(s,e,void 0,n),n.currentTarget=null}function YC(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var s=n[t],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break e;RA(r,a,u),i=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break e;RA(r,a,u),i=l}}}if(zg)throw n=K0,zg=!1,K0=null,n}function Fe(n,e){var t=e[iw];t===void 0&&(t=e[iw]=new Set);var s=n+"__bubble";t.has(s)||(QC(e,n,2,!1),t.add(s))}function n0(n,e,t){var s=0;e&&(s|=4),QC(t,n,s,e)}var wm="_reactListening"+Math.random().toString(36).slice(2);function zh(n){if(!n[wm]){n[wm]=!0,rC.forEach(function(t){t!=="selectionchange"&&(bL.has(t)||n0(t,!1,n),n0(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[wm]||(e[wm]=!0,n0("selectionchange",!1,e))}}function QC(n,e,t,s){switch(IC(e)){case 1:var r=DR;break;case 4:r=OR;break;default:r=Rb}t=r.bind(null,e,t,n),r=void 0,!X0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function s0(n,e,t,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ma(a),o===null)return;if(l=o.tag,l===5||l===6){s=i=o;continue e}a=a.parentNode}}s=s.return}xC(function(){var u=i,d=Tb(t),h=[];e:{var f=KC.get(n);if(f!==void 0){var m=Mb,g=n;switch(n){case"keypress":if(Gm(t)===0)break e;case"keydown":case"keyup":m=QR;break;case"focusin":g="focus",m=Yv;break;case"focusout":g="blur",m=Yv;break;case"beforeblur":case"afterblur":m=Yv;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=wA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=BR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=eL;break;case WC:case GC:case qC:m=HR;break;case XC:m=nL;break;case"scroll":m=jR;break;case"wheel":m=rL;break;case"copy":case"cut":case"paste":m=VR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bA}var p=(e&4)!==0,x=!p&&n==="scroll",v=p?f!==null?f+"Capture":null:f;p=[];for(var w=u,b;w!==null;){b=w;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,v!==null&&(C=Ih(w,v),C!=null&&p.push($h(w,C,b)))),x)break;w=w.return}0<p.length&&(f=new m(f,g,null,t,d),h.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",f&&t!==G0&&(g=t.relatedTarget||t.fromElement)&&(Ma(g)||g[$i]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=u,g=g?Ma(g):null,g!==null&&(x=hc(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=wA,C="onMouseLeave",v="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(p=bA,C="onPointerLeave",v="onPointerEnter",w="pointer"),x=m==null?f:jc(m),b=g==null?f:jc(g),f=new p(C,w+"leave",m,t,d),f.target=x,f.relatedTarget=b,C=null,Ma(d)===u&&(p=new p(v,w+"enter",g,t,d),p.target=b,p.relatedTarget=x,C=p),x=C,m&&g)t:{for(p=m,v=g,w=0,b=p;b;b=Sc(b))w++;for(b=0,C=v;C;C=Sc(C))b++;for(;0<w-b;)p=Sc(p),w--;for(;0<b-w;)v=Sc(v),b--;for(;w--;){if(p===v||v!==null&&p===v.alternate)break t;p=Sc(p),v=Sc(v)}p=null}else p=null;m!==null&&LA(h,f,m,p,!1),g!==null&&x!==null&&LA(h,x,g,p,!0)}}e:{if(f=u?jc(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=dL;else if(EA(f))if(zC)_=mL;else{_=fL;var k=hL}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=pL);if(_&&(_=_(n,u))){BC(h,_,t,d);break e}k&&k(n,f,u),n==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&$0(f,"number",f.value)}switch(k=u?jc(u):window,n){case"focusin":(EA(k)||k.contentEditable==="true")&&(Dc=k,Z0=u,Ch=null);break;case"focusout":Ch=Z0=Dc=null;break;case"mousedown":ew=!0;break;case"contextmenu":case"mouseup":case"dragend":ew=!1,PA(h,t,d);break;case"selectionchange":if(vL)break;case"keydown":case"keyup":PA(h,t,d)}var P;if(Db)e:{switch(n){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ic?jC(n,t)&&(N="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(N="onCompositionStart");N&&(OC&&t.locale!=="ko"&&(Ic||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ic&&(P=DC()):(Jo=d,Lb="value"in Jo?Jo.value:Jo.textContent,Ic=!0)),k=Wg(u,N),0<k.length&&(N=new xA(N,n,null,t,d),h.push({event:N,listeners:k}),P?N.data=P:(P=FC(t),P!==null&&(N.data=P)))),(P=oL?aL(n,t):lL(n,t))&&(u=Wg(u,"onBeforeInput"),0<u.length&&(d=new xA("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=P))}YC(h,e)})}function $h(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Wg(n,e){for(var t=e+"Capture",s=[];n!==null;){var r=n,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Ih(n,t),i!=null&&s.unshift($h(n,i,r)),i=Ih(n,e),i!=null&&s.push($h(n,i,r))),n=n.return}return s}function Sc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function LA(n,e,t,s,r){for(var i=e._reactName,o=[];t!==null&&t!==s;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&u!==null&&(a=u,r?(l=Ih(t,i),l!=null&&o.unshift($h(t,l,a))):r||(l=Ih(t,i),l!=null&&o.push($h(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var AL=/\r\n?/g,SL=/\u0000|\uFFFD/g;function MA(n){return(typeof n=="string"?n:""+n).replace(AL,`
`).replace(SL,"")}function xm(n,e,t){if(e=MA(e),MA(n)!==e&&t)throw Error(z(425))}function Gg(){}var tw=null,nw=null;function sw(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rw=typeof setTimeout=="function"?setTimeout:void 0,EL=typeof clearTimeout=="function"?clearTimeout:void 0,IA=typeof Promise=="function"?Promise:void 0,CL=typeof queueMicrotask=="function"?queueMicrotask:typeof IA<"u"?function(n){return IA.resolve(null).then(n).catch(_L)}:rw;function _L(n){setTimeout(function(){throw n})}function r0(n,e){var t=e,s=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(s===0){n.removeChild(r),jh(e);return}s--}else t!=="$"&&t!=="$?"&&t!=="$!"||s++;t=r}while(t);jh(e)}function ra(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function DA(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var kd=Math.random().toString(36).slice(2),Fr="__reactFiber$"+kd,Hh="__reactProps$"+kd,$i="__reactContainer$"+kd,iw="__reactEvents$"+kd,TL="__reactListeners$"+kd,kL="__reactHandles$"+kd;function Ma(n){var e=n[Fr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[$i]||t[Fr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=DA(n);n!==null;){if(t=n[Fr])return t;n=DA(n)}return e}n=t,t=n.parentNode}return null}function zp(n){return n=n[Fr]||n[$i],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function jc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(z(33))}function Qy(n){return n[Hh]||null}var ow=[],Fc=-1;function Aa(n){return{current:n}}function Be(n){0>Fc||(n.current=ow[Fc],ow[Fc]=null,Fc--)}function Ie(n,e){Fc++,ow[Fc]=n.current,n.current=e}var da={},Jt=Aa(da),Tn=Aa(!1),ec=da;function vd(n,e){var t=n.type.contextTypes;if(!t)return da;var s=n.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in t)r[i]=e[i];return s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function kn(n){return n=n.childContextTypes,n!=null}function qg(){Be(Tn),Be(Jt)}function OA(n,e,t){if(Jt.current!==da)throw Error(z(168));Ie(Jt,e),Ie(Tn,t)}function JC(n,e,t){var s=n.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return t;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(z(108,hR(n)||"Unknown",r));return Ke({},t,s)}function Xg(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||da,ec=Jt.current,Ie(Jt,n),Ie(Tn,Tn.current),!0}function jA(n,e,t){var s=n.stateNode;if(!s)throw Error(z(169));t?(n=JC(n,e,ec),s.__reactInternalMemoizedMergedChildContext=n,Be(Tn),Be(Jt),Ie(Jt,n)):Be(Tn),Ie(Tn,t)}var si=null,Jy=!1,i0=!1;function ZC(n){si===null?si=[n]:si.push(n)}function PL(n){Jy=!0,ZC(n)}function Sa(){if(!i0&&si!==null){i0=!0;var n=0,e=_e;try{var t=si;for(_e=1;n<t.length;n++){var s=t[n];do s=s(!0);while(s!==null)}si=null,Jy=!1}catch(r){throw si!==null&&(si=si.slice(n+1)),EC(kb,Sa),r}finally{_e=e,i0=!1}}return null}var Bc=[],zc=0,Kg=null,Yg=0,vs=[],ws=0,tc=null,Di=1,Oi="";function _a(n,e){Bc[zc++]=Yg,Bc[zc++]=Kg,Kg=n,Yg=e}function e_(n,e,t){vs[ws++]=Di,vs[ws++]=Oi,vs[ws++]=tc,tc=n;var s=Di;n=Oi;var r=32-qs(s)-1;s&=~(1<<r),t+=1;var i=32-qs(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,Di=1<<32-qs(e)+r|t<<r|s,Oi=i+n}else Di=1<<i|t<<r|s,Oi=n}function jb(n){n.return!==null&&(_a(n,1),e_(n,1,0))}function Fb(n){for(;n===Kg;)Kg=Bc[--zc],Bc[zc]=null,Yg=Bc[--zc],Bc[zc]=null;for(;n===tc;)tc=vs[--ws],vs[ws]=null,Oi=vs[--ws],vs[ws]=null,Di=vs[--ws],vs[ws]=null}var ns=null,ts=null,Ve=!1,Ws=null;function t_(n,e){var t=bs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function FA(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ns=n,ts=ra(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ns=n,ts=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=tc!==null?{id:Di,overflow:Oi}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=bs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ns=n,ts=null,!0):!1;default:return!1}}function aw(n){return(n.mode&1)!==0&&(n.flags&128)===0}function lw(n){if(Ve){var e=ts;if(e){var t=e;if(!FA(n,e)){if(aw(n))throw Error(z(418));e=ra(t.nextSibling);var s=ns;e&&FA(n,e)?t_(s,t):(n.flags=n.flags&-4097|2,Ve=!1,ns=n)}}else{if(aw(n))throw Error(z(418));n.flags=n.flags&-4097|2,Ve=!1,ns=n}}}function BA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ns=n}function bm(n){if(n!==ns)return!1;if(!Ve)return BA(n),Ve=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!sw(n.type,n.memoizedProps)),e&&(e=ts)){if(aw(n))throw n_(),Error(z(418));for(;e;)t_(n,e),e=ra(e.nextSibling)}if(BA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(z(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ts=ra(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ts=null}}else ts=ns?ra(n.stateNode.nextSibling):null;return!0}function n_(){for(var n=ts;n;)n=ra(n.nextSibling)}function wd(){ts=ns=null,Ve=!1}function Bb(n){Ws===null?Ws=[n]:Ws.push(n)}var NL=Xi.ReactCurrentBatchConfig;function $d(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(z(309));var s=t.stateNode}if(!s)throw Error(z(147,n));var r=s,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof n!="string")throw Error(z(284));if(!t._owner)throw Error(z(290,n))}return n}function Am(n,e){throw n=Object.prototype.toString.call(e),Error(z(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function zA(n){var e=n._init;return e(n._payload)}function s_(n){function e(v,w){if(n){var b=v.deletions;b===null?(v.deletions=[w],v.flags|=16):b.push(w)}}function t(v,w){if(!n)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function s(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function r(v,w){return v=la(v,w),v.index=0,v.sibling=null,v}function i(v,w,b){return v.index=b,n?(b=v.alternate,b!==null?(b=b.index,b<w?(v.flags|=2,w):b):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,w,b,C){return w===null||w.tag!==6?(w=h0(b,v.mode,C),w.return=v,w):(w=r(w,b),w.return=v,w)}function l(v,w,b,C){var _=b.type;return _===Mc?d(v,w,b.props.children,C,b.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===so&&zA(_)===w.type)?(C=r(w,b.props),C.ref=$d(v,w,b),C.return=v,C):(C=Zm(b.type,b.key,b.props,null,v.mode,C),C.ref=$d(v,w,b),C.return=v,C)}function u(v,w,b,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=f0(b,v.mode,C),w.return=v,w):(w=r(w,b.children||[]),w.return=v,w)}function d(v,w,b,C,_){return w===null||w.tag!==7?(w=Ql(b,v.mode,C,_),w.return=v,w):(w=r(w,b),w.return=v,w)}function h(v,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=h0(""+w,v.mode,b),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case dm:return b=Zm(w.type,w.key,w.props,null,v.mode,b),b.ref=$d(v,null,w),b.return=v,b;case Lc:return w=f0(w,v.mode,b),w.return=v,w;case so:var C=w._init;return h(v,C(w._payload),b)}if(Jd(w)||Od(w))return w=Ql(w,v.mode,b,null),w.return=v,w;Am(v,w)}return null}function f(v,w,b,C){var _=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:a(v,w,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case dm:return b.key===_?l(v,w,b,C):null;case Lc:return b.key===_?u(v,w,b,C):null;case so:return _=b._init,f(v,w,_(b._payload),C)}if(Jd(b)||Od(b))return _!==null?null:d(v,w,b,C,null);Am(v,b)}return null}function m(v,w,b,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(b)||null,a(w,v,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case dm:return v=v.get(C.key===null?b:C.key)||null,l(w,v,C,_);case Lc:return v=v.get(C.key===null?b:C.key)||null,u(w,v,C,_);case so:var k=C._init;return m(v,w,b,k(C._payload),_)}if(Jd(C)||Od(C))return v=v.get(b)||null,d(w,v,C,_,null);Am(w,C)}return null}function g(v,w,b,C){for(var _=null,k=null,P=w,N=w=0,L=null;P!==null&&N<b.length;N++){P.index>N?(L=P,P=null):L=P.sibling;var M=f(v,P,b[N],C);if(M===null){P===null&&(P=L);break}n&&P&&M.alternate===null&&e(v,P),w=i(M,w,N),k===null?_=M:k.sibling=M,k=M,P=L}if(N===b.length)return t(v,P),Ve&&_a(v,N),_;if(P===null){for(;N<b.length;N++)P=h(v,b[N],C),P!==null&&(w=i(P,w,N),k===null?_=P:k.sibling=P,k=P);return Ve&&_a(v,N),_}for(P=s(v,P);N<b.length;N++)L=m(P,v,N,b[N],C),L!==null&&(n&&L.alternate!==null&&P.delete(L.key===null?N:L.key),w=i(L,w,N),k===null?_=L:k.sibling=L,k=L);return n&&P.forEach(function(D){return e(v,D)}),Ve&&_a(v,N),_}function p(v,w,b,C){var _=Od(b);if(typeof _!="function")throw Error(z(150));if(b=_.call(b),b==null)throw Error(z(151));for(var k=_=null,P=w,N=w=0,L=null,M=b.next();P!==null&&!M.done;N++,M=b.next()){P.index>N?(L=P,P=null):L=P.sibling;var D=f(v,P,M.value,C);if(D===null){P===null&&(P=L);break}n&&P&&D.alternate===null&&e(v,P),w=i(D,w,N),k===null?_=D:k.sibling=D,k=D,P=L}if(M.done)return t(v,P),Ve&&_a(v,N),_;if(P===null){for(;!M.done;N++,M=b.next())M=h(v,M.value,C),M!==null&&(w=i(M,w,N),k===null?_=M:k.sibling=M,k=M);return Ve&&_a(v,N),_}for(P=s(v,P);!M.done;N++,M=b.next())M=m(P,v,N,M.value,C),M!==null&&(n&&M.alternate!==null&&P.delete(M.key===null?N:M.key),w=i(M,w,N),k===null?_=M:k.sibling=M,k=M);return n&&P.forEach(function(F){return e(v,F)}),Ve&&_a(v,N),_}function x(v,w,b,C){if(typeof b=="object"&&b!==null&&b.type===Mc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case dm:e:{for(var _=b.key,k=w;k!==null;){if(k.key===_){if(_=b.type,_===Mc){if(k.tag===7){t(v,k.sibling),w=r(k,b.props.children),w.return=v,v=w;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===so&&zA(_)===k.type){t(v,k.sibling),w=r(k,b.props),w.ref=$d(v,k,b),w.return=v,v=w;break e}t(v,k);break}else e(v,k);k=k.sibling}b.type===Mc?(w=Ql(b.props.children,v.mode,C,b.key),w.return=v,v=w):(C=Zm(b.type,b.key,b.props,null,v.mode,C),C.ref=$d(v,w,b),C.return=v,v=C)}return o(v);case Lc:e:{for(k=b.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){t(v,w.sibling),w=r(w,b.children||[]),w.return=v,v=w;break e}else{t(v,w);break}else e(v,w);w=w.sibling}w=f0(b,v.mode,C),w.return=v,v=w}return o(v);case so:return k=b._init,x(v,w,k(b._payload),C)}if(Jd(b))return g(v,w,b,C);if(Od(b))return p(v,w,b,C);Am(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(t(v,w.sibling),w=r(w,b),w.return=v,v=w):(t(v,w),w=h0(b,v.mode,C),w.return=v,v=w),o(v)):t(v,w)}return x}var xd=s_(!0),r_=s_(!1),Qg=Aa(null),Jg=null,$c=null,zb=null;function $b(){zb=$c=Jg=null}function Hb(n){var e=Qg.current;Be(Qg),n._currentValue=e}function cw(n,e,t){for(;n!==null;){var s=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),n===t)break;n=n.return}}function Jc(n,e){Jg=n,zb=$c=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(_n=!0),n.firstContext=null)}function Cs(n){var e=n._currentValue;if(zb!==n)if(n={context:n,memoizedValue:e,next:null},$c===null){if(Jg===null)throw Error(z(308));$c=n,Jg.dependencies={lanes:0,firstContext:n}}else $c=$c.next=n;return e}var Ia=null;function Ub(n){Ia===null?Ia=[n]:Ia.push(n)}function i_(n,e,t,s){var r=e.interleaved;return r===null?(t.next=t,Ub(e)):(t.next=r.next,r.next=t),e.interleaved=t,Hi(n,s)}function Hi(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ro=!1;function Vb(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o_(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ji(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ia(n,e,t){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,ye&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,Hi(n,t)}return r=s.interleaved,r===null?(e.next=e,Ub(s)):(e.next=r.next,r.next=e),s.interleaved=e,Hi(n,t)}function qm(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,Pb(n,t)}}function $A(n,e){var t=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,t===s)){var r=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?r=i=o:i=i.next=o,t=t.next}while(t!==null);i===null?r=i=e:i=i.next=e}else r=i=e;t={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Zg(n,e,t,s){var r=n.updateQueue;ro=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=r.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,p=a;switch(f=e,m=t,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=Ke({},h,f);break e;case 2:ro=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(d===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);sc|=o,n.lanes=o,n.memoizedState=h}}function HA(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var s=n[e],r=s.callback;if(r!==null){if(s.callback=null,s=t,typeof r!="function")throw Error(z(191,r));r.call(s)}}}var $p={},$r=Aa($p),Uh=Aa($p),Vh=Aa($p);function Da(n){if(n===$p)throw Error(z(174));return n}function Wb(n,e){switch(Ie(Vh,e),Ie(Uh,n),Ie($r,$p),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:U0(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=U0(e,n)}Be($r),Ie($r,e)}function bd(){Be($r),Be(Uh),Be(Vh)}function a_(n){Da(Vh.current);var e=Da($r.current),t=U0(e,n.type);e!==t&&(Ie(Uh,n),Ie($r,t))}function Gb(n){Uh.current===n&&(Be($r),Be(Uh))}var qe=Aa(0);function ey(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var o0=[];function qb(){for(var n=0;n<o0.length;n++)o0[n]._workInProgressVersionPrimary=null;o0.length=0}var Xm=Xi.ReactCurrentDispatcher,a0=Xi.ReactCurrentBatchConfig,nc=0,Xe=null,gt=null,kt=null,ty=!1,_h=!1,Wh=0,RL=0;function Ht(){throw Error(z(321))}function Xb(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ks(n[t],e[t]))return!1;return!0}function Kb(n,e,t,s,r,i){if(nc=i,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xm.current=n===null||n.memoizedState===null?DL:OL,n=t(s,r),_h){i=0;do{if(_h=!1,Wh=0,25<=i)throw Error(z(301));i+=1,kt=gt=null,e.updateQueue=null,Xm.current=jL,n=t(s,r)}while(_h)}if(Xm.current=ny,e=gt!==null&&gt.next!==null,nc=0,kt=gt=Xe=null,ty=!1,e)throw Error(z(300));return n}function Yb(){var n=Wh!==0;return Wh=0,n}function gr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Xe.memoizedState=kt=n:kt=kt.next=n,kt}function _s(){if(gt===null){var n=Xe.alternate;n=n!==null?n.memoizedState:null}else n=gt.next;var e=kt===null?Xe.memoizedState:kt.next;if(e!==null)kt=e,gt=n;else{if(n===null)throw Error(z(310));gt=n,n={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},kt===null?Xe.memoizedState=kt=n:kt=kt.next=n}return kt}function Gh(n,e){return typeof e=="function"?e(n):e}function l0(n){var e=_s(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var s=gt,r=s.baseQueue,i=t.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,t.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((nc&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:n(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=s):l=l.next=h,Xe.lanes|=d,sc|=d}u=u.next}while(u!==null&&u!==i);l===null?o=s:l.next=a,Ks(s,e.memoizedState)||(_n=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,t.lastRenderedState=s}if(n=t.interleaved,n!==null){r=n;do i=r.lane,Xe.lanes|=i,sc|=i,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function c0(n){var e=_s(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var s=t.dispatch,r=t.pending,i=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do i=n(i,o.action),o=o.next;while(o!==r);Ks(i,e.memoizedState)||(_n=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,s]}function l_(){}function c_(n,e){var t=Xe,s=_s(),r=e(),i=!Ks(s.memoizedState,r);if(i&&(s.memoizedState=r,_n=!0),s=s.queue,Qb(h_.bind(null,t,s,n),[n]),s.getSnapshot!==e||i||kt!==null&&kt.memoizedState.tag&1){if(t.flags|=2048,qh(9,d_.bind(null,t,s,r,e),void 0,null),Pt===null)throw Error(z(349));nc&30||u_(t,e,r)}return r}function u_(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function d_(n,e,t,s){e.value=t,e.getSnapshot=s,f_(e)&&p_(n)}function h_(n,e,t){return t(function(){f_(e)&&p_(n)})}function f_(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ks(n,t)}catch{return!0}}function p_(n){var e=Hi(n,1);e!==null&&Xs(e,n,1,-1)}function UA(n){var e=gr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gh,lastRenderedState:n},e.queue=n,n=n.dispatch=IL.bind(null,Xe,n),[e.memoizedState,n]}function qh(n,e,t,s){return n={tag:n,create:e,destroy:t,deps:s,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(s=t.next,t.next=n,n.next=s,e.lastEffect=n)),n}function m_(){return _s().memoizedState}function Km(n,e,t,s){var r=gr();Xe.flags|=n,r.memoizedState=qh(1|e,t,void 0,s===void 0?null:s)}function Zy(n,e,t,s){var r=_s();s=s===void 0?null:s;var i=void 0;if(gt!==null){var o=gt.memoizedState;if(i=o.destroy,s!==null&&Xb(s,o.deps)){r.memoizedState=qh(e,t,i,s);return}}Xe.flags|=n,r.memoizedState=qh(1|e,t,i,s)}function VA(n,e){return Km(8390656,8,n,e)}function Qb(n,e){return Zy(2048,8,n,e)}function g_(n,e){return Zy(4,2,n,e)}function y_(n,e){return Zy(4,4,n,e)}function v_(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function w_(n,e,t){return t=t!=null?t.concat([n]):null,Zy(4,4,v_.bind(null,e,n),t)}function Jb(){}function x_(n,e){var t=_s();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Xb(e,s[1])?s[0]:(t.memoizedState=[n,e],n)}function b_(n,e){var t=_s();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Xb(e,s[1])?s[0]:(n=n(),t.memoizedState=[n,e],n)}function A_(n,e,t){return nc&21?(Ks(t,e)||(t=TC(),Xe.lanes|=t,sc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,_n=!0),n.memoizedState=t)}function LL(n,e){var t=_e;_e=t!==0&&4>t?t:4,n(!0);var s=a0.transition;a0.transition={};try{n(!1),e()}finally{_e=t,a0.transition=s}}function S_(){return _s().memoizedState}function ML(n,e,t){var s=aa(n);if(t={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null},E_(n))C_(e,t);else if(t=i_(n,e,t,s),t!==null){var r=fn();Xs(t,n,s,r),__(t,e,s)}}function IL(n,e,t){var s=aa(n),r={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null};if(E_(n))C_(e,r);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,t);if(r.hasEagerState=!0,r.eagerState=a,Ks(a,o)){var l=e.interleaved;l===null?(r.next=r,Ub(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=i_(n,e,r,s),t!==null&&(r=fn(),Xs(t,n,s,r),__(t,e,s))}}function E_(n){var e=n.alternate;return n===Xe||e!==null&&e===Xe}function C_(n,e){_h=ty=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function __(n,e,t){if(t&4194240){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,Pb(n,t)}}var ny={readContext:Cs,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},DL={readContext:Cs,useCallback:function(n,e){return gr().memoizedState=[n,e===void 0?null:e],n},useContext:Cs,useEffect:VA,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Km(4194308,4,v_.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Km(4194308,4,n,e)},useInsertionEffect:function(n,e){return Km(4,2,n,e)},useMemo:function(n,e){var t=gr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var s=gr();return e=t!==void 0?t(e):e,s.memoizedState=s.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},s.queue=n,n=n.dispatch=ML.bind(null,Xe,n),[s.memoizedState,n]},useRef:function(n){var e=gr();return n={current:n},e.memoizedState=n},useState:UA,useDebugValue:Jb,useDeferredValue:function(n){return gr().memoizedState=n},useTransition:function(){var n=UA(!1),e=n[0];return n=LL.bind(null,n[1]),gr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var s=Xe,r=gr();if(Ve){if(t===void 0)throw Error(z(407));t=t()}else{if(t=e(),Pt===null)throw Error(z(349));nc&30||u_(s,e,t)}r.memoizedState=t;var i={value:t,getSnapshot:e};return r.queue=i,VA(h_.bind(null,s,i,n),[n]),s.flags|=2048,qh(9,d_.bind(null,s,i,t,e),void 0,null),t},useId:function(){var n=gr(),e=Pt.identifierPrefix;if(Ve){var t=Oi,s=Di;t=(s&~(1<<32-qs(s)-1)).toString(32)+t,e=":"+e+"R"+t,t=Wh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=RL++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},OL={readContext:Cs,useCallback:x_,useContext:Cs,useEffect:Qb,useImperativeHandle:w_,useInsertionEffect:g_,useLayoutEffect:y_,useMemo:b_,useReducer:l0,useRef:m_,useState:function(){return l0(Gh)},useDebugValue:Jb,useDeferredValue:function(n){var e=_s();return A_(e,gt.memoizedState,n)},useTransition:function(){var n=l0(Gh)[0],e=_s().memoizedState;return[n,e]},useMutableSource:l_,useSyncExternalStore:c_,useId:S_,unstable_isNewReconciler:!1},jL={readContext:Cs,useCallback:x_,useContext:Cs,useEffect:Qb,useImperativeHandle:w_,useInsertionEffect:g_,useLayoutEffect:y_,useMemo:b_,useReducer:c0,useRef:m_,useState:function(){return c0(Gh)},useDebugValue:Jb,useDeferredValue:function(n){var e=_s();return gt===null?e.memoizedState=n:A_(e,gt.memoizedState,n)},useTransition:function(){var n=c0(Gh)[0],e=_s().memoizedState;return[n,e]},useMutableSource:l_,useSyncExternalStore:c_,useId:S_,unstable_isNewReconciler:!1};function Ps(n,e){if(n&&n.defaultProps){e=Ke({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function uw(n,e,t,s){e=n.memoizedState,t=t(s,e),t=t==null?e:Ke({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var ev={isMounted:function(n){return(n=n._reactInternals)?hc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var s=fn(),r=aa(n),i=ji(s,r);i.payload=e,t!=null&&(i.callback=t),e=ia(n,i,r),e!==null&&(Xs(e,n,r,s),qm(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var s=fn(),r=aa(n),i=ji(s,r);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=ia(n,i,r),e!==null&&(Xs(e,n,r,s),qm(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=fn(),s=aa(n),r=ji(t,s);r.tag=2,e!=null&&(r.callback=e),e=ia(n,r,s),e!==null&&(Xs(e,n,s,t),qm(e,n,s))}};function WA(n,e,t,s,r,i,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!Bh(t,s)||!Bh(r,i):!0}function T_(n,e,t){var s=!1,r=da,i=e.contextType;return typeof i=="object"&&i!==null?i=Cs(i):(r=kn(e)?ec:Jt.current,s=e.contextTypes,i=(s=s!=null)?vd(n,r):da),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ev,n.stateNode=e,e._reactInternals=n,s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=i),e}function GA(n,e,t,s){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,s),e.state!==n&&ev.enqueueReplaceState(e,e.state,null)}function dw(n,e,t,s){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},Vb(n);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Cs(i):(i=kn(e)?ec:Jt.current,r.context=vd(n,i)),r.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(uw(n,e,i,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ev.enqueueReplaceState(r,r.state,null),Zg(n,t,r,s),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Ad(n,e){try{var t="",s=e;do t+=dR(s),s=s.return;while(s);var r=t}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:r,digest:null}}function u0(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function hw(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var FL=typeof WeakMap=="function"?WeakMap:Map;function k_(n,e,t){t=ji(-1,t),t.tag=3,t.payload={element:null};var s=e.value;return t.callback=function(){ry||(ry=!0,Aw=s),hw(n,e)},t}function P_(n,e,t){t=ji(-1,t),t.tag=3;var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;t.payload=function(){return s(r)},t.callback=function(){hw(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){hw(n,e),typeof s!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function qA(n,e,t){var s=n.pingCache;if(s===null){s=n.pingCache=new FL;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(t)||(r.add(t),n=JL.bind(null,n,e,t),e.then(n,n))}function XA(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function KA(n,e,t,s,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ji(-1,1),e.tag=2,ia(t,e,1))),t.lanes|=1),n)}var BL=Xi.ReactCurrentOwner,_n=!1;function ln(n,e,t,s){e.child=n===null?r_(e,null,t,s):xd(e,n.child,t,s)}function YA(n,e,t,s,r){t=t.render;var i=e.ref;return Jc(e,r),s=Kb(n,e,t,s,i,r),t=Yb(),n!==null&&!_n?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ui(n,e,r)):(Ve&&t&&jb(e),e.flags|=1,ln(n,e,s,r),e.child)}function QA(n,e,t,s,r){if(n===null){var i=t.type;return typeof i=="function"&&!o1(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,N_(n,e,i,s,r)):(n=Zm(t.type,null,s,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&r)){var o=i.memoizedProps;if(t=t.compare,t=t!==null?t:Bh,t(o,s)&&n.ref===e.ref)return Ui(n,e,r)}return e.flags|=1,n=la(i,s),n.ref=e.ref,n.return=e,e.child=n}function N_(n,e,t,s,r){if(n!==null){var i=n.memoizedProps;if(Bh(i,s)&&n.ref===e.ref)if(_n=!1,e.pendingProps=s=i,(n.lanes&r)!==0)n.flags&131072&&(_n=!0);else return e.lanes=n.lanes,Ui(n,e,r)}return fw(n,e,t,s,r)}function R_(n,e,t){var s=e.pendingProps,r=s.children,i=n!==null?n.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Uc,Qn),Qn|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ie(Uc,Qn),Qn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:t,Ie(Uc,Qn),Qn|=s}else i!==null?(s=i.baseLanes|t,e.memoizedState=null):s=t,Ie(Uc,Qn),Qn|=s;return ln(n,e,r,t),e.child}function L_(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function fw(n,e,t,s,r){var i=kn(t)?ec:Jt.current;return i=vd(e,i),Jc(e,r),t=Kb(n,e,t,s,i,r),s=Yb(),n!==null&&!_n?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ui(n,e,r)):(Ve&&s&&jb(e),e.flags|=1,ln(n,e,t,r),e.child)}function JA(n,e,t,s,r){if(kn(t)){var i=!0;Xg(e)}else i=!1;if(Jc(e,r),e.stateNode===null)Ym(n,e),T_(e,t,s),dw(e,t,s,r),s=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Cs(u):(u=kn(t)?ec:Jt.current,u=vd(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==u)&&GA(e,o,s,u),ro=!1;var f=e.memoizedState;o.state=f,Zg(e,s,o,r),l=e.memoizedState,a!==s||f!==l||Tn.current||ro?(typeof d=="function"&&(uw(e,t,d,s),l=e.memoizedState),(a=ro||WA(e,t,a,s,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,o_(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ps(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Cs(l):(l=kn(t)?ec:Jt.current,l=vd(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&GA(e,o,s,l),ro=!1,f=e.memoizedState,o.state=f,Zg(e,s,o,r);var g=e.memoizedState;a!==h||f!==g||Tn.current||ro?(typeof m=="function"&&(uw(e,t,m,s),g=e.memoizedState),(u=ro||WA(e,t,u,s,f,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=g),o.props=s,o.state=g,o.context=l,s=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),s=!1)}return pw(n,e,t,s,i,r)}function pw(n,e,t,s,r,i){L_(n,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&jA(e,t,!1),Ui(n,e,i);s=e.stateNode,BL.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,n!==null&&o?(e.child=xd(e,n.child,null,i),e.child=xd(e,null,a,i)):ln(n,e,a,i),e.memoizedState=s.state,r&&jA(e,t,!0),e.child}function M_(n){var e=n.stateNode;e.pendingContext?OA(n,e.pendingContext,e.pendingContext!==e.context):e.context&&OA(n,e.context,!1),Wb(n,e.containerInfo)}function ZA(n,e,t,s,r){return wd(),Bb(r),e.flags|=256,ln(n,e,t,s),e.child}var mw={dehydrated:null,treeContext:null,retryLane:0};function gw(n){return{baseLanes:n,cachePool:null,transitions:null}}function I_(n,e,t){var s=e.pendingProps,r=qe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Ie(qe,r&1),n===null)return lw(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,n=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=sv(o,s,0,null),n=Ql(n,s,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=gw(t),e.memoizedState=mw,n):Zb(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return zL(n,e,o,s,a,r,t);if(i){i=s.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=la(r,l),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=la(a,i):(i=Ql(i,o,t,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=n.child.memoizedState,o=o===null?gw(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=n.childLanes&~t,e.memoizedState=mw,s}return i=n.child,n=i.sibling,s=la(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=t),s.return=e,s.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=s,e.memoizedState=null,s}function Zb(n,e){return e=sv({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Sm(n,e,t,s){return s!==null&&Bb(s),xd(e,n.child,null,t),n=Zb(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function zL(n,e,t,s,r,i,o){if(t)return e.flags&256?(e.flags&=-257,s=u0(Error(z(422))),Sm(n,e,o,s)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=sv({mode:"visible",children:s.children},r,0,null),i=Ql(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&xd(e,n.child,null,o),e.child.memoizedState=gw(o),e.memoizedState=mw,i);if(!(e.mode&1))return Sm(n,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(z(419)),s=u0(i,s,void 0),Sm(n,e,o,s)}if(a=(o&n.childLanes)!==0,_n||a){if(s=Pt,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Hi(n,r),Xs(s,n,r,-1))}return i1(),s=u0(Error(z(421))),Sm(n,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=ZL.bind(null,n),r._reactRetry=e,null):(n=i.treeContext,ts=ra(r.nextSibling),ns=e,Ve=!0,Ws=null,n!==null&&(vs[ws++]=Di,vs[ws++]=Oi,vs[ws++]=tc,Di=n.id,Oi=n.overflow,tc=e),e=Zb(e,s.children),e.flags|=4096,e)}function eS(n,e,t){n.lanes|=e;var s=n.alternate;s!==null&&(s.lanes|=e),cw(n.return,e,t)}function d0(n,e,t,s,r){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:t,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=t,i.tailMode=r)}function D_(n,e,t){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(ln(n,e,s.children,t),s=qe.current,s&2)s=s&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&eS(n,t,e);else if(n.tag===19)eS(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s&=1}if(Ie(qe,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&ey(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),d0(e,!1,r,t,i);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&ey(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}d0(e,!0,t,null,i);break;case"together":d0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ym(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ui(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),sc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(z(153));if(e.child!==null){for(n=e.child,t=la(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=la(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function $L(n,e,t){switch(e.tag){case 3:M_(e),wd();break;case 5:a_(e);break;case 1:kn(e.type)&&Xg(e);break;case 4:Wb(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;Ie(Qg,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Ie(qe,qe.current&1),e.flags|=128,null):t&e.child.childLanes?I_(n,e,t):(Ie(qe,qe.current&1),n=Ui(n,e,t),n!==null?n.sibling:null);Ie(qe,qe.current&1);break;case 19:if(s=(t&e.childLanes)!==0,n.flags&128){if(s)return D_(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ie(qe,qe.current),s)break;return null;case 22:case 23:return e.lanes=0,R_(n,e,t)}return Ui(n,e,t)}var O_,yw,j_,F_;O_=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};yw=function(){};j_=function(n,e,t,s){var r=n.memoizedProps;if(r!==s){n=e.stateNode,Da($r.current);var i=null;switch(t){case"input":r=B0(n,r),s=B0(n,s),i=[];break;case"select":r=Ke({},r,{value:void 0}),s=Ke({},s,{value:void 0}),i=[];break;case"textarea":r=H0(n,r),s=H0(n,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(n.onclick=Gg)}V0(t,s);var o;t=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var l=s[u];if(a=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(i||(i=[]),i.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",n),i||a===l||(i=[])):(i=i||[]).push(u,l))}t&&(i=i||[]).push("style",t);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};F_=function(n,e,t,s){t!==s&&(e.flags|=4)};function Hd(n,e){if(!Ve)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function Ut(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,s=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=s,n.childLanes=t,e}function HL(n,e,t){var s=e.pendingProps;switch(Fb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return kn(e.type)&&qg(),Ut(e),null;case 3:return s=e.stateNode,bd(),Be(Tn),Be(Jt),qb(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(bm(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ws!==null&&(Cw(Ws),Ws=null))),yw(n,e),Ut(e),null;case 5:Gb(e);var r=Da(Vh.current);if(t=e.type,n!==null&&e.stateNode!=null)j_(n,e,t,s,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(z(166));return Ut(e),null}if(n=Da($r.current),bm(e)){s=e.stateNode,t=e.type;var i=e.memoizedProps;switch(s[Fr]=e,s[Hh]=i,n=(e.mode&1)!==0,t){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(r=0;r<eh.length;r++)Fe(eh[r],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":cA(s,i),Fe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",s);break;case"textarea":dA(s,i),Fe("invalid",s)}V0(t,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&xm(s.textContent,a,n),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&xm(s.textContent,a,n),r=["children",""+a]):Lh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",s)}switch(t){case"input":hm(s),uA(s,i,!0);break;case"textarea":hm(s),hA(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Gg)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=hC(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof s.is=="string"?n=o.createElement(t,{is:s.is}):(n=o.createElement(t),t==="select"&&(o=n,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):n=o.createElementNS(n,t),n[Fr]=e,n[Hh]=s,O_(n,e,!1,!1),e.stateNode=n;e:{switch(o=W0(t,s),t){case"dialog":Fe("cancel",n),Fe("close",n),r=s;break;case"iframe":case"object":case"embed":Fe("load",n),r=s;break;case"video":case"audio":for(r=0;r<eh.length;r++)Fe(eh[r],n);r=s;break;case"source":Fe("error",n),r=s;break;case"img":case"image":case"link":Fe("error",n),Fe("load",n),r=s;break;case"details":Fe("toggle",n),r=s;break;case"input":cA(n,s),r=B0(n,s),Fe("invalid",n);break;case"option":r=s;break;case"select":n._wrapperState={wasMultiple:!!s.multiple},r=Ke({},s,{value:void 0}),Fe("invalid",n);break;case"textarea":dA(n,s),r=H0(n,s),Fe("invalid",n);break;default:r=s}V0(t,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?mC(n,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fC(n,l)):i==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Mh(n,l):typeof l=="number"&&Mh(n,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Lh.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Fe("scroll",n):l!=null&&Sb(n,i,l,o))}switch(t){case"input":hm(n),uA(n,s,!1);break;case"textarea":hm(n),hA(n);break;case"option":s.value!=null&&n.setAttribute("value",""+ua(s.value));break;case"select":n.multiple=!!s.multiple,i=s.value,i!=null?Xc(n,!!s.multiple,i,!1):s.defaultValue!=null&&Xc(n,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Gg)}switch(t){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(n&&e.stateNode!=null)F_(n,e,n.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(z(166));if(t=Da(Vh.current),Da($r.current),bm(e)){if(s=e.stateNode,t=e.memoizedProps,s[Fr]=e,(i=s.nodeValue!==t)&&(n=ns,n!==null))switch(n.tag){case 3:xm(s.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&xm(s.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else s=(t.nodeType===9?t:t.ownerDocument).createTextNode(s),s[Fr]=e,e.stateNode=s}return Ut(e),null;case 13:if(Be(qe),s=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ve&&ts!==null&&e.mode&1&&!(e.flags&128))n_(),wd(),e.flags|=98560,i=!1;else if(i=bm(e),s!==null&&s.dehydrated!==null){if(n===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Fr]=e}else wd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),i=!1}else Ws!==null&&(Cw(Ws),Ws=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(s=s!==null,s!==(n!==null&&n.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(n===null||qe.current&1?vt===0&&(vt=3):i1())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return bd(),yw(n,e),n===null&&zh(e.stateNode.containerInfo),Ut(e),null;case 10:return Hb(e.type._context),Ut(e),null;case 17:return kn(e.type)&&qg(),Ut(e),null;case 19:if(Be(qe),i=e.memoizedState,i===null)return Ut(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)Hd(i,!1);else{if(vt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=ey(n),o!==null){for(e.flags|=128,Hd(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=t,t=e.child;t!==null;)i=t,n=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ie(qe,qe.current&1|2),e.child}n=n.sibling}i.tail!==null&&nt()>Sd&&(e.flags|=128,s=!0,Hd(i,!1),e.lanes=4194304)}else{if(!s)if(n=ey(o),n!==null){if(e.flags|=128,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Hd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ve)return Ut(e),null}else 2*nt()-i.renderingStartTime>Sd&&t!==1073741824&&(e.flags|=128,s=!0,Hd(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(t=i.last,t!==null?t.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nt(),e.sibling=null,t=qe.current,Ie(qe,s?t&1|2:t&1),e):(Ut(e),null);case 22:case 23:return r1(),s=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Qn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function UL(n,e){switch(Fb(e),e.tag){case 1:return kn(e.type)&&qg(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return bd(),Be(Tn),Be(Jt),qb(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Gb(e),null;case 13:if(Be(qe),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(z(340));wd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Be(qe),null;case 4:return bd(),null;case 10:return Hb(e.type._context),null;case 22:case 23:return r1(),null;case 24:return null;default:return null}}var Em=!1,Yt=!1,VL=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Hc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(s){Ze(n,e,s)}else t.current=null}function vw(n,e,t){try{t()}catch(s){Ze(n,e,s)}}var tS=!1;function WL(n,e){if(tw=Ug,n=UC(),Ob(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var s=t.getSelection&&t.getSelection();if(s&&s.rangeCount!==0){t=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var m;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==i||s!==0&&h.nodeType!==3||(l=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===n)break t;if(f===t&&++u===r&&(a=o),f===i&&++d===s&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(nw={focusedElem:n,selectionRange:t},Ug=!1,Q=e;Q!==null;)if(e=Q,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Q=n;else for(;Q!==null;){e=Q;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,x=g.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?p:Ps(e.type,p),x);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(C){Ze(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}return g=tS,tS=!1,g}function Th(n,e,t){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&n)===n){var i=r.destroy;r.destroy=void 0,i!==void 0&&vw(e,t,i)}r=r.next}while(r!==s)}}function tv(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var s=t.create;t.destroy=s()}t=t.next}while(t!==e)}}function ww(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function B_(n){var e=n.alternate;e!==null&&(n.alternate=null,B_(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Fr],delete e[Hh],delete e[iw],delete e[TL],delete e[kL])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function z_(n){return n.tag===5||n.tag===3||n.tag===4}function nS(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||z_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function xw(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Gg));else if(s!==4&&(n=n.child,n!==null))for(xw(n,e,t),n=n.sibling;n!==null;)xw(n,e,t),n=n.sibling}function bw(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(s!==4&&(n=n.child,n!==null))for(bw(n,e,t),n=n.sibling;n!==null;)bw(n,e,t),n=n.sibling}var Ot=null,Vs=!1;function Ji(n,e,t){for(t=t.child;t!==null;)$_(n,e,t),t=t.sibling}function $_(n,e,t){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(qy,t)}catch{}switch(t.tag){case 5:Yt||Hc(t,e);case 6:var s=Ot,r=Vs;Ot=null,Ji(n,e,t),Ot=s,Vs=r,Ot!==null&&(Vs?(n=Ot,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ot.removeChild(t.stateNode));break;case 18:Ot!==null&&(Vs?(n=Ot,t=t.stateNode,n.nodeType===8?r0(n.parentNode,t):n.nodeType===1&&r0(n,t),jh(n)):r0(Ot,t.stateNode));break;case 4:s=Ot,r=Vs,Ot=t.stateNode.containerInfo,Vs=!0,Ji(n,e,t),Ot=s,Vs=r;break;case 0:case 11:case 14:case 15:if(!Yt&&(s=t.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&vw(t,e,o),r=r.next}while(r!==s)}Ji(n,e,t);break;case 1:if(!Yt&&(Hc(t,e),s=t.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=t.memoizedProps,s.state=t.memoizedState,s.componentWillUnmount()}catch(a){Ze(t,e,a)}Ji(n,e,t);break;case 21:Ji(n,e,t);break;case 22:t.mode&1?(Yt=(s=Yt)||t.memoizedState!==null,Ji(n,e,t),Yt=s):Ji(n,e,t);break;default:Ji(n,e,t)}}function sS(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new VL),e.forEach(function(s){var r=eM.bind(null,n,s);t.has(s)||(t.add(s),s.then(r,r))})}}function Ts(n,e){var t=e.deletions;if(t!==null)for(var s=0;s<t.length;s++){var r=t[s];try{var i=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ot=a.stateNode,Vs=!1;break e;case 3:Ot=a.stateNode.containerInfo,Vs=!0;break e;case 4:Ot=a.stateNode.containerInfo,Vs=!0;break e}a=a.return}if(Ot===null)throw Error(z(160));$_(i,o,r),Ot=null,Vs=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Ze(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)H_(e,n),e=e.sibling}function H_(n,e){var t=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ts(e,n),dr(n),s&4){try{Th(3,n,n.return),tv(3,n)}catch(p){Ze(n,n.return,p)}try{Th(5,n,n.return)}catch(p){Ze(n,n.return,p)}}break;case 1:Ts(e,n),dr(n),s&512&&t!==null&&Hc(t,t.return);break;case 5:if(Ts(e,n),dr(n),s&512&&t!==null&&Hc(t,t.return),n.flags&32){var r=n.stateNode;try{Mh(r,"")}catch(p){Ze(n,n.return,p)}}if(s&4&&(r=n.stateNode,r!=null)){var i=n.memoizedProps,o=t!==null?t.memoizedProps:i,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&uC(r,i),W0(a,o);var u=W0(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?mC(r,h):d==="dangerouslySetInnerHTML"?fC(r,h):d==="children"?Mh(r,h):Sb(r,d,h,u)}switch(a){case"input":z0(r,i);break;case"textarea":dC(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Xc(r,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Xc(r,!!i.multiple,i.defaultValue,!0):Xc(r,!!i.multiple,i.multiple?[]:"",!1))}r[Hh]=i}catch(p){Ze(n,n.return,p)}}break;case 6:if(Ts(e,n),dr(n),s&4){if(n.stateNode===null)throw Error(z(162));r=n.stateNode,i=n.memoizedProps;try{r.nodeValue=i}catch(p){Ze(n,n.return,p)}}break;case 3:if(Ts(e,n),dr(n),s&4&&t!==null&&t.memoizedState.isDehydrated)try{jh(e.containerInfo)}catch(p){Ze(n,n.return,p)}break;case 4:Ts(e,n),dr(n);break;case 13:Ts(e,n),dr(n),r=n.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(n1=nt())),s&4&&sS(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Yt=(u=Yt)||d,Ts(e,n),Yt=u):Ts(e,n),dr(n),s&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(Q=n,d=n.child;d!==null;){for(h=Q=d;Q!==null;){switch(f=Q,m=f.child,f.tag){case 0:case 11:case 14:case 15:Th(4,f,f.return);break;case 1:Hc(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){s=f,t=f.return;try{e=s,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(p){Ze(s,t,p)}}break;case 5:Hc(f,f.return);break;case 22:if(f.memoizedState!==null){iS(h);continue}}m!==null?(m.return=f,Q=m):iS(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=pC("display",o))}catch(p){Ze(n,n.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){Ze(n,n.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ts(e,n),dr(n),s&4&&sS(n);break;case 21:break;default:Ts(e,n),dr(n)}}function dr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(z_(t)){var s=t;break e}t=t.return}throw Error(z(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Mh(r,""),s.flags&=-33);var i=nS(n);bw(n,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=nS(n);xw(n,a,o);break;default:throw Error(z(161))}}catch(l){Ze(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function GL(n,e,t){Q=n,U_(n)}function U_(n,e,t){for(var s=(n.mode&1)!==0;Q!==null;){var r=Q,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||Em;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Yt;a=Em;var u=Yt;if(Em=o,(Yt=l)&&!u)for(Q=r;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?oS(r):l!==null?(l.return=o,Q=l):oS(r);for(;i!==null;)Q=i,U_(i),i=i.sibling;Q=r,Em=a,Yt=u}rS(n)}else r.subtreeFlags&8772&&i!==null?(i.return=r,Q=i):rS(n)}}function rS(n){for(;Q!==null;){var e=Q;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||tv(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Yt)if(t===null)s.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Ps(e.type,t.memoizedProps);s.componentDidUpdate(r,t.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&HA(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}HA(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&jh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Yt||e.flags&512&&ww(e)}catch(f){Ze(e,e.return,f)}}if(e===n){Q=null;break}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}}function iS(n){for(;Q!==null;){var e=Q;if(e===n){Q=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Q=t;break}Q=e.return}}function oS(n){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{tv(4,e)}catch(l){Ze(e,t,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){Ze(e,r,l)}}var i=e.return;try{ww(e)}catch(l){Ze(e,i,l)}break;case 5:var o=e.return;try{ww(e)}catch(l){Ze(e,o,l)}}}catch(l){Ze(e,e.return,l)}if(e===n){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var qL=Math.ceil,sy=Xi.ReactCurrentDispatcher,e1=Xi.ReactCurrentOwner,As=Xi.ReactCurrentBatchConfig,ye=0,Pt=null,lt=null,Bt=0,Qn=0,Uc=Aa(0),vt=0,Xh=null,sc=0,nv=0,t1=0,kh=null,Cn=null,n1=0,Sd=1/0,ei=null,ry=!1,Aw=null,oa=null,Cm=!1,Zo=null,iy=0,Ph=0,Sw=null,Qm=-1,Jm=0;function fn(){return ye&6?nt():Qm!==-1?Qm:Qm=nt()}function aa(n){return n.mode&1?ye&2&&Bt!==0?Bt&-Bt:NL.transition!==null?(Jm===0&&(Jm=TC()),Jm):(n=_e,n!==0||(n=window.event,n=n===void 0?16:IC(n.type)),n):1}function Xs(n,e,t,s){if(50<Ph)throw Ph=0,Sw=null,Error(z(185));Fp(n,t,s),(!(ye&2)||n!==Pt)&&(n===Pt&&(!(ye&2)&&(nv|=t),vt===4&&oo(n,Bt)),Pn(n,s),t===1&&ye===0&&!(e.mode&1)&&(Sd=nt()+500,Jy&&Sa()))}function Pn(n,e){var t=n.callbackNode;NR(n,e);var s=Hg(n,n===Pt?Bt:0);if(s===0)t!==null&&mA(t),n.callbackNode=null,n.callbackPriority=0;else if(e=s&-s,n.callbackPriority!==e){if(t!=null&&mA(t),e===1)n.tag===0?PL(aS.bind(null,n)):ZC(aS.bind(null,n)),CL(function(){!(ye&6)&&Sa()}),t=null;else{switch(kC(s)){case 1:t=kb;break;case 4:t=CC;break;case 16:t=$g;break;case 536870912:t=_C;break;default:t=$g}t=Q_(t,V_.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function V_(n,e){if(Qm=-1,Jm=0,ye&6)throw Error(z(327));var t=n.callbackNode;if(Zc()&&n.callbackNode!==t)return null;var s=Hg(n,n===Pt?Bt:0);if(s===0)return null;if(s&30||s&n.expiredLanes||e)e=oy(n,s);else{e=s;var r=ye;ye|=2;var i=G_();(Pt!==n||Bt!==e)&&(ei=null,Sd=nt()+500,Yl(n,e));do try{YL();break}catch(a){W_(n,a)}while(!0);$b(),sy.current=i,ye=r,lt!==null?e=0:(Pt=null,Bt=0,e=vt)}if(e!==0){if(e===2&&(r=Y0(n),r!==0&&(s=r,e=Ew(n,r))),e===1)throw t=Xh,Yl(n,0),oo(n,s),Pn(n,nt()),t;if(e===6)oo(n,s);else{if(r=n.current.alternate,!(s&30)&&!XL(r)&&(e=oy(n,s),e===2&&(i=Y0(n),i!==0&&(s=i,e=Ew(n,i))),e===1))throw t=Xh,Yl(n,0),oo(n,s),Pn(n,nt()),t;switch(n.finishedWork=r,n.finishedLanes=s,e){case 0:case 1:throw Error(z(345));case 2:Ta(n,Cn,ei);break;case 3:if(oo(n,s),(s&130023424)===s&&(e=n1+500-nt(),10<e)){if(Hg(n,0)!==0)break;if(r=n.suspendedLanes,(r&s)!==s){fn(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=rw(Ta.bind(null,n,Cn,ei),e);break}Ta(n,Cn,ei);break;case 4:if(oo(n,s),(s&4194240)===s)break;for(e=n.eventTimes,r=-1;0<s;){var o=31-qs(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=nt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*qL(s/1960))-s,10<s){n.timeoutHandle=rw(Ta.bind(null,n,Cn,ei),s);break}Ta(n,Cn,ei);break;case 5:Ta(n,Cn,ei);break;default:throw Error(z(329))}}}return Pn(n,nt()),n.callbackNode===t?V_.bind(null,n):null}function Ew(n,e){var t=kh;return n.current.memoizedState.isDehydrated&&(Yl(n,e).flags|=256),n=oy(n,e),n!==2&&(e=Cn,Cn=t,e!==null&&Cw(e)),n}function Cw(n){Cn===null?Cn=n:Cn.push.apply(Cn,n)}function XL(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var s=0;s<t.length;s++){var r=t[s],i=r.getSnapshot;r=r.value;try{if(!Ks(i(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oo(n,e){for(e&=~t1,e&=~nv,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-qs(e),s=1<<t;n[t]=-1,e&=~s}}function aS(n){if(ye&6)throw Error(z(327));Zc();var e=Hg(n,0);if(!(e&1))return Pn(n,nt()),null;var t=oy(n,e);if(n.tag!==0&&t===2){var s=Y0(n);s!==0&&(e=s,t=Ew(n,s))}if(t===1)throw t=Xh,Yl(n,0),oo(n,e),Pn(n,nt()),t;if(t===6)throw Error(z(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ta(n,Cn,ei),Pn(n,nt()),null}function s1(n,e){var t=ye;ye|=1;try{return n(e)}finally{ye=t,ye===0&&(Sd=nt()+500,Jy&&Sa())}}function rc(n){Zo!==null&&Zo.tag===0&&!(ye&6)&&Zc();var e=ye;ye|=1;var t=As.transition,s=_e;try{if(As.transition=null,_e=1,n)return n()}finally{_e=s,As.transition=t,ye=e,!(ye&6)&&Sa()}}function r1(){Qn=Uc.current,Be(Uc)}function Yl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,EL(t)),lt!==null)for(t=lt.return;t!==null;){var s=t;switch(Fb(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&qg();break;case 3:bd(),Be(Tn),Be(Jt),qb();break;case 5:Gb(s);break;case 4:bd();break;case 13:Be(qe);break;case 19:Be(qe);break;case 10:Hb(s.type._context);break;case 22:case 23:r1()}t=t.return}if(Pt=n,lt=n=la(n.current,null),Bt=Qn=e,vt=0,Xh=null,t1=nv=sc=0,Cn=kh=null,Ia!==null){for(e=0;e<Ia.length;e++)if(t=Ia[e],s=t.interleaved,s!==null){t.interleaved=null;var r=s.next,i=t.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}t.pending=s}Ia=null}return n}function W_(n,e){do{var t=lt;try{if($b(),Xm.current=ny,ty){for(var s=Xe.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}ty=!1}if(nc=0,kt=gt=Xe=null,_h=!1,Wh=0,e1.current=null,t===null||t.return===null){vt=1,Xh=e,lt=null;break}e:{var i=n,o=t.return,a=t,l=e;if(e=Bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=XA(o);if(m!==null){m.flags&=-257,KA(m,o,a,i,e),m.mode&1&&qA(i,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var p=new Set;p.add(l),e.updateQueue=p}else g.add(l);break e}else{if(!(e&1)){qA(i,u,e),i1();break e}l=Error(z(426))}}else if(Ve&&a.mode&1){var x=XA(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),KA(x,o,a,i,e),Bb(Ad(l,a));break e}}i=l=Ad(l,a),vt!==4&&(vt=2),kh===null?kh=[i]:kh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=k_(i,l,e);$A(i,v);break e;case 1:a=l;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(oa===null||!oa.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=P_(i,a,e);$A(i,C);break e}}i=i.return}while(i!==null)}X_(t)}catch(_){e=_,lt===t&&t!==null&&(lt=t=t.return);continue}break}while(!0)}function G_(){var n=sy.current;return sy.current=ny,n===null?ny:n}function i1(){(vt===0||vt===3||vt===2)&&(vt=4),Pt===null||!(sc&268435455)&&!(nv&268435455)||oo(Pt,Bt)}function oy(n,e){var t=ye;ye|=2;var s=G_();(Pt!==n||Bt!==e)&&(ei=null,Yl(n,e));do try{KL();break}catch(r){W_(n,r)}while(!0);if($b(),ye=t,sy.current=s,lt!==null)throw Error(z(261));return Pt=null,Bt=0,vt}function KL(){for(;lt!==null;)q_(lt)}function YL(){for(;lt!==null&&!bR();)q_(lt)}function q_(n){var e=Y_(n.alternate,n,Qn);n.memoizedProps=n.pendingProps,e===null?X_(n):lt=e,e1.current=null}function X_(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=UL(t,e),t!==null){t.flags&=32767,lt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{vt=6,lt=null;return}}else if(t=HL(t,e,Qn),t!==null){lt=t;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=n}while(e!==null);vt===0&&(vt=5)}function Ta(n,e,t){var s=_e,r=As.transition;try{As.transition=null,_e=1,QL(n,e,t,s)}finally{As.transition=r,_e=s}return null}function QL(n,e,t,s){do Zc();while(Zo!==null);if(ye&6)throw Error(z(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(z(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(RR(n,i),n===Pt&&(lt=Pt=null,Bt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Cm||(Cm=!0,Q_($g,function(){return Zc(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=As.transition,As.transition=null;var o=_e;_e=1;var a=ye;ye|=4,e1.current=null,WL(n,t),H_(t,n),yL(nw),Ug=!!tw,nw=tw=null,n.current=t,GL(t),AR(),ye=a,_e=o,As.transition=i}else n.current=t;if(Cm&&(Cm=!1,Zo=n,iy=r),i=n.pendingLanes,i===0&&(oa=null),CR(t.stateNode),Pn(n,nt()),e!==null)for(s=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],s(r.value,{componentStack:r.stack,digest:r.digest});if(ry)throw ry=!1,n=Aw,Aw=null,n;return iy&1&&n.tag!==0&&Zc(),i=n.pendingLanes,i&1?n===Sw?Ph++:(Ph=0,Sw=n):Ph=0,Sa(),null}function Zc(){if(Zo!==null){var n=kC(iy),e=As.transition,t=_e;try{if(As.transition=null,_e=16>n?16:n,Zo===null)var s=!1;else{if(n=Zo,Zo=null,iy=0,ye&6)throw Error(z(331));var r=ye;for(ye|=4,Q=n.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Th(8,d,i)}var h=d.child;if(h!==null)h.return=d,Q=h;else for(;Q!==null;){d=Q;var f=d.sibling,m=d.return;if(B_(d),d===u){Q=null;break}if(f!==null){f.return=m,Q=f;break}Q=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Th(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Q=v;break e}Q=i.return}}var w=n.current;for(Q=w;Q!==null;){o=Q;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Q=b;else e:for(o=w;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:tv(9,a)}}catch(_){Ze(a,a.return,_)}if(a===o){Q=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Q=C;break e}Q=a.return}}if(ye=r,Sa(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(qy,n)}catch{}s=!0}return s}finally{_e=t,As.transition=e}}return!1}function lS(n,e,t){e=Ad(t,e),e=k_(n,e,1),n=ia(n,e,1),e=fn(),n!==null&&(Fp(n,1,e),Pn(n,e))}function Ze(n,e,t){if(n.tag===3)lS(n,n,t);else for(;e!==null;){if(e.tag===3){lS(e,n,t);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(oa===null||!oa.has(s))){n=Ad(t,n),n=P_(e,n,1),e=ia(e,n,1),n=fn(),e!==null&&(Fp(e,1,n),Pn(e,n));break}}e=e.return}}function JL(n,e,t){var s=n.pingCache;s!==null&&s.delete(e),e=fn(),n.pingedLanes|=n.suspendedLanes&t,Pt===n&&(Bt&t)===t&&(vt===4||vt===3&&(Bt&130023424)===Bt&&500>nt()-n1?Yl(n,0):t1|=t),Pn(n,e)}function K_(n,e){e===0&&(n.mode&1?(e=mm,mm<<=1,!(mm&130023424)&&(mm=4194304)):e=1);var t=fn();n=Hi(n,e),n!==null&&(Fp(n,e,t),Pn(n,t))}function ZL(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),K_(n,t)}function eM(n,e){var t=0;switch(n.tag){case 13:var s=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:s=n.stateNode;break;default:throw Error(z(314))}s!==null&&s.delete(e),K_(n,t)}var Y_;Y_=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Tn.current)_n=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return _n=!1,$L(n,e,t);_n=!!(n.flags&131072)}else _n=!1,Ve&&e.flags&1048576&&e_(e,Yg,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Ym(n,e),n=e.pendingProps;var r=vd(e,Jt.current);Jc(e,t),r=Kb(null,e,s,n,r,t);var i=Yb();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kn(s)?(i=!0,Xg(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Vb(e),r.updater=ev,e.stateNode=r,r._reactInternals=e,dw(e,s,n,t),e=pw(null,e,s,!0,i,t)):(e.tag=0,Ve&&i&&jb(e),ln(null,e,r,t),e=e.child),e;case 16:s=e.elementType;e:{switch(Ym(n,e),n=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=nM(s),n=Ps(s,n),r){case 0:e=fw(null,e,s,n,t);break e;case 1:e=JA(null,e,s,n,t);break e;case 11:e=YA(null,e,s,n,t);break e;case 14:e=QA(null,e,s,Ps(s.type,n),t);break e}throw Error(z(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Ps(s,r),fw(n,e,s,r,t);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Ps(s,r),JA(n,e,s,r,t);case 3:e:{if(M_(e),n===null)throw Error(z(387));s=e.pendingProps,i=e.memoizedState,r=i.element,o_(n,e),Zg(e,s,null,t);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Ad(Error(z(423)),e),e=ZA(n,e,s,t,r);break e}else if(s!==r){r=Ad(Error(z(424)),e),e=ZA(n,e,s,t,r);break e}else for(ts=ra(e.stateNode.containerInfo.firstChild),ns=e,Ve=!0,Ws=null,t=r_(e,null,s,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(wd(),s===r){e=Ui(n,e,t);break e}ln(n,e,s,t)}e=e.child}return e;case 5:return a_(e),n===null&&lw(e),s=e.type,r=e.pendingProps,i=n!==null?n.memoizedProps:null,o=r.children,sw(s,r)?o=null:i!==null&&sw(s,i)&&(e.flags|=32),L_(n,e),ln(n,e,o,t),e.child;case 6:return n===null&&lw(e),null;case 13:return I_(n,e,t);case 4:return Wb(e,e.stateNode.containerInfo),s=e.pendingProps,n===null?e.child=xd(e,null,s,t):ln(n,e,s,t),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Ps(s,r),YA(n,e,s,r,t);case 7:return ln(n,e,e.pendingProps,t),e.child;case 8:return ln(n,e,e.pendingProps.children,t),e.child;case 12:return ln(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,Ie(Qg,s._currentValue),s._currentValue=o,i!==null)if(Ks(i.value,o)){if(i.children===r.children&&!Tn.current){e=Ui(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=ji(-1,t&-t),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),cw(i.return,t,e),a.lanes|=t;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),cw(o,t,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ln(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Jc(e,t),r=Cs(r),s=s(r),e.flags|=1,ln(n,e,s,t),e.child;case 14:return s=e.type,r=Ps(s,e.pendingProps),r=Ps(s.type,r),QA(n,e,s,r,t);case 15:return N_(n,e,e.type,e.pendingProps,t);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Ps(s,r),Ym(n,e),e.tag=1,kn(s)?(n=!0,Xg(e)):n=!1,Jc(e,t),T_(e,s,r),dw(e,s,r,t),pw(null,e,s,!0,n,t);case 19:return D_(n,e,t);case 22:return R_(n,e,t)}throw Error(z(156,e.tag))};function Q_(n,e){return EC(n,e)}function tM(n,e,t,s){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bs(n,e,t,s){return new tM(n,e,t,s)}function o1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function nM(n){if(typeof n=="function")return o1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Cb)return 11;if(n===_b)return 14}return 2}function la(n,e){var t=n.alternate;return t===null?(t=bs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Zm(n,e,t,s,r,i){var o=2;if(s=n,typeof n=="function")o1(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Mc:return Ql(t.children,r,i,e);case Eb:o=8,r|=8;break;case D0:return n=bs(12,t,e,r|2),n.elementType=D0,n.lanes=i,n;case O0:return n=bs(13,t,e,r),n.elementType=O0,n.lanes=i,n;case j0:return n=bs(19,t,e,r),n.elementType=j0,n.lanes=i,n;case aC:return sv(t,r,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case iC:o=10;break e;case oC:o=9;break e;case Cb:o=11;break e;case _b:o=14;break e;case so:o=16,s=null;break e}throw Error(z(130,n==null?n:typeof n,""))}return e=bs(o,t,e,r),e.elementType=n,e.type=s,e.lanes=i,e}function Ql(n,e,t,s){return n=bs(7,n,s,e),n.lanes=t,n}function sv(n,e,t,s){return n=bs(22,n,s,e),n.elementType=aC,n.lanes=t,n.stateNode={isHidden:!1},n}function h0(n,e,t){return n=bs(6,n,null,e),n.lanes=t,n}function f0(n,e,t){return e=bs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function sM(n,e,t,s,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qv(0),this.expirationTimes=qv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qv(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function a1(n,e,t,s,r,i,o,a,l){return n=new sM(n,e,t,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=bs(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:s,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vb(i),n}function rM(n,e,t){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lc,key:s==null?null:""+s,children:n,containerInfo:e,implementation:t}}function J_(n){if(!n)return da;n=n._reactInternals;e:{if(hc(n)!==n||n.tag!==1)throw Error(z(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(n.tag===1){var t=n.type;if(kn(t))return JC(n,t,e)}return e}function Z_(n,e,t,s,r,i,o,a,l){return n=a1(t,s,!0,n,r,i,o,a,l),n.context=J_(null),t=n.current,s=fn(),r=aa(t),i=ji(s,r),i.callback=e??null,ia(t,i,r),n.current.lanes=r,Fp(n,r,s),Pn(n,s),n}function rv(n,e,t,s){var r=e.current,i=fn(),o=aa(r);return t=J_(t),e.context===null?e.context=t:e.pendingContext=t,e=ji(i,o),e.payload={element:n},s=s===void 0?null:s,s!==null&&(e.callback=s),n=ia(r,e,o),n!==null&&(Xs(n,r,o,i),qm(n,r,o)),o}function ay(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function cS(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function l1(n,e){cS(n,e),(n=n.alternate)&&cS(n,e)}function iM(){return null}var eT=typeof reportError=="function"?reportError:function(n){console.error(n)};function c1(n){this._internalRoot=n}iv.prototype.render=c1.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(z(409));rv(n,e,null,null)};iv.prototype.unmount=c1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;rc(function(){rv(null,n,null,null)}),e[$i]=null}};function iv(n){this._internalRoot=n}iv.prototype.unstable_scheduleHydration=function(n){if(n){var e=RC();n={blockedOn:null,target:n,priority:e};for(var t=0;t<io.length&&e!==0&&e<io[t].priority;t++);io.splice(t,0,n),t===0&&MC(n)}};function u1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ov(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function uS(){}function oM(n,e,t,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=ay(o);i.call(u)}}var o=Z_(e,s,n,0,null,!1,!1,"",uS);return n._reactRootContainer=o,n[$i]=o.current,zh(n.nodeType===8?n.parentNode:n),rc(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var u=ay(l);a.call(u)}}var l=a1(n,0,!1,null,null,!1,!1,"",uS);return n._reactRootContainer=l,n[$i]=l.current,zh(n.nodeType===8?n.parentNode:n),rc(function(){rv(e,l,t,s)}),l}function av(n,e,t,s,r){var i=t._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var l=ay(o);a.call(l)}}rv(e,o,n,r)}else o=oM(t,e,n,r,s);return ay(o)}PC=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Zd(e.pendingLanes);t!==0&&(Pb(e,t|1),Pn(e,nt()),!(ye&6)&&(Sd=nt()+500,Sa()))}break;case 13:rc(function(){var s=Hi(n,1);if(s!==null){var r=fn();Xs(s,n,1,r)}}),l1(n,1)}};Nb=function(n){if(n.tag===13){var e=Hi(n,134217728);if(e!==null){var t=fn();Xs(e,n,134217728,t)}l1(n,134217728)}};NC=function(n){if(n.tag===13){var e=aa(n),t=Hi(n,e);if(t!==null){var s=fn();Xs(t,n,e,s)}l1(n,e)}};RC=function(){return _e};LC=function(n,e){var t=_e;try{return _e=n,e()}finally{_e=t}};q0=function(n,e,t){switch(e){case"input":if(z0(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var s=t[e];if(s!==n&&s.form===n.form){var r=Qy(s);if(!r)throw Error(z(90));cC(s),z0(s,r)}}}break;case"textarea":dC(n,t);break;case"select":e=t.value,e!=null&&Xc(n,!!t.multiple,e,!1)}};vC=s1;wC=rc;var aM={usingClientEntryPoint:!1,Events:[zp,jc,Qy,gC,yC,s1]},Ud={findFiberByHostInstance:Ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lM={bundleType:Ud.bundleType,version:Ud.version,rendererPackageName:Ud.rendererPackageName,rendererConfig:Ud.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=AC(n),n===null?null:n.stateNode},findFiberByHostInstance:Ud.findFiberByHostInstance||iM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_m.isDisabled&&_m.supportsFiber)try{qy=_m.inject(lM),zr=_m}catch{}}os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aM;os.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u1(e))throw Error(z(200));return rM(n,e,null,t)};os.createRoot=function(n,e){if(!u1(n))throw Error(z(299));var t=!1,s="",r=eT;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=a1(n,1,!1,null,null,t,!1,s,r),n[$i]=e.current,zh(n.nodeType===8?n.parentNode:n),new c1(e)};os.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(z(188)):(n=Object.keys(n).join(","),Error(z(268,n)));return n=AC(e),n=n===null?null:n.stateNode,n};os.flushSync=function(n){return rc(n)};os.hydrate=function(n,e,t){if(!ov(e))throw Error(z(200));return av(null,n,e,!0,t)};os.hydrateRoot=function(n,e,t){if(!u1(n))throw Error(z(405));var s=t!=null&&t.hydratedSources||null,r=!1,i="",o=eT;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=Z_(e,null,n,1,t??null,r,!1,i,o),n[$i]=e.current,zh(n),s)for(n=0;n<s.length;n++)t=s[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new iv(e)};os.render=function(n,e,t){if(!ov(e))throw Error(z(200));return av(null,n,e,!1,t)};os.unmountComponentAtNode=function(n){if(!ov(n))throw Error(z(40));return n._reactRootContainer?(rc(function(){av(null,null,n,!1,function(){n._reactRootContainer=null,n[$i]=null})}),!0):!1};os.unstable_batchedUpdates=s1;os.unstable_renderSubtreeIntoContainer=function(n,e,t,s){if(!ov(t))throw Error(z(200));if(n==null||n._reactInternals===void 0)throw Error(z(38));return av(n,e,t,!1,s)};os.version="18.3.1-next-f1338f8080-20240426";function tT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tT)}catch(n){console.error(n)}}tT(),tC.exports=os;var Hp=tC.exports;const nT=UE(Hp);var sT,dS=Hp;sT=dS.createRoot,dS.hydrateRoot;const cM=1,uM=1e6;let p0=0;function dM(){return p0=(p0+1)%Number.MAX_SAFE_INTEGER,p0.toString()}const m0=new Map,hS=n=>{if(m0.has(n))return;const e=setTimeout(()=>{m0.delete(n),Nh({type:"REMOVE_TOAST",toastId:n})},uM);m0.set(n,e)},hM=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,cM)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?hS(t):n.toasts.forEach(s=>{hS(s.id)}),{...n,toasts:n.toasts.map(s=>s.id===t||t===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},eg=[];let tg={toasts:[]};function Nh(n){tg=hM(tg,n),eg.forEach(e=>{e(tg)})}function fM({...n}){const e=dM(),t=r=>Nh({type:"UPDATE_TOAST",toast:{...r,id:e}}),s=()=>Nh({type:"DISMISS_TOAST",toastId:e});return Nh({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:r=>{r||s()}}}),{id:e,dismiss:s,update:t}}function pM(){const[n,e]=T.useState(tg);return T.useEffect(()=>(eg.push(e),()=>{const t=eg.indexOf(e);t>-1&&eg.splice(t,1)}),[n]),{...n,toast:fM,dismiss:t=>Nh({type:"DISMISS_TOAST",toastId:t})}}function yt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function mM(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function rT(...n){return e=>n.forEach(t=>mM(t,e))}function Ys(...n){return T.useCallback(rT(...n),n)}function gM(n,e=[]){let t=[];function s(i,o){const a=T.createContext(o),l=t.length;t=[...t,o];function u(h){const{scope:f,children:m,...g}=h,p=(f==null?void 0:f[n][l])||a,x=T.useMemo(()=>g,Object.values(g));return y.jsx(p.Provider,{value:x,children:m})}function d(h,f){const m=(f==null?void 0:f[n][l])||a,g=T.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const r=()=>{const i=t.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[n])||i;return T.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[s,yM(r,...e)]}function yM(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Kh=T.forwardRef((n,e)=>{const{children:t,...s}=n,r=T.Children.toArray(t),i=r.find(vM);if(i){const o=i.props.children,a=r.map(l=>l===i?T.Children.count(o)>1?T.Children.only(null):T.isValidElement(o)?o.props.children:null:l);return y.jsx(_w,{...s,ref:e,children:T.isValidElement(o)?T.cloneElement(o,void 0,a):null})}return y.jsx(_w,{...s,ref:e,children:t})});Kh.displayName="Slot";var _w=T.forwardRef((n,e)=>{const{children:t,...s}=n;if(T.isValidElement(t)){const r=xM(t);return T.cloneElement(t,{...wM(s,t.props),ref:e?rT(e,r):r})}return T.Children.count(t)>1?T.Children.only(null):null});_w.displayName="SlotClone";var iT=({children:n})=>y.jsx(y.Fragment,{children:n});function vM(n){return T.isValidElement(n)&&n.type===iT}function wM(n,e){const t={...e};for(const s in e){const r=n[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?t[s]=(...a)=>{i(...a),r(...a)}:r&&(t[s]=r):s==="style"?t[s]={...r,...i}:s==="className"&&(t[s]=[r,i].filter(Boolean).join(" "))}return{...n,...t}}function xM(n){var s,r;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function bM(n){const e=n+"CollectionProvider",[t,s]=gM(e),[r,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:p}=m,x=U.useRef(null),v=U.useRef(new Map).current;return y.jsx(r,{scope:g,itemMap:v,collectionRef:x,children:p})};o.displayName=e;const a=n+"CollectionSlot",l=U.forwardRef((m,g)=>{const{scope:p,children:x}=m,v=i(a,p),w=Ys(g,v.collectionRef);return y.jsx(Kh,{ref:w,children:x})});l.displayName=a;const u=n+"CollectionItemSlot",d="data-radix-collection-item",h=U.forwardRef((m,g)=>{const{scope:p,children:x,...v}=m,w=U.useRef(null),b=Ys(g,w),C=i(u,p);return U.useEffect(()=>(C.itemMap.set(w,{ref:w,...v}),()=>void C.itemMap.delete(w))),y.jsx(Kh,{[d]:"",ref:b,children:x})});h.displayName=u;function f(m){const g=i(n+"CollectionConsumer",m);return U.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((C,_)=>v.indexOf(C.ref.current)-v.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},f,s]}function oT(n,e=[]){let t=[];function s(i,o){const a=T.createContext(o),l=t.length;t=[...t,o];const u=h=>{var v;const{scope:f,children:m,...g}=h,p=((v=f==null?void 0:f[n])==null?void 0:v[l])||a,x=T.useMemo(()=>g,Object.values(g));return y.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(h,f){var p;const m=((p=f==null?void 0:f[n])==null?void 0:p[l])||a,g=T.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const r=()=>{const i=t.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[n])||i;return T.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[s,AM(r,...e)]}function AM(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var SM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ln=SM.reduce((n,e)=>{const t=T.forwardRef((s,r)=>{const{asChild:i,...o}=s,a=i?Kh:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(a,{...o,ref:r})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function aT(n,e){n&&Hp.flushSync(()=>n.dispatchEvent(e))}function Ur(n){const e=T.useRef(n);return T.useEffect(()=>{e.current=n}),T.useMemo(()=>(...t)=>{var s;return(s=e.current)==null?void 0:s.call(e,...t)},[])}function EM(n,e=globalThis==null?void 0:globalThis.document){const t=Ur(n);T.useEffect(()=>{const s=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var CM="DismissableLayer",Tw="dismissableLayer.update",_M="dismissableLayer.pointerDownOutside",TM="dismissableLayer.focusOutside",fS,lT=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),d1=T.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=n,u=T.useContext(lT),[d,h]=T.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=T.useState({}),g=Ys(e,P=>h(P)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(x),w=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,C=w>=v,_=PM(P=>{const N=P.target,L=[...u.branches].some(M=>M.contains(N));!C||L||(r==null||r(P),o==null||o(P),P.defaultPrevented||a==null||a())},f),k=NM(P=>{const N=P.target;[...u.branches].some(M=>M.contains(N))||(i==null||i(P),o==null||o(P),P.defaultPrevented||a==null||a())},f);return EM(P=>{w===u.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&a&&(P.preventDefault(),a()))},f),T.useEffect(()=>{if(d)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(fS=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),pS(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=fS)}},[d,f,t,u]),T.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),pS())},[d,u]),T.useEffect(()=>{const P=()=>m({});return document.addEventListener(Tw,P),()=>document.removeEventListener(Tw,P)},[]),y.jsx(Ln.div,{...l,ref:g,style:{pointerEvents:b?C?"auto":"none":void 0,...n.style},onFocusCapture:yt(n.onFocusCapture,k.onFocusCapture),onBlurCapture:yt(n.onBlurCapture,k.onBlurCapture),onPointerDownCapture:yt(n.onPointerDownCapture,_.onPointerDownCapture)})});d1.displayName=CM;var kM="DismissableLayerBranch",cT=T.forwardRef((n,e)=>{const t=T.useContext(lT),s=T.useRef(null),r=Ys(e,s);return T.useEffect(()=>{const i=s.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),y.jsx(Ln.div,{...n,ref:r})});cT.displayName=kM;function PM(n,e=globalThis==null?void 0:globalThis.document){const t=Ur(n),s=T.useRef(!1),r=T.useRef(()=>{});return T.useEffect(()=>{const i=a=>{if(a.target&&!s.current){let l=function(){uT(_M,t,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function NM(n,e=globalThis==null?void 0:globalThis.document){const t=Ur(n),s=T.useRef(!1);return T.useEffect(()=>{const r=i=>{i.target&&!s.current&&uT(TM,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function pS(){const n=new CustomEvent(Tw);document.dispatchEvent(n)}function uT(n,e,t,{discrete:s}){const r=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),s?aT(r,i):r.dispatchEvent(i)}var RM=d1,LM=cT,ic=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},MM="Portal",dT=T.forwardRef((n,e)=>{var a;const{container:t,...s}=n,[r,i]=T.useState(!1);ic(()=>i(!0),[]);const o=t||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?nT.createPortal(y.jsx(Ln.div,{...s,ref:e}),o):null});dT.displayName=MM;function IM(n,e){return T.useReducer((t,s)=>e[t][s]??t,n)}var h1=n=>{const{present:e,children:t}=n,s=DM(e),r=typeof t=="function"?t({present:s.isPresent}):T.Children.only(t),i=Ys(s.ref,OM(r));return typeof t=="function"||s.isPresent?T.cloneElement(r,{ref:i}):null};h1.displayName="Presence";function DM(n){const[e,t]=T.useState(),s=T.useRef({}),r=T.useRef(n),i=T.useRef("none"),o=n?"mounted":"unmounted",[a,l]=IM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const u=Tm(s.current);i.current=a==="mounted"?u:"none"},[a]),ic(()=>{const u=s.current,d=r.current;if(d!==n){const f=i.current,m=Tm(u);n?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,l]),ic(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=m=>{const p=Tm(s.current).includes(m.animationName);if(m.target===e&&p&&(l("ANIMATION_END"),!r.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=m=>{m.target===e&&(i.current=Tm(s.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(u=>{u&&(s.current=getComputedStyle(u)),t(u)},[])}}function Tm(n){return(n==null?void 0:n.animationName)||"none"}function OM(n){var s,r;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function jM({prop:n,defaultProp:e,onChange:t=()=>{}}){const[s,r]=FM({defaultProp:e,onChange:t}),i=n!==void 0,o=i?n:s,a=Ur(t),l=T.useCallback(u=>{if(i){const h=typeof u=="function"?u(n):u;h!==n&&a(h)}else r(u)},[i,n,r,a]);return[o,l]}function FM({defaultProp:n,onChange:e}){const t=T.useState(n),[s]=t,r=T.useRef(s),i=Ur(e);return T.useEffect(()=>{r.current!==s&&(i(s),r.current=s)},[s,r,i]),t}var BM="VisuallyHidden",lv=T.forwardRef((n,e)=>y.jsx(Ln.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));lv.displayName=BM;var zM=lv,f1="ToastProvider",[p1,$M,HM]=bM("Toast"),[hT,pz]=oT("Toast",[HM]),[UM,cv]=hT(f1),fT=n=>{const{__scopeToast:e,label:t="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:i=50,children:o}=n,[a,l]=T.useState(null),[u,d]=T.useState(0),h=T.useRef(!1),f=T.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${f1}\`. Expected non-empty \`string\`.`),y.jsx(p1.Provider,{scope:e,children:y.jsx(UM,{scope:e,label:t,duration:s,swipeDirection:r,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:T.useCallback(()=>d(m=>m+1),[]),onToastRemove:T.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};fT.displayName=f1;var pT="ToastViewport",VM=["F8"],kw="toast.viewportPause",Pw="toast.viewportResume",mT=T.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:s=VM,label:r="Notifications ({hotkey})",...i}=n,o=cv(pT,t),a=$M(t),l=T.useRef(null),u=T.useRef(null),d=T.useRef(null),h=T.useRef(null),f=Ys(e,h,o.onViewportChange),m=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;T.useEffect(()=>{const x=v=>{var b;s.length!==0&&s.every(C=>v[C]||v.code===C)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[s]),T.useEffect(()=>{const x=l.current,v=h.current;if(g&&x&&v){const w=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(kw);v.dispatchEvent(k),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(Pw);v.dispatchEvent(k),o.isClosePausedRef.current=!1}},C=k=>{!x.contains(k.relatedTarget)&&b()},_=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",w),x.addEventListener("focusout",C),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",_),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",C),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",_),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[g,o.isClosePausedRef]);const p=T.useCallback(({tabbingDirection:x})=>{const w=a().map(b=>{const C=b.ref.current,_=[C,...sI(C)];return x==="forwards"?_:_.reverse()});return(x==="forwards"?w.reverse():w).flat()},[a]);return T.useEffect(()=>{const x=h.current;if(x){const v=w=>{var _,k,P;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const N=document.activeElement,L=w.shiftKey;if(w.target===x&&L){(_=u.current)==null||_.focus();return}const F=p({tabbingDirection:L?"backwards":"forwards"}),G=F.findIndex(O=>O===N);g0(F.slice(G+1))?w.preventDefault():L?(k=u.current)==null||k.focus():(P=d.current)==null||P.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[a,p]),y.jsxs(LM,{ref:l,role:"region","aria-label":r.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&y.jsx(Nw,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});g0(x)}}),y.jsx(p1.Slot,{scope:t,children:y.jsx(Ln.ol,{tabIndex:-1,...i,ref:f})}),g&&y.jsx(Nw,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});g0(x)}})]})});mT.displayName=pT;var gT="ToastFocusProxy",Nw=T.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:s,...r}=n,i=cv(gT,t);return y.jsx(lv,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&s()}})});Nw.displayName=gT;var uv="Toast",WM="toast.swipeStart",GM="toast.swipeMove",qM="toast.swipeCancel",XM="toast.swipeEnd",yT=T.forwardRef((n,e)=>{const{forceMount:t,open:s,defaultOpen:r,onOpenChange:i,...o}=n,[a=!0,l]=jM({prop:s,defaultProp:r,onChange:i});return y.jsx(h1,{present:t||a,children:y.jsx(QM,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Ur(n.onPause),onResume:Ur(n.onResume),onSwipeStart:yt(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:yt(n.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:yt(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:yt(n.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});yT.displayName=uv;var[KM,YM]=hT(uv,{onClose(){}}),QM=T.forwardRef((n,e)=>{const{__scopeToast:t,type:s="foreground",duration:r,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...g}=n,p=cv(uv,t),[x,v]=T.useState(null),w=Ys(e,O=>v(O)),b=T.useRef(null),C=T.useRef(null),_=r||p.duration,k=T.useRef(0),P=T.useRef(_),N=T.useRef(0),{onToastAdd:L,onToastRemove:M}=p,D=Ur(()=>{var ne;(x==null?void 0:x.contains(document.activeElement))&&((ne=p.viewport)==null||ne.focus()),o()}),F=T.useCallback(O=>{!O||O===1/0||(window.clearTimeout(N.current),k.current=new Date().getTime(),N.current=window.setTimeout(D,O))},[D]);T.useEffect(()=>{const O=p.viewport;if(O){const ne=()=>{F(P.current),u==null||u()},j=()=>{const B=new Date().getTime()-k.current;P.current=P.current-B,window.clearTimeout(N.current),l==null||l()};return O.addEventListener(kw,j),O.addEventListener(Pw,ne),()=>{O.removeEventListener(kw,j),O.removeEventListener(Pw,ne)}}},[p.viewport,_,l,u,F]),T.useEffect(()=>{i&&!p.isClosePausedRef.current&&F(_)},[i,_,p.isClosePausedRef,F]),T.useEffect(()=>(L(),()=>M()),[L,M]);const G=T.useMemo(()=>x?ET(x):null,[x]);return p.viewport?y.jsxs(y.Fragment,{children:[G&&y.jsx(JM,{__scopeToast:t,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:G}),y.jsx(KM,{scope:t,onClose:D,children:Hp.createPortal(y.jsx(p1.ItemSlot,{scope:t,children:y.jsx(RM,{asChild:!0,onEscapeKeyDown:yt(a,()=>{p.isFocusedToastEscapeKeyDownRef.current||D(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(Ln.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:yt(n.onKeyDown,O=>{O.key==="Escape"&&(a==null||a(O.nativeEvent),O.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:yt(n.onPointerDown,O=>{O.button===0&&(b.current={x:O.clientX,y:O.clientY})}),onPointerMove:yt(n.onPointerMove,O=>{if(!b.current)return;const ne=O.clientX-b.current.x,j=O.clientY-b.current.y,B=!!C.current,R=["left","right"].includes(p.swipeDirection),$=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,Y=R?$(0,ne):0,W=R?0:$(0,j),q=O.pointerType==="touch"?10:2,ee={x:Y,y:W},Se={originalEvent:O,delta:ee};B?(C.current=ee,km(GM,h,Se,{discrete:!1})):mS(ee,p.swipeDirection,q)?(C.current=ee,km(WM,d,Se,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(ne)>q||Math.abs(j)>q)&&(b.current=null)}),onPointerUp:yt(n.onPointerUp,O=>{const ne=C.current,j=O.target;if(j.hasPointerCapture(O.pointerId)&&j.releasePointerCapture(O.pointerId),C.current=null,b.current=null,ne){const B=O.currentTarget,R={originalEvent:O,delta:ne};mS(ne,p.swipeDirection,p.swipeThreshold)?km(XM,m,R,{discrete:!0}):km(qM,f,R,{discrete:!0}),B.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),JM=n=>{const{__scopeToast:e,children:t,...s}=n,r=cv(uv,e),[i,o]=T.useState(!1),[a,l]=T.useState(!1);return tI(()=>o(!0)),T.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:y.jsx(dT,{asChild:!0,children:y.jsx(lv,{...s,children:i&&y.jsxs(y.Fragment,{children:[r.label," ",t]})})})},ZM="ToastTitle",vT=T.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n;return y.jsx(Ln.div,{...s,ref:e})});vT.displayName=ZM;var eI="ToastDescription",wT=T.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n;return y.jsx(Ln.div,{...s,ref:e})});wT.displayName=eI;var xT="ToastAction",bT=T.forwardRef((n,e)=>{const{altText:t,...s}=n;return t.trim()?y.jsx(ST,{altText:t,asChild:!0,children:y.jsx(m1,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${xT}\`. Expected non-empty \`string\`.`),null)});bT.displayName=xT;var AT="ToastClose",m1=T.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n,r=YM(AT,t);return y.jsx(ST,{asChild:!0,children:y.jsx(Ln.button,{type:"button",...s,ref:e,onClick:yt(n.onClick,r.onClose)})})});m1.displayName=AT;var ST=T.forwardRef((n,e)=>{const{__scopeToast:t,altText:s,...r}=n;return y.jsx(Ln.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:e})});function ET(n){const e=[];return Array.from(n.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),nI(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!r)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...ET(s))}}),e}function km(n,e,t,{discrete:s}){const r=t.originalEvent.currentTarget,i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),s?aT(r,i):r.dispatchEvent(i)}var mS=(n,e,t=0)=>{const s=Math.abs(n.x),r=Math.abs(n.y),i=s>r;return e==="left"||e==="right"?i&&s>t:!i&&r>t};function tI(n=()=>{}){const e=Ur(n);ic(()=>{let t=0,s=0;return t=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(s)}},[e])}function nI(n){return n.nodeType===n.ELEMENT_NODE}function sI(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function g0(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var rI=fT,CT=mT,_T=yT,TT=vT,kT=wT,PT=bT,NT=m1;function RT(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=RT(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function LT(){for(var n,e,t=0,s="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=RT(n))&&(s&&(s+=" "),s+=e);return s}const gS=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,yS=LT,MT=(n,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return yS(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:i}=e,o=Object.keys(r).map(u=>{const d=t==null?void 0:t[u],h=i==null?void 0:i[u];if(d===null)return null;const f=gS(d)||gS(h);return r[u][f]}),a=t&&Object.entries(t).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),l=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(g=>{let[p,x]=g;return Array.isArray(x)?x.includes({...i,...a}[p]):{...i,...a}[p]===x})?[...u,h,f]:u},[]);return yS(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IT=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=T.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:o,...a},l)=>T.createElement("svg",{ref:l,...oI,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:IT("lucide",r),...a},[...o.map(([u,d])=>T.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(n,e)=>{const t=T.forwardRef(({className:s,...r},i)=>T.createElement(aI,{ref:i,iconNode:e,className:IT(`lucide-${iI(n)}`,s),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=Ae("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=Ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=Ae("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=Ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Ae("FilePlus2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 15h6",key:"4e2qda"}],["path",{d:"M6 12v6",key:"1u72j0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=Ae("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Ae("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Ae("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=Ae("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=Ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=Ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=Ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=Ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=Ae("Joystick",[["path",{d:"M21 17a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-2Z",key:"jg2n2t"}],["path",{d:"M6 15v-2",key:"gd6mvg"}],["path",{d:"M12 15V9",key:"8c7uyn"}],["circle",{cx:"12",cy:"6",r:"3",key:"1gm2ql"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Ae("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=Ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Ae("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=Ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=Ae("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=Ae("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=Ae("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=Ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=Ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),v1="-",AI=n=>{const e=EI(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:o=>{const a=o.split(v1);return a[0]===""&&a.length!==1&&a.shift(),FT(a,e)||SI(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&s[o]?[...l,...s[o]]:l}}},FT=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],s=e.nextPart.get(t),r=s?FT(n.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=n.join(v1);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},SS=/^\[(.+)\]$/,SI=n=>{if(SS.test(n)){const e=SS.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},EI=n=>{const{theme:e,prefix:t}=n,s={nextPart:new Map,validators:[]};return _I(Object.entries(n.classGroups),t).forEach(([i,o])=>{Mw(o,s,i,e)}),s},Mw=(n,e,t,s)=>{n.forEach(r=>{if(typeof r=="string"){const i=r===""?e:ES(e,r);i.classGroupId=t;return}if(typeof r=="function"){if(CI(r)){Mw(r(s),e,t,s);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([i,o])=>{Mw(o,ES(e,i),t,s)})})},ES=(n,e)=>{let t=n;return e.split(v1).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},CI=n=>n.isThemeGetter,_I=(n,e)=>e?n.map(([t,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[t,r]}):n,TI=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const r=(i,o)=>{t.set(i,o),e++,e>n&&(e=0,s=t,t=new Map)};return{get(i){let o=t.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return r(i,o),o},set(i,o){t.has(i)?t.set(i,o):r(i,o)}}},BT="!",kI=n=>{const{separator:e,experimentalParseClassName:t}=n,s=e.length===1,r=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let x=0;x<a.length;x++){let v=a[x];if(u===0){if(v===r&&(s||a.slice(x,x+i)===e)){l.push(a.slice(d,x)),d=x+i;continue}if(v==="/"){h=x;continue}}v==="["?u++:v==="]"&&u--}const f=l.length===0?a:a.substring(d),m=f.startsWith(BT),g=m?f.substring(1):f,p=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return t?a=>t({className:a,parseClassName:o}):o},PI=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(s=>{s[0]==="["?(e.push(...t.sort(),s),t=[]):t.push(s)}),e.push(...t.sort()),e},NI=n=>({cache:TI(n.cacheSize),parseClassName:kI(n),...AI(n)}),RI=/\s+/,LI=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],o=n.trim().split(RI);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=t(u);let g=!!m,p=s(g?f.substring(0,m):f);if(!p){if(!g){a=u+(a.length>0?" "+a:a);continue}if(p=s(f),!p){a=u+(a.length>0?" "+a:a);continue}g=!1}const x=PI(d).join(":"),v=h?x+BT:x,w=v+p;if(i.includes(w))continue;i.push(w);const b=r(p,g);for(let C=0;C<b.length;++C){const _=b[C];i.push(v+_)}a=u+(a.length>0?" "+a:a)}return a};function MI(){let n=0,e,t,s="";for(;n<arguments.length;)(e=arguments[n++])&&(t=zT(e))&&(s&&(s+=" "),s+=t);return s}const zT=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=zT(n[s]))&&(t&&(t+=" "),t+=e);return t};function II(n,...e){let t,s,r,i=o;function o(l){const u=e.reduce((d,h)=>h(d),n());return t=NI(u),s=t.cache.get,r=t.cache.set,i=a,a(l)}function a(l){const u=s(l);if(u)return u;const d=LI(l,t);return r(l,d),d}return function(){return i(MI.apply(null,arguments))}}const je=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},$T=/^\[(?:([a-z-]+):)?(.+)\]$/i,DI=/^\d+\/\d+$/,OI=new Set(["px","full","screen"]),jI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$I=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xr=n=>eu(n)||OI.has(n)||DI.test(n),Zi=n=>Pd(n,"length",KI),eu=n=>!!n&&!Number.isNaN(Number(n)),v0=n=>Pd(n,"number",eu),Vd=n=>!!n&&Number.isInteger(Number(n)),HI=n=>n.endsWith("%")&&eu(n.slice(0,-1)),ce=n=>$T.test(n),eo=n=>jI.test(n),UI=new Set(["length","size","percentage"]),VI=n=>Pd(n,UI,HT),WI=n=>Pd(n,"position",HT),GI=new Set(["image","url"]),qI=n=>Pd(n,GI,QI),XI=n=>Pd(n,"",YI),Wd=()=>!0,Pd=(n,e,t)=>{const s=$T.exec(n);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):t(s[2]):!1},KI=n=>FI.test(n)&&!BI.test(n),HT=()=>!1,YI=n=>zI.test(n),QI=n=>$I.test(n),JI=()=>{const n=je("colors"),e=je("spacing"),t=je("blur"),s=je("brightness"),r=je("borderColor"),i=je("borderRadius"),o=je("borderSpacing"),a=je("borderWidth"),l=je("contrast"),u=je("grayscale"),d=je("hueRotate"),h=je("invert"),f=je("gap"),m=je("gradientColorStops"),g=je("gradientColorStopPositions"),p=je("inset"),x=je("margin"),v=je("opacity"),w=je("padding"),b=je("saturate"),C=je("scale"),_=je("sepia"),k=je("skew"),P=je("space"),N=je("translate"),L=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ce,e],F=()=>[ce,e],G=()=>["",Xr,Zi],O=()=>["auto",eu,ce],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",ce],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[eu,ce];return{cacheSize:500,separator:":",theme:{colors:[Wd],spacing:[Xr,Zi],blur:["none","",eo,ce],brightness:W(),borderColor:[n],borderRadius:["none","","full",eo,ce],borderSpacing:F(),borderWidth:G(),contrast:W(),grayscale:$(),hueRotate:W(),invert:$(),gap:F(),gradientColorStops:[n],gradientColorStopPositions:[HI,Zi],inset:D(),margin:D(),opacity:W(),padding:F(),saturate:W(),scale:W(),sepia:$(),skew:W(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[eo]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),ce]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vd,ce]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Vd,ce]}],"grid-cols":[{"grid-cols":[Wd]}],"col-start-end":[{col:["auto",{span:["full",Vd,ce]},ce]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Wd]}],"row-start-end":[{row:["auto",{span:[Vd,ce]},ce]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[eo]},eo]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",eo,Zi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",v0]}],"font-family":[{font:[Wd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",eu,v0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xr,Zi]}],"underline-offset":[{"underline-offset":["auto",Xr,ce]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),WI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qI]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:j()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Xr,ce]}],"outline-w":[{outline:[Xr,Zi]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Xr,Zi]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",eo,XI]}],"shadow-color":[{shadow:[Wd]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",eo,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Vd,ce]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Xr,Zi,v0]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ZI=II(JI);function rt(...n){return ZI(LT(n))}const eD=rI,UT=T.forwardRef(({className:n,...e},t)=>y.jsx(CT,{ref:t,className:rt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));UT.displayName=CT.displayName;const tD=MT("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),VT=T.forwardRef(({className:n,variant:e,...t},s)=>y.jsx(_T,{ref:s,className:rt(tD({variant:e}),n),...t}));VT.displayName=_T.displayName;const nD=T.forwardRef(({className:n,...e},t)=>y.jsx(PT,{ref:t,className:rt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));nD.displayName=PT.displayName;const WT=T.forwardRef(({className:n,...e},t)=>y.jsx(NT,{ref:t,className:rt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:y.jsx(jT,{className:"h-4 w-4"})}));WT.displayName=NT.displayName;const GT=T.forwardRef(({className:n,...e},t)=>y.jsx(TT,{ref:t,className:rt("text-sm font-semibold",n),...e}));GT.displayName=TT.displayName;const qT=T.forwardRef(({className:n,...e},t)=>y.jsx(kT,{ref:t,className:rt("text-sm opacity-90",n),...e}));qT.displayName=kT.displayName;function sD(){const{toasts:n}=pM();return y.jsxs(eD,{children:[n.map(function({id:e,title:t,description:s,action:r,...i}){return y.jsxs(VT,{...i,children:[y.jsxs("div",{className:"grid gap-1",children:[t&&y.jsx(GT,{children:t}),s&&y.jsx(qT,{children:s})]}),r,y.jsx(WT,{})]},e)}),y.jsx(UT,{})]})}var CS=["light","dark"],rD="(prefers-color-scheme: dark)",iD=T.createContext(void 0),oD={setTheme:n=>{},themes:[]},aD=()=>{var n;return(n=T.useContext(iD))!=null?n:oD};T.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:s,enableColorScheme:r,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,h=r?CS.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,p=!1,x=!0)=>{let v=o?o[g]:g,w=p?g+"|| ''":`'${v}'`,b="";return r&&x&&!p&&CS.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),t==="class"?p||v?b+=`c.add(${w})`:b+="null":v&&(b+=`d[s](n,${w})`),b},m=n?`!function(){${d}${f(n)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${rD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return T.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var lD=n=>{switch(n){case"success":return dD;case"info":return fD;case"warning":return hD;case"error":return pD;default:return null}},cD=Array(12).fill(0),uD=({visible:n})=>U.createElement("div",{className:"sonner-loading-wrapper","data-visible":n},U.createElement("div",{className:"sonner-spinner"},cD.map((e,t)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),dD=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hD=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fD=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pD=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),mD=()=>{let[n,e]=U.useState(document.hidden);return U.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},Iw=1,gD=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...s}=n,r=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:Iw++,i=this.toasts.find(a=>a.id===r),o=n.dismissible===void 0?!0:n.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===r?(this.publish({...a,...n,id:r,title:t}),{...a,...n,id:r,dismissible:o,title:t}):a):this.addToast({title:t,...s,dismissible:o,id:r}),r},this.dismiss=n=>(n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=n instanceof Promise?n:n(),r=t!==void 0;return s.then(async i=>{if(vD(i)&&!i.ok){r=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:t,type:"error",message:o,description:a})}else if(e.success!==void 0){r=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:t,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){r=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:t,type:"error",message:o,description:a})}}).finally(()=>{var i;r&&(this.dismiss(t),t=void 0),(i=e.finally)==null||i.call(e)}),t},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||Iw++;return this.create({jsx:n(t),id:t,...e}),t},this.subscribers=[],this.toasts=[]}},Kn=new gD,yD=(n,e)=>{let t=(e==null?void 0:e.id)||Iw++;return Kn.addToast({title:n,...e,id:t}),t},vD=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",wD=yD,xD=()=>Kn.toasts;Object.assign(wD,{success:Kn.success,info:Kn.info,warning:Kn.warning,error:Kn.error,custom:Kn.custom,message:Kn.message,promise:Kn.promise,dismiss:Kn.dismiss,loading:Kn.loading},{getHistory:xD});function bD(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}bD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Pm(n){return n.label!==void 0}var AD=3,SD="32px",ED=4e3,CD=356,_D=14,TD=20,kD=200;function PD(...n){return n.filter(Boolean).join(" ")}var ND=n=>{var e,t,s,r,i,o,a,l,u,d;let{invert:h,toast:f,unstyled:m,interacting:g,setHeights:p,visibleToasts:x,heights:v,index:w,toasts:b,expanded:C,removeToast:_,defaultRichColors:k,closeButton:P,style:N,cancelButtonStyle:L,actionButtonStyle:M,className:D="",descriptionClassName:F="",duration:G,position:O,gap:ne,loadingIcon:j,expandByDefault:B,classNames:R,icons:$,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:W,cn:q}=n,[ee,Se]=U.useState(!1),[Ye,de]=U.useState(!1),[ge,yn]=U.useState(!1),[ir,or]=U.useState(!1),[Ki,ar]=U.useState(0),[lr,Ca]=U.useState(0),am=U.useRef(null),Yi=U.useRef(null),jv=w===0,Fv=w+1<=x,Nt=f.type,xc=f.dismissible!==!1,TN=f.className||"",kN=f.descriptionClassName||"",lm=U.useMemo(()=>v.findIndex(le=>le.toastId===f.id)||0,[v,f.id]),PN=U.useMemo(()=>{var le;return(le=f.closeButton)!=null?le:P},[f.closeButton,P]),Q1=U.useMemo(()=>f.duration||G||ED,[f.duration,G]),Bv=U.useRef(0),bc=U.useRef(0),J1=U.useRef(0),Ac=U.useRef(null),[Z1,NN]=O.split("-"),eA=U.useMemo(()=>v.reduce((le,Oe,Le)=>Le>=lm?le:le+Oe.height,0),[v,lm]),tA=mD(),RN=f.invert||h,zv=Nt==="loading";bc.current=U.useMemo(()=>lm*ne+eA,[lm,eA]),U.useEffect(()=>{Se(!0)},[]),U.useLayoutEffect(()=>{if(!ee)return;let le=Yi.current,Oe=le.style.height;le.style.height="auto";let Le=le.getBoundingClientRect().height;le.style.height=Oe,Ca(Le),p(cr=>cr.find(ur=>ur.toastId===f.id)?cr.map(ur=>ur.toastId===f.id?{...ur,height:Le}:ur):[{toastId:f.id,height:Le,position:f.position},...cr])},[ee,f.title,f.description,p,f.id]);let Qi=U.useCallback(()=>{de(!0),ar(bc.current),p(le=>le.filter(Oe=>Oe.toastId!==f.id)),setTimeout(()=>{_(f)},kD)},[f,_,p,bc]);U.useEffect(()=>{if(f.promise&&Nt==="loading"||f.duration===1/0||f.type==="loading")return;let le,Oe=Q1;return C||g||W&&tA?(()=>{if(J1.current<Bv.current){let Le=new Date().getTime()-Bv.current;Oe=Oe-Le}J1.current=new Date().getTime()})():Oe!==1/0&&(Bv.current=new Date().getTime(),le=setTimeout(()=>{var Le;(Le=f.onAutoClose)==null||Le.call(f,f),Qi()},Oe)),()=>clearTimeout(le)},[C,g,B,f,Q1,Qi,f.promise,Nt,W,tA]),U.useEffect(()=>{let le=Yi.current;if(le){let Oe=le.getBoundingClientRect().height;return Ca(Oe),p(Le=>[{toastId:f.id,height:Oe,position:f.position},...Le]),()=>p(Le=>Le.filter(cr=>cr.toastId!==f.id))}},[p,f.id]),U.useEffect(()=>{f.delete&&Qi()},[Qi,f.delete]);function LN(){return $!=null&&$.loading?U.createElement("div",{className:"sonner-loader","data-visible":Nt==="loading"},$.loading):j?U.createElement("div",{className:"sonner-loader","data-visible":Nt==="loading"},j):U.createElement(uD,{visible:Nt==="loading"})}return U.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Yi,className:q(D,TN,R==null?void 0:R.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,R==null?void 0:R.default,R==null?void 0:R[Nt],(t=f==null?void 0:f.classNames)==null?void 0:t[Nt]),"data-sonner-toast":"","data-rich-colors":(s=f.richColors)!=null?s:k,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":ee,"data-promise":!!f.promise,"data-removed":Ye,"data-visible":Fv,"data-y-position":Z1,"data-x-position":NN,"data-index":w,"data-front":jv,"data-swiping":ge,"data-dismissible":xc,"data-type":Nt,"data-invert":RN,"data-swipe-out":ir,"data-expanded":!!(C||B&&ee),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${Ye?Ki:bc.current}px`,"--initial-height":B?"auto":`${lr}px`,...N,...f.style},onPointerDown:le=>{zv||!xc||(am.current=new Date,ar(bc.current),le.target.setPointerCapture(le.pointerId),le.target.tagName!=="BUTTON"&&(yn(!0),Ac.current={x:le.clientX,y:le.clientY}))},onPointerUp:()=>{var le,Oe,Le,cr;if(ir||!xc)return;Ac.current=null;let ur=Number(((le=Yi.current)==null?void 0:le.style.getPropertyValue("--swipe-amount").replace("px",""))||0),cm=new Date().getTime()-((Oe=am.current)==null?void 0:Oe.getTime()),MN=Math.abs(ur)/cm;if(Math.abs(ur)>=TD||MN>.11){ar(bc.current),(Le=f.onDismiss)==null||Le.call(f,f),Qi(),or(!0);return}(cr=Yi.current)==null||cr.style.setProperty("--swipe-amount","0px"),yn(!1)},onPointerMove:le=>{var Oe;if(!Ac.current||!xc)return;let Le=le.clientY-Ac.current.y,cr=le.clientX-Ac.current.x,ur=(Z1==="top"?Math.min:Math.max)(0,Le),cm=le.pointerType==="touch"?10:2;Math.abs(ur)>cm?(Oe=Yi.current)==null||Oe.style.setProperty("--swipe-amount",`${Le}px`):Math.abs(cr)>cm&&(Ac.current=null)}},PN&&!f.jsx?U.createElement("button",{"aria-label":Y,"data-disabled":zv,"data-close-button":!0,onClick:zv||!xc?()=>{}:()=>{var le;Qi(),(le=f.onDismiss)==null||le.call(f,f)},className:q(R==null?void 0:R.closeButton,(r=f==null?void 0:f.classNames)==null?void 0:r.closeButton)},U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||U.isValidElement(f.title)?f.jsx||f.title:U.createElement(U.Fragment,null,Nt||f.icon||f.promise?U.createElement("div",{"data-icon":"",className:q(R==null?void 0:R.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||LN():null,f.type!=="loading"?f.icon||($==null?void 0:$[Nt])||lD(Nt):null):null,U.createElement("div",{"data-content":"",className:q(R==null?void 0:R.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},U.createElement("div",{"data-title":"",className:q(R==null?void 0:R.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?U.createElement("div",{"data-description":"",className:q(F,kN,R==null?void 0:R.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),U.isValidElement(f.cancel)?f.cancel:f.cancel&&Pm(f.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||L,onClick:le=>{var Oe,Le;Pm(f.cancel)&&xc&&((Le=(Oe=f.cancel).onClick)==null||Le.call(Oe,le),Qi())},className:q(R==null?void 0:R.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,U.isValidElement(f.action)?f.action:f.action&&Pm(f.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||M,onClick:le=>{var Oe,Le;Pm(f.action)&&(le.defaultPrevented||((Le=(Oe=f.action).onClick)==null||Le.call(Oe,le),Qi()))},className:q(R==null?void 0:R.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function _S(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}var RD=n=>{let{invert:e,position:t="bottom-right",hotkey:s=["altKey","KeyT"],expand:r,closeButton:i,className:o,offset:a,theme:l="light",richColors:u,duration:d,style:h,visibleToasts:f=AD,toastOptions:m,dir:g=_S(),gap:p=_D,loadingIcon:x,icons:v,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:b,cn:C=PD}=n,[_,k]=U.useState([]),P=U.useMemo(()=>Array.from(new Set([t].concat(_.filter(W=>W.position).map(W=>W.position)))),[_,t]),[N,L]=U.useState([]),[M,D]=U.useState(!1),[F,G]=U.useState(!1),[O,ne]=U.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=U.useRef(null),B=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=U.useRef(null),$=U.useRef(!1),Y=U.useCallback(W=>{var q;(q=_.find(ee=>ee.id===W.id))!=null&&q.delete||Kn.dismiss(W.id),k(ee=>ee.filter(({id:Se})=>Se!==W.id))},[_]);return U.useEffect(()=>Kn.subscribe(W=>{if(W.dismiss){k(q=>q.map(ee=>ee.id===W.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{nT.flushSync(()=>{k(q=>{let ee=q.findIndex(Se=>Se.id===W.id);return ee!==-1?[...q.slice(0,ee),{...q[ee],...W},...q.slice(ee+1)]:[W,...q]})})})}),[]),U.useEffect(()=>{if(l!=="system"){ne(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:W})=>{ne(W?"dark":"light")})},[l]),U.useEffect(()=>{_.length<=1&&D(!1)},[_]),U.useEffect(()=>{let W=q=>{var ee,Se;s.every(Ye=>q[Ye]||q.code===Ye)&&(D(!0),(ee=j.current)==null||ee.focus()),q.code==="Escape"&&(document.activeElement===j.current||(Se=j.current)!=null&&Se.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[s]),U.useEffect(()=>{if(j.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,$.current=!1)}},[j.current]),_.length?U.createElement("section",{"aria-label":`${w} ${B}`,tabIndex:-1},P.map((W,q)=>{var ee;let[Se,Ye]=W.split("-");return U.createElement("ol",{key:W,dir:g==="auto"?_S():g,tabIndex:-1,ref:j,className:o,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":Se,"data-x-position":Ye,style:{"--front-toast-height":`${((ee=N[0])==null?void 0:ee.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||SD,"--width":`${CD}px`,"--gap":`${p}px`,...h},onBlur:de=>{$.current&&!de.currentTarget.contains(de.relatedTarget)&&($.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||$.current||($.current=!0,R.current=de.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{F||D(!1)},onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},_.filter(de=>!de.position&&q===0||de.position===W).map((de,ge)=>{var yn,ir;return U.createElement(ND,{key:de.id,icons:v,index:ge,toast:de,defaultRichColors:u,duration:(yn=m==null?void 0:m.duration)!=null?yn:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(ir=m==null?void 0:m.closeButton)!=null?ir:i,interacting:F,position:W,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:Y,toasts:_.filter(or=>or.position==de.position),heights:N.filter(or=>or.position==de.position),setHeights:L,expandByDefault:r,gap:p,loadingIcon:x,expanded:M,pauseWhenPageIsHidden:b,cn:C})}))})):null};const LD=({...n})=>{const{theme:e="system"}=aD();return y.jsx(RD,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})},MD=["top","right","bottom","left"],ha=Math.min,Zn=Math.max,ly=Math.round,Nm=Math.floor,fa=n=>({x:n,y:n}),ID={left:"right",right:"left",bottom:"top",top:"bottom"},DD={start:"end",end:"start"};function Dw(n,e,t){return Zn(n,ha(e,t))}function Vi(n,e){return typeof n=="function"?n(e):n}function Wi(n){return n.split("-")[0]}function Nd(n){return n.split("-")[1]}function w1(n){return n==="x"?"y":"x"}function x1(n){return n==="y"?"height":"width"}function pa(n){return["top","bottom"].includes(Wi(n))?"y":"x"}function b1(n){return w1(pa(n))}function OD(n,e,t){t===void 0&&(t=!1);const s=Nd(n),r=b1(n),i=x1(r);let o=r==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=cy(o)),[o,cy(o)]}function jD(n){const e=cy(n);return[Ow(n),e,Ow(e)]}function Ow(n){return n.replace(/start|end/g,e=>DD[e])}function FD(n,e,t){const s=["left","right"],r=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:s:e?s:r;case"left":case"right":return e?i:o;default:return[]}}function BD(n,e,t,s){const r=Nd(n);let i=FD(Wi(n),t==="start",s);return r&&(i=i.map(o=>o+"-"+r),e&&(i=i.concat(i.map(Ow)))),i}function cy(n){return n.replace(/left|right|bottom|top/g,e=>ID[e])}function zD(n){return{top:0,right:0,bottom:0,left:0,...n}}function XT(n){return typeof n!="number"?zD(n):{top:n,right:n,bottom:n,left:n}}function uy(n){const{x:e,y:t,width:s,height:r}=n;return{width:s,height:r,top:t,left:e,right:e+s,bottom:t+r,x:e,y:t}}function TS(n,e,t){let{reference:s,floating:r}=n;const i=pa(e),o=b1(e),a=x1(o),l=Wi(e),u=i==="y",d=s.x+s.width/2-r.width/2,h=s.y+s.height/2-r.height/2,f=s[a]/2-r[a]/2;let m;switch(l){case"top":m={x:d,y:s.y-r.height};break;case"bottom":m={x:d,y:s.y+s.height};break;case"right":m={x:s.x+s.width,y:h};break;case"left":m={x:s.x-r.width,y:h};break;default:m={x:s.x,y:s.y}}switch(Nd(e)){case"start":m[o]-=f*(t&&u?-1:1);break;case"end":m[o]+=f*(t&&u?-1:1);break}return m}const $D=async(n,e,t)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:o}=t,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:d,y:h}=TS(u,s,l),f=s,m={},g=0;for(let p=0;p<a.length;p++){const{name:x,fn:v}=a[p],{x:w,y:b,data:C,reset:_}=await v({x:d,y:h,initialPlacement:s,placement:f,strategy:r,middlewareData:m,rects:u,platform:o,elements:{reference:n,floating:e}});d=w??d,h=b??h,m={...m,[x]:{...m[x],...C}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):_.rects),{x:d,y:h}=TS(u,f,l)),p=-1)}return{x:d,y:h,placement:f,strategy:r,middlewareData:m}};async function Yh(n,e){var t;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:o,elements:a,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Vi(e,n),g=XT(m),x=a[f?h==="floating"?"reference":"floating":h],v=uy(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(x)))==null||t?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),w=h==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=uy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:l}):w);return{top:(v.top-_.top+g.top)/C.y,bottom:(_.bottom-v.bottom+g.bottom)/C.y,left:(v.left-_.left+g.left)/C.x,right:(_.right-v.right+g.right)/C.x}}const HD=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:r,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Vi(n,e)||{};if(u==null)return{};const h=XT(d),f={x:t,y:s},m=b1(r),g=x1(m),p=await o.getDimensions(u),x=m==="y",v=x?"top":"left",w=x?"bottom":"right",b=x?"clientHeight":"clientWidth",C=i.reference[g]+i.reference[m]-f[m]-i.floating[g],_=f[m]-i.reference[m],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=k?k[b]:0;(!P||!await(o.isElement==null?void 0:o.isElement(k)))&&(P=a.floating[b]||i.floating[g]);const N=C/2-_/2,L=P/2-p[g]/2-1,M=ha(h[v],L),D=ha(h[w],L),F=M,G=P-p[g]-D,O=P/2-p[g]/2+N,ne=Dw(F,O,G),j=!l.arrow&&Nd(r)!=null&&O!==ne&&i.reference[g]/2-(O<F?M:D)-p[g]/2<0,B=j?O<F?O-F:O-G:0;return{[m]:f[m]+B,data:{[m]:ne,centerOffset:O-ne-B,...j&&{alignmentOffset:B}},reset:j}}}),UD=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:r,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...x}=Vi(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const v=Wi(r),w=pa(a),b=Wi(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),_=f||(b||!p?[cy(a)]:jD(a)),k=g!=="none";!f&&k&&_.push(...BD(a,p,g,C));const P=[a,..._],N=await Yh(e,x),L=[];let M=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&L.push(N[v]),h){const O=OD(r,o,C);L.push(N[O[0]],N[O[1]])}if(M=[...M,{placement:r,overflows:L}],!L.every(O=>O<=0)){var D,F;const O=(((D=i.flip)==null?void 0:D.index)||0)+1,ne=P[O];if(ne)return{data:{index:O,overflows:M},reset:{placement:ne}};let j=(F=M.filter(B=>B.overflows[0]<=0).sort((B,R)=>B.overflows[1]-R.overflows[1])[0])==null?void 0:F.placement;if(!j)switch(m){case"bestFit":{var G;const B=(G=M.filter(R=>{if(k){const $=pa(R.placement);return $===w||$==="y"}return!0}).map(R=>[R.placement,R.overflows.filter($=>$>0).reduce(($,Y)=>$+Y,0)]).sort((R,$)=>R[1]-$[1])[0])==null?void 0:G[0];B&&(j=B);break}case"initialPlacement":j=a;break}if(r!==j)return{reset:{placement:j}}}return{}}}};function kS(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function PS(n){return MD.some(e=>n[e]>=0)}const VD=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...r}=Vi(n,e);switch(s){case"referenceHidden":{const i=await Yh(e,{...r,elementContext:"reference"}),o=kS(i,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:PS(o)}}}case"escaped":{const i=await Yh(e,{...r,altBoundary:!0}),o=kS(i,t.floating);return{data:{escapedOffsets:o,escaped:PS(o)}}}default:return{}}}}};async function WD(n,e){const{placement:t,platform:s,elements:r}=n,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=Wi(t),a=Nd(t),l=pa(t)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=Vi(e,n);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const GD=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:r,y:i,placement:o,middlewareData:a}=e,l=await WD(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(s=a.arrow)!=null&&s.alignmentOffset?{}:{x:r+l.x,y:i+l.y,data:{...l,placement:o}}}}},qD=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:v,y:w}=x;return{x:v,y:w}}},...l}=Vi(n,e),u={x:t,y:s},d=await Yh(e,l),h=pa(Wi(r)),f=w1(h);let m=u[f],g=u[h];if(i){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",w=m+d[x],b=m-d[v];m=Dw(w,m,b)}if(o){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=g+d[x],b=g-d[v];g=Dw(w,g,b)}const p=a.fn({...e,[f]:m,[h]:g});return{...p,data:{x:p.x-t,y:p.y-s,enabled:{[f]:i,[h]:o}}}}}},XD=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:r,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Vi(n,e),d={x:t,y:s},h=pa(r),f=w1(h);let m=d[f],g=d[h];const p=Vi(a,e),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const b=f==="y"?"height":"width",C=i.reference[f]-i.floating[b]+x.mainAxis,_=i.reference[f]+i.reference[b]-x.mainAxis;m<C?m=C:m>_&&(m=_)}if(u){var v,w;const b=f==="y"?"width":"height",C=["top","left"].includes(Wi(r)),_=i.reference[h]-i.floating[b]+(C&&((v=o.offset)==null?void 0:v[h])||0)+(C?0:x.crossAxis),k=i.reference[h]+i.reference[b]+(C?0:((w=o.offset)==null?void 0:w[h])||0)-(C?x.crossAxis:0);g<_?g=_:g>k&&(g=k)}return{[f]:m,[h]:g}}}},KD=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:r,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Vi(n,e),d=await Yh(e,u),h=Wi(r),f=Nd(r),m=pa(r)==="y",{width:g,height:p}=i.floating;let x,v;h==="top"||h==="bottom"?(x=h,v=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,x=f==="end"?"top":"bottom");const w=p-d.top-d.bottom,b=g-d.left-d.right,C=ha(p-d[x],w),_=ha(g-d[v],b),k=!e.middlewareData.shift;let P=C,N=_;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(N=b),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(P=w),k&&!f){const M=Zn(d.left,0),D=Zn(d.right,0),F=Zn(d.top,0),G=Zn(d.bottom,0);m?N=g-2*(M!==0||D!==0?M+D:Zn(d.left,d.right)):P=p-2*(F!==0||G!==0?F+G:Zn(d.top,d.bottom))}await l({...e,availableWidth:N,availableHeight:P});const L=await o.getDimensions(a.floating);return g!==L.width||p!==L.height?{reset:{rects:!0}}:{}}}};function dv(){return typeof window<"u"}function Rd(n){return KT(n)?(n.nodeName||"").toLowerCase():"#document"}function ss(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function qr(n){var e;return(e=(KT(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function KT(n){return dv()?n instanceof Node||n instanceof ss(n).Node:!1}function Qs(n){return dv()?n instanceof Element||n instanceof ss(n).Element:!1}function Vr(n){return dv()?n instanceof HTMLElement||n instanceof ss(n).HTMLElement:!1}function NS(n){return!dv()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ss(n).ShadowRoot}function Vp(n){const{overflow:e,overflowX:t,overflowY:s,display:r}=Js(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!["inline","contents"].includes(r)}function YD(n){return["table","td","th"].includes(Rd(n))}function hv(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function A1(n){const e=S1(),t=Qs(n)?Js(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(t.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(t.contain||"").includes(s))}function QD(n){let e=ma(n);for(;Vr(e)&&!Ed(e);){if(A1(e))return e;if(hv(e))return null;e=ma(e)}return null}function S1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ed(n){return["html","body","#document"].includes(Rd(n))}function Js(n){return ss(n).getComputedStyle(n)}function fv(n){return Qs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ma(n){if(Rd(n)==="html")return n;const e=n.assignedSlot||n.parentNode||NS(n)&&n.host||qr(n);return NS(e)?e.host:e}function YT(n){const e=ma(n);return Ed(e)?n.ownerDocument?n.ownerDocument.body:n.body:Vr(e)&&Vp(e)?e:YT(e)}function Qh(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=YT(n),i=r===((s=n.ownerDocument)==null?void 0:s.body),o=ss(r);if(i){const a=jw(o);return e.concat(o,o.visualViewport||[],Vp(r)?r:[],a&&t?Qh(a):[])}return e.concat(r,Qh(r,[],t))}function jw(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function QT(n){const e=Js(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=Vr(n),i=r?n.offsetWidth:t,o=r?n.offsetHeight:s,a=ly(t)!==i||ly(s)!==o;return a&&(t=i,s=o),{width:t,height:s,$:a}}function E1(n){return Qs(n)?n:n.contextElement}function tu(n){const e=E1(n);if(!Vr(e))return fa(1);const t=e.getBoundingClientRect(),{width:s,height:r,$:i}=QT(e);let o=(i?ly(t.width):t.width)/s,a=(i?ly(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const JD=fa(0);function JT(n){const e=ss(n);return!S1()||!e.visualViewport?JD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ZD(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ss(n)?!1:e}function oc(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=E1(n);let o=fa(1);e&&(s?Qs(s)&&(o=tu(s)):o=tu(n));const a=ZD(i,t,s)?JT(i):fa(0);let l=(r.left+a.x)/o.x,u=(r.top+a.y)/o.y,d=r.width/o.x,h=r.height/o.y;if(i){const f=ss(i),m=s&&Qs(s)?ss(s):s;let g=f,p=jw(g);for(;p&&s&&m!==g;){const x=tu(p),v=p.getBoundingClientRect(),w=Js(p),b=v.left+(p.clientLeft+parseFloat(w.paddingLeft))*x.x,C=v.top+(p.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,h*=x.y,l+=b,u+=C,g=ss(p),p=jw(g)}}return uy({width:d,height:h,x:l,y:u})}function eO(n){let{elements:e,rect:t,offsetParent:s,strategy:r}=n;const i=r==="fixed",o=qr(s),a=e?hv(e.floating):!1;if(s===o||a&&i)return t;let l={scrollLeft:0,scrollTop:0},u=fa(1);const d=fa(0),h=Vr(s);if((h||!h&&!i)&&((Rd(s)!=="body"||Vp(o))&&(l=fv(s)),Vr(s))){const f=oc(s);u=tu(s),d.x=f.x+s.clientLeft,d.y=f.y+s.clientTop}return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+d.x,y:t.y*u.y-l.scrollTop*u.y+d.y}}function tO(n){return Array.from(n.getClientRects())}function Fw(n,e){const t=fv(n).scrollLeft;return e?e.left+t:oc(qr(n)).left+t}function nO(n){const e=qr(n),t=fv(n),s=n.ownerDocument.body,r=Zn(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=Zn(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-t.scrollLeft+Fw(n);const a=-t.scrollTop;return Js(s).direction==="rtl"&&(o+=Zn(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:o,y:a}}function sO(n,e){const t=ss(n),s=qr(n),r=t.visualViewport;let i=s.clientWidth,o=s.clientHeight,a=0,l=0;if(r){i=r.width,o=r.height;const u=S1();(!u||u&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:i,height:o,x:a,y:l}}function rO(n,e){const t=oc(n,!0,e==="fixed"),s=t.top+n.clientTop,r=t.left+n.clientLeft,i=Vr(n)?tu(n):fa(1),o=n.clientWidth*i.x,a=n.clientHeight*i.y,l=r*i.x,u=s*i.y;return{width:o,height:a,x:l,y:u}}function RS(n,e,t){let s;if(e==="viewport")s=sO(n,t);else if(e==="document")s=nO(qr(n));else if(Qs(e))s=rO(e,t);else{const r=JT(n);s={...e,x:e.x-r.x,y:e.y-r.y}}return uy(s)}function ZT(n,e){const t=ma(n);return t===e||!Qs(t)||Ed(t)?!1:Js(t).position==="fixed"||ZT(t,e)}function iO(n,e){const t=e.get(n);if(t)return t;let s=Qh(n,[],!1).filter(a=>Qs(a)&&Rd(a)!=="body"),r=null;const i=Js(n).position==="fixed";let o=i?ma(n):n;for(;Qs(o)&&!Ed(o);){const a=Js(o),l=A1(o);!l&&a.position==="fixed"&&(r=null),(i?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Vp(o)&&!l&&ZT(n,o))?s=s.filter(d=>d!==o):r=a,o=ma(o)}return e.set(n,s),s}function oO(n){let{element:e,boundary:t,rootBoundary:s,strategy:r}=n;const o=[...t==="clippingAncestors"?hv(e)?[]:iO(e,this._c):[].concat(t),s],a=o[0],l=o.reduce((u,d)=>{const h=RS(e,d,r);return u.top=Zn(h.top,u.top),u.right=ha(h.right,u.right),u.bottom=ha(h.bottom,u.bottom),u.left=Zn(h.left,u.left),u},RS(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function aO(n){const{width:e,height:t}=QT(n);return{width:e,height:t}}function lO(n,e,t){const s=Vr(e),r=qr(e),i=t==="fixed",o=oc(n,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=fa(0);if(s||!s&&!i)if((Rd(e)!=="body"||Vp(r))&&(a=fv(e)),s){const m=oc(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else r&&(l.x=Fw(r));let u=0,d=0;if(r&&!s&&!i){const m=r.getBoundingClientRect();d=m.top+a.scrollTop,u=m.left+a.scrollLeft-Fw(r,m)}const h=o.left+a.scrollLeft-l.x-u,f=o.top+a.scrollTop-l.y-d;return{x:h,y:f,width:o.width,height:o.height}}function w0(n){return Js(n).position==="static"}function LS(n,e){if(!Vr(n)||Js(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return qr(n)===t&&(t=t.ownerDocument.body),t}function ek(n,e){const t=ss(n);if(hv(n))return t;if(!Vr(n)){let r=ma(n);for(;r&&!Ed(r);){if(Qs(r)&&!w0(r))return r;r=ma(r)}return t}let s=LS(n,e);for(;s&&YD(s)&&w0(s);)s=LS(s,e);return s&&Ed(s)&&w0(s)&&!A1(s)?t:s||QD(n)||t}const cO=async function(n){const e=this.getOffsetParent||ek,t=this.getDimensions,s=await t(n.floating);return{reference:lO(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function uO(n){return Js(n).direction==="rtl"}const dO={convertOffsetParentRelativeRectToViewportRelativeRect:eO,getDocumentElement:qr,getClippingRect:oO,getOffsetParent:ek,getElementRects:cO,getClientRects:tO,getDimensions:aO,getScale:tu,isElement:Qs,isRTL:uO};function hO(n,e){let t=null,s;const r=qr(n);function i(){var a;clearTimeout(s),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:h,height:f}=n.getBoundingClientRect();if(a||e(),!h||!f)return;const m=Nm(d),g=Nm(r.clientWidth-(u+h)),p=Nm(r.clientHeight-(d+f)),x=Nm(u),w={rootMargin:-m+"px "+-g+"px "+-p+"px "+-x+"px",threshold:Zn(0,ha(1,l))||1};let b=!0;function C(_){const k=_[0].intersectionRatio;if(k!==l){if(!b)return o();k?o(!1,k):s=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{t=new IntersectionObserver(C,{...w,root:r.ownerDocument})}catch{t=new IntersectionObserver(C,w)}t.observe(n)}return o(!0),i}function fO(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,u=E1(n),d=r||i?[...u?Qh(u):[],...Qh(e)]:[];d.forEach(v=>{r&&v.addEventListener("scroll",t,{passive:!0}),i&&v.addEventListener("resize",t)});const h=u&&a?hO(u,t):null;let f=-1,m=null;o&&(m=new ResizeObserver(v=>{let[w]=v;w&&w.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),t()}),u&&!l&&m.observe(u),m.observe(e));let g,p=l?oc(n):null;l&&x();function x(){const v=oc(n);p&&(v.x!==p.x||v.y!==p.y||v.width!==p.width||v.height!==p.height)&&t(),p=v,g=requestAnimationFrame(x)}return t(),()=>{var v;d.forEach(w=>{r&&w.removeEventListener("scroll",t),i&&w.removeEventListener("resize",t)}),h==null||h(),(v=m)==null||v.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const pO=GD,mO=qD,gO=UD,yO=KD,vO=VD,MS=HD,wO=XD,xO=(n,e,t)=>{const s=new Map,r={platform:dO,...t},i={...r.platform,_c:s};return $D(n,e,{...r,platform:i})};var ng=typeof document<"u"?T.useLayoutEffect:T.useEffect;function dy(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!dy(n[s],e[s]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=t;s--!==0;){const i=r[s];if(!(i==="_owner"&&n.$$typeof)&&!dy(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function tk(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function IS(n,e){const t=tk(n);return Math.round(e*t)/t}function x0(n){const e=T.useRef(n);return ng(()=>{e.current=n}),e}function bO(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=n,[d,h]=T.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=T.useState(s);dy(f,s)||m(s);const[g,p]=T.useState(null),[x,v]=T.useState(null),w=T.useCallback(R=>{R!==k.current&&(k.current=R,p(R))},[]),b=T.useCallback(R=>{R!==P.current&&(P.current=R,v(R))},[]),C=i||g,_=o||x,k=T.useRef(null),P=T.useRef(null),N=T.useRef(d),L=l!=null,M=x0(l),D=x0(r),F=x0(u),G=T.useCallback(()=>{if(!k.current||!P.current)return;const R={placement:e,strategy:t,middleware:f};D.current&&(R.platform=D.current),xO(k.current,P.current,R).then($=>{const Y={...$,isPositioned:F.current!==!1};O.current&&!dy(N.current,Y)&&(N.current=Y,Hp.flushSync(()=>{h(Y)}))})},[f,e,t,D,F]);ng(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[u]);const O=T.useRef(!1);ng(()=>(O.current=!0,()=>{O.current=!1}),[]),ng(()=>{if(C&&(k.current=C),_&&(P.current=_),C&&_){if(M.current)return M.current(C,_,G);G()}},[C,_,G,M,L]);const ne=T.useMemo(()=>({reference:k,floating:P,setReference:w,setFloating:b}),[w,b]),j=T.useMemo(()=>({reference:C,floating:_}),[C,_]),B=T.useMemo(()=>{const R={position:t,left:0,top:0};if(!j.floating)return R;const $=IS(j.floating,d.x),Y=IS(j.floating,d.y);return a?{...R,transform:"translate("+$+"px, "+Y+"px)",...tk(j.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:$,top:Y}},[t,a,j.floating,d.x,d.y]);return T.useMemo(()=>({...d,update:G,refs:ne,elements:j,floatingStyles:B}),[d,G,ne,j,B])}const AO=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:r}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?MS({element:s.current,padding:r}).fn(t):{}:s?MS({element:s,padding:r}).fn(t):{}}}},SO=(n,e)=>({...pO(n),options:[n,e]}),EO=(n,e)=>({...mO(n),options:[n,e]}),CO=(n,e)=>({...wO(n),options:[n,e]}),_O=(n,e)=>({...gO(n),options:[n,e]}),TO=(n,e)=>({...yO(n),options:[n,e]}),kO=(n,e)=>({...vO(n),options:[n,e]}),PO=(n,e)=>({...AO(n),options:[n,e]});var NO="Arrow",nk=T.forwardRef((n,e)=>{const{children:t,width:s=10,height:r=5,...i}=n;return y.jsx(Ln.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});nk.displayName=NO;var RO=nk;function LO(n,e=[]){let t=[];function s(i,o){const a=T.createContext(o),l=t.length;t=[...t,o];function u(h){const{scope:f,children:m,...g}=h,p=(f==null?void 0:f[n][l])||a,x=T.useMemo(()=>g,Object.values(g));return y.jsx(p.Provider,{value:x,children:m})}function d(h,f){const m=(f==null?void 0:f[n][l])||a,g=T.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const r=()=>{const i=t.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[n])||i;return T.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[s,MO(r,...e)]}function MO(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function IO(n){const[e,t]=T.useState(void 0);return ic(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var sk="Popper",[rk,ik]=LO(sk),[mz,ok]=rk(sk),ak="PopperAnchor",lk=T.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...r}=n,i=ok(ak,t),o=T.useRef(null),a=Ys(e,o);return T.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:y.jsx(Ln.div,{...r,ref:a})});lk.displayName=ak;var C1="PopperContent",[DO,OO]=rk(C1),ck=T.forwardRef((n,e)=>{var ge,yn,ir,or,Ki,ar;const{__scopePopper:t,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=n,x=ok(C1,t),[v,w]=T.useState(null),b=Ys(e,lr=>w(lr)),[C,_]=T.useState(null),k=IO(C),P=(k==null?void 0:k.width)??0,N=(k==null?void 0:k.height)??0,L=s+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],F=D.length>0,G={padding:M,boundary:D.filter(FO),altBoundary:F},{refs:O,floatingStyles:ne,placement:j,isPositioned:B,middlewareData:R}=bO({strategy:"fixed",placement:L,whileElementsMounted:(...lr)=>fO(...lr,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[SO({mainAxis:r+N,alignmentAxis:o}),l&&EO({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?CO():void 0,...G}),l&&_O({...G}),TO({...G,apply:({elements:lr,rects:Ca,availableWidth:am,availableHeight:Yi})=>{const{width:jv,height:Fv}=Ca.reference,Nt=lr.floating.style;Nt.setProperty("--radix-popper-available-width",`${am}px`),Nt.setProperty("--radix-popper-available-height",`${Yi}px`),Nt.setProperty("--radix-popper-anchor-width",`${jv}px`),Nt.setProperty("--radix-popper-anchor-height",`${Fv}px`)}}),C&&PO({element:C,padding:a}),BO({arrowWidth:P,arrowHeight:N}),f&&kO({strategy:"referenceHidden",...G})]}),[$,Y]=hk(j),W=Ur(g);ic(()=>{B&&(W==null||W())},[B,W]);const q=(ge=R.arrow)==null?void 0:ge.x,ee=(yn=R.arrow)==null?void 0:yn.y,Se=((ir=R.arrow)==null?void 0:ir.centerOffset)!==0,[Ye,de]=T.useState();return ic(()=>{v&&de(window.getComputedStyle(v).zIndex)},[v]),y.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:B?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ye,"--radix-popper-transform-origin":[(or=R.transformOrigin)==null?void 0:or.x,(Ki=R.transformOrigin)==null?void 0:Ki.y].join(" "),...((ar=R.hide)==null?void 0:ar.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:y.jsx(DO,{scope:t,placedSide:$,onArrowChange:_,arrowX:q,arrowY:ee,shouldHideArrow:Se,children:y.jsx(Ln.div,{"data-side":$,"data-align":Y,...p,ref:b,style:{...p.style,animation:B?void 0:"none"}})})})});ck.displayName=C1;var uk="PopperArrow",jO={top:"bottom",right:"left",bottom:"top",left:"right"},dk=T.forwardRef(function(e,t){const{__scopePopper:s,...r}=e,i=OO(uk,s),o=jO[i.placedSide];return y.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:y.jsx(RO,{...r,ref:t,style:{...r.style,display:"block"}})})});dk.displayName=uk;function FO(n){return n!==null}var BO=n=>({name:"transformOrigin",options:n,fn(e){var x,v,w;const{placement:t,rects:s,middlewareData:r}=e,o=((x=r.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[u,d]=hk(t),h={start:"0%",center:"50%",end:"100%"}[d],f=(((v=r.arrow)==null?void 0:v.x)??0)+a/2,m=(((w=r.arrow)==null?void 0:w.y)??0)+l/2;let g="",p="";return u==="bottom"?(g=o?h:`${f}px`,p=`${-l}px`):u==="top"?(g=o?h:`${f}px`,p=`${s.floating.height+l}px`):u==="right"?(g=`${-l}px`,p=o?h:`${m}px`):u==="left"&&(g=`${s.floating.width+l}px`,p=o?h:`${m}px`),{data:{x:g,y:p}}}});function hk(n){const[e,t="center"]=n.split("-");return[e,t]}var zO=lk,$O=ck,HO=dk,[pv,gz]=oT("Tooltip",[ik]),_1=ik(),fk="TooltipProvider",UO=700,DS="tooltip.open",[VO,pk]=pv(fk),mk=n=>{const{__scopeTooltip:e,delayDuration:t=UO,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=n,[o,a]=T.useState(!0),l=T.useRef(!1),u=T.useRef(0);return T.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),y.jsx(VO,{scope:e,isOpenDelayed:o,delayDuration:t,onOpen:T.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:T.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:T.useCallback(d=>{l.current=d},[]),disableHoverableContent:r,children:i})};mk.displayName=fk;var gk="Tooltip",[yz,mv]=pv(gk),Bw="TooltipTrigger",WO=T.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,r=mv(Bw,t),i=pk(Bw,t),o=_1(t),a=T.useRef(null),l=Ys(e,a,r.onTriggerChange),u=T.useRef(!1),d=T.useRef(!1),h=T.useCallback(()=>u.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),y.jsx(zO,{asChild:!0,...o,children:y.jsx(Ln.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:l,onPointerMove:yt(n.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:yt(n.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:yt(n.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:yt(n.onFocus,()=>{u.current||r.onOpen()}),onBlur:yt(n.onBlur,r.onClose),onClick:yt(n.onClick,r.onClose)})})});WO.displayName=Bw;var GO="TooltipPortal",[vz,qO]=pv(GO,{forceMount:void 0}),Cd="TooltipContent",yk=T.forwardRef((n,e)=>{const t=qO(Cd,n.__scopeTooltip),{forceMount:s=t.forceMount,side:r="top",...i}=n,o=mv(Cd,n.__scopeTooltip);return y.jsx(h1,{present:s||o.open,children:o.disableHoverableContent?y.jsx(vk,{side:r,...i,ref:e}):y.jsx(XO,{side:r,...i,ref:e})})}),XO=T.forwardRef((n,e)=>{const t=mv(Cd,n.__scopeTooltip),s=pk(Cd,n.__scopeTooltip),r=T.useRef(null),i=Ys(e,r),[o,a]=T.useState(null),{trigger:l,onClose:u}=t,d=r.current,{onPointerInTransitChange:h}=s,f=T.useCallback(()=>{a(null),h(!1)},[h]),m=T.useCallback((g,p)=>{const x=g.currentTarget,v={x:g.clientX,y:g.clientY},w=JO(v,x.getBoundingClientRect()),b=ZO(v,w),C=ej(p.getBoundingClientRect()),_=nj([...b,...C]);a(_),h(!0)},[h]);return T.useEffect(()=>()=>f(),[f]),T.useEffect(()=>{if(l&&d){const g=x=>m(x,d),p=x=>m(x,l);return l.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[l,d,m,f]),T.useEffect(()=>{if(o){const g=p=>{const x=p.target,v={x:p.clientX,y:p.clientY},w=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),b=!tj(v,o);w?f():b&&(f(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,d,o,u,f]),y.jsx(vk,{...n,ref:i})}),[KO,YO]=pv(gk,{isInside:!1}),vk=T.forwardRef((n,e)=>{const{__scopeTooltip:t,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=n,l=mv(Cd,t),u=_1(t),{onClose:d}=l;return T.useEffect(()=>(document.addEventListener(DS,d),()=>document.removeEventListener(DS,d)),[d]),T.useEffect(()=>{if(l.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),y.jsx(d1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:y.jsxs($O,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(iT,{children:s}),y.jsx(KO,{scope:t,isInside:!0,children:y.jsx(zM,{id:l.contentId,role:"tooltip",children:r||s})})]})})});yk.displayName=Cd;var wk="TooltipArrow",QO=T.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,r=_1(t);return YO(wk,t).isInside?null:y.jsx(HO,{...r,...s,ref:e})});QO.displayName=wk;function JO(n,e){const t=Math.abs(e.top-n.y),s=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,s,r,i)){case i:return"left";case r:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function ZO(n,e,t=5){const s=[];switch(e){case"top":s.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":s.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":s.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":s.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return s}function ej(n){const{top:e,right:t,bottom:s,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:s},{x:r,y:s}]}function tj(n,e){const{x:t,y:s}=n;let r=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>s!=d>s&&t<(u-a)*(s-l)/(d-l)+a&&(r=!r)}return r}function nj(n){const e=n.slice();return e.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),sj(e)}function sj(n){if(n.length<=1)return n.slice();const e=[];for(let s=0;s<n.length;s++){const r=n[s];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let s=n.length-1;s>=0;s--){const r=n[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var rj=mk,xk=yk;const ij=rj,oj=T.forwardRef(({className:n,sideOffset:e=4,...t},s)=>y.jsx(xk,{ref:s,sideOffset:e,className:rt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));oj.displayName=xk.displayName;var gv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yv=typeof window>"u"||"Deno"in globalThis;function Ns(){}function aj(n,e){return typeof n=="function"?n(e):n}function lj(n){return typeof n=="number"&&n>=0&&n!==1/0}function cj(n,e){return Math.max(n+(e||0)-Date.now(),0)}function OS(n,e){return typeof n=="function"?n(e):n}function uj(n,e){return typeof n=="function"?n(e):n}function jS(n,e){const{type:t="all",exact:s,fetchStatus:r,predicate:i,queryKey:o,stale:a}=n;if(o){if(s){if(e.queryHash!==T1(o,e.options))return!1}else if(!Zh(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||i&&!i(e))}function FS(n,e){const{exact:t,status:s,predicate:r,mutationKey:i}=n;if(i){if(!e.options.mutationKey)return!1;if(t){if(Jh(e.options.mutationKey)!==Jh(i))return!1}else if(!Zh(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function T1(n,e){return((e==null?void 0:e.queryKeyHashFn)||Jh)(n)}function Jh(n){return JSON.stringify(n,(e,t)=>zw(t)?Object.keys(t).sort().reduce((s,r)=>(s[r]=t[r],s),{}):t)}function Zh(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!Zh(n[t],e[t])):!1}function bk(n,e){if(n===e)return n;const t=BS(n)&&BS(e);if(t||zw(n)&&zw(e)){const s=t?n:Object.keys(n),r=s.length,i=t?e:Object.keys(e),o=i.length,a=t?[]:{};let l=0;for(let u=0;u<o;u++){const d=t?u:i[u];(!t&&s.includes(d)||t)&&n[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=bk(n[d],e[d]),a[d]===n[d]&&n[d]!==void 0&&l++)}return r===o&&l===r?n:a}return e}function BS(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function zw(n){if(!zS(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!zS(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function zS(n){return Object.prototype.toString.call(n)==="[object Object]"}function dj(n){return new Promise(e=>{setTimeout(e,n)})}function hj(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?bk(n,e):e}function fj(n,e,t=0){const s=[...n,e];return t&&s.length>t?s.slice(1):s}function pj(n,e,t=0){const s=[e,...n];return t&&s.length>t?s.slice(0,-1):s}var k1=Symbol();function Ak(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===k1?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Fa,co,su,IE,mj=(IE=class extends gv{constructor(){super();S(this,Fa);S(this,co);S(this,su);A(this,su,e=>{if(!yv&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){c(this,co)||this.setEventListener(c(this,su))}onUnsubscribe(){var e;this.hasListeners()||((e=c(this,co))==null||e.call(this),A(this,co,void 0))}setEventListener(e){var t;A(this,su,e),(t=c(this,co))==null||t.call(this),A(this,co,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){c(this,Fa)!==e&&(A(this,Fa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof c(this,Fa)=="boolean"?c(this,Fa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Fa=new WeakMap,co=new WeakMap,su=new WeakMap,IE),Sk=new mj,ru,uo,iu,DE,gj=(DE=class extends gv{constructor(){super();S(this,ru,!0);S(this,uo);S(this,iu);A(this,iu,e=>{if(!yv&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){c(this,uo)||this.setEventListener(c(this,iu))}onUnsubscribe(){var e;this.hasListeners()||((e=c(this,uo))==null||e.call(this),A(this,uo,void 0))}setEventListener(e){var t;A(this,iu,e),(t=c(this,uo))==null||t.call(this),A(this,uo,e(this.setOnline.bind(this)))}setOnline(e){c(this,ru)!==e&&(A(this,ru,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return c(this,ru)}},ru=new WeakMap,uo=new WeakMap,iu=new WeakMap,DE),hy=new gj;function yj(){let n,e;const t=new Promise((r,i)=>{n=r,e=i});t.status="pending",t.catch(()=>{});function s(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{s({status:"fulfilled",value:r}),n(r)},t.reject=r=>{s({status:"rejected",reason:r}),e(r)},t}function vj(n){return Math.min(1e3*2**n,3e4)}function Ek(n){return(n??"online")==="online"?hy.isOnline():!0}var Ck=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function b0(n){return n instanceof Ck}function _k(n){let e=!1,t=0,s=!1,r;const i=yj(),o=p=>{var x;s||(f(new Ck(p)),(x=n.abort)==null||x.call(n))},a=()=>{e=!0},l=()=>{e=!1},u=()=>Sk.isFocused()&&(n.networkMode==="always"||hy.isOnline())&&n.canRun(),d=()=>Ek(n.networkMode)&&n.canRun(),h=p=>{var x;s||(s=!0,(x=n.onSuccess)==null||x.call(n,p),r==null||r(),i.resolve(p))},f=p=>{var x;s||(s=!0,(x=n.onError)==null||x.call(n,p),r==null||r(),i.reject(p))},m=()=>new Promise(p=>{var x;r=v=>{(s||u())&&p(v)},(x=n.onPause)==null||x.call(n)}).then(()=>{var p;r=void 0,s||(p=n.onContinue)==null||p.call(n)}),g=()=>{if(s)return;let p;const x=t===0?n.initialPromise:void 0;try{p=x??n.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(h).catch(v=>{var k;if(s)return;const w=n.retry??(yv?0:3),b=n.retryDelay??vj,C=typeof b=="function"?b(t,v):b,_=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,v);if(e||!_){f(v);return}t++,(k=n.onFail)==null||k.call(n,t,v),dj(C).then(()=>u()?void 0:m()).then(()=>{e?f(v):g()})})};return{promise:i,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?g():m().then(g),i)}}function wj(){let n=[],e=0,t=a=>{a()},s=a=>{a()},r=a=>setTimeout(a,0);const i=a=>{e?n.push(a):r(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&r(()=>{s(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{r=a}}}var cn=wj(),Ba,OE,Tk=(OE=class{constructor(){S(this,Ba)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lj(this.gcTime)&&A(this,Ba,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(yv?1/0:5*60*1e3))}clearGcTimeout(){c(this,Ba)&&(clearTimeout(c(this,Ba)),A(this,Ba,void 0))}},Ba=new WeakMap,OE),ou,au,us,Gt,af,za,Rs,Yr,jE,xj=(jE=class extends Tk{constructor(e){super();S(this,Rs);S(this,ou);S(this,au);S(this,us);S(this,Gt);S(this,af);S(this,za);A(this,za,!1),A(this,af,e.defaultOptions),this.setOptions(e.options),this.observers=[],A(this,us,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,A(this,ou,Aj(this.options)),this.state=e.state??c(this,ou),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=c(this,Gt))==null?void 0:e.promise}setOptions(e){this.options={...c(this,af),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&c(this,us).remove(this)}setData(e,t){const s=hj(this.state.data,e,this.options);return E(this,Rs,Yr).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(e,t){E(this,Rs,Yr).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var s,r;const t=(s=c(this,Gt))==null?void 0:s.promise;return(r=c(this,Gt))==null||r.cancel(e),t?t.then(Ns).catch(Ns):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(c(this,ou))}isActive(){return this.observers.some(e=>uj(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===k1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!cj(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=c(this,Gt))==null||t.continue()}onOnline(){var t;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=c(this,Gt))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),c(this,us).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(c(this,Gt)&&(c(this,za)?c(this,Gt).cancel({revert:!0}):c(this,Gt).cancelRetry()),this.scheduleGc()),c(this,us).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||E(this,Rs,Yr).call(this,{type:"invalidate"})}fetch(e,t){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(c(this,Gt))return c(this,Gt).continueRetry(),c(this,Gt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,r=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(A(this,za,!0),s.signal)})},i=()=>{const h=Ak(this.options,t),f={queryKey:this.queryKey,meta:this.meta};return r(f),A(this,za,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(o),(l=this.options.behavior)==null||l.onFetch(o,this),A(this,au,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&E(this,Rs,Yr).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=h=>{var f,m,g,p;b0(h)&&h.silent||E(this,Rs,Yr).call(this,{type:"error",error:h}),b0(h)||((m=(f=c(this,us).config).onError)==null||m.call(f,h,this),(p=(g=c(this,us).config).onSettled)==null||p.call(g,this.state.data,h,this)),this.scheduleGc()};return A(this,Gt,_k({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var f,m,g,p;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){a(x);return}(m=(f=c(this,us).config).onSuccess)==null||m.call(f,h,this),(p=(g=c(this,us).config).onSettled)==null||p.call(g,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,f)=>{E(this,Rs,Yr).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{E(this,Rs,Yr).call(this,{type:"pause"})},onContinue:()=>{E(this,Rs,Yr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),c(this,Gt).start()}},ou=new WeakMap,au=new WeakMap,us=new WeakMap,Gt=new WeakMap,af=new WeakMap,za=new WeakMap,Rs=new WeakSet,Yr=function(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...bj(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return b0(r)&&r.revert&&c(this,au)?{...c(this,au),fetchStatus:"idle"}:{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),cn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),c(this,us).notify({query:this,type:"updated",action:e})})},jE);function bj(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ek(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Aj(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,s=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var vr,FE,Sj=(FE=class extends gv{constructor(e={}){super();S(this,vr);this.config=e,A(this,vr,new Map)}build(e,t,s){const r=t.queryKey,i=t.queryHash??T1(r,t);let o=this.get(i);return o||(o=new xj({cache:this,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){c(this,vr).has(e.queryHash)||(c(this,vr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=c(this,vr).get(e.queryHash);t&&(e.destroy(),t===e&&c(this,vr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return c(this,vr).get(e)}getAll(){return[...c(this,vr).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>jS(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>jS(e,s)):t}notify(e){cn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},vr=new WeakMap,FE),wr,tn,$a,xr,to,BE,Ej=(BE=class extends Tk{constructor(e){super();S(this,xr);S(this,wr);S(this,tn);S(this,$a);this.mutationId=e.mutationId,A(this,tn,e.mutationCache),A(this,wr,[]),this.state=e.state||Cj(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){c(this,wr).includes(e)||(c(this,wr).push(e),this.clearGcTimeout(),c(this,tn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){A(this,wr,c(this,wr).filter(t=>t!==e)),this.scheduleGc(),c(this,tn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){c(this,wr).length||(this.state.status==="pending"?this.scheduleGc():c(this,tn).remove(this))}continue(){var e;return((e=c(this,$a))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,i,o,a,l,u,d,h,f,m,g,p,x,v,w,b,C,_,k,P;A(this,$a,_k({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,L)=>{E(this,xr,to).call(this,{type:"failed",failureCount:N,error:L})},onPause:()=>{E(this,xr,to).call(this,{type:"pause"})},onContinue:()=>{E(this,xr,to).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>c(this,tn).canRun(this)}));const t=this.state.status==="pending",s=!c(this,$a).canStart();try{if(!t){E(this,xr,to).call(this,{type:"pending",variables:e,isPaused:s}),await((i=(r=c(this,tn).config).onMutate)==null?void 0:i.call(r,e,this));const L=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));L!==this.state.context&&E(this,xr,to).call(this,{type:"pending",context:L,variables:e,isPaused:s})}const N=await c(this,$a).start();return await((u=(l=c(this,tn).config).onSuccess)==null?void 0:u.call(l,N,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,N,e,this.state.context)),await((m=(f=c(this,tn).config).onSettled)==null?void 0:m.call(f,N,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,N,null,e,this.state.context)),E(this,xr,to).call(this,{type:"success",data:N}),N}catch(N){try{throw await((v=(x=c(this,tn).config).onError)==null?void 0:v.call(x,N,e,this.state.context,this)),await((b=(w=this.options).onError)==null?void 0:b.call(w,N,e,this.state.context)),await((_=(C=c(this,tn).config).onSettled)==null?void 0:_.call(C,void 0,N,this.state.variables,this.state.context,this)),await((P=(k=this.options).onSettled)==null?void 0:P.call(k,void 0,N,e,this.state.context)),N}finally{E(this,xr,to).call(this,{type:"error",error:N})}}finally{c(this,tn).runNext(this)}}},wr=new WeakMap,tn=new WeakMap,$a=new WeakMap,xr=new WeakSet,to=function(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),cn.batch(()=>{c(this,wr).forEach(s=>{s.onMutationUpdate(e)}),c(this,tn).notify({mutation:this,type:"updated",action:e})})},BE);function Cj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var In,lf,zE,_j=(zE=class extends gv{constructor(e={}){super();S(this,In);S(this,lf);this.config=e,A(this,In,new Map),A(this,lf,Date.now())}build(e,t,s){const r=new Ej({mutationCache:this,mutationId:++xt(this,lf)._,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){const t=Rm(e),s=c(this,In).get(t)??[];s.push(e),c(this,In).set(t,s),this.notify({type:"added",mutation:e})}remove(e){var s;const t=Rm(e);if(c(this,In).has(t)){const r=(s=c(this,In).get(t))==null?void 0:s.filter(i=>i!==e);r&&(r.length===0?c(this,In).delete(t):c(this,In).set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){var s;const t=(s=c(this,In).get(Rm(e)))==null?void 0:s.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){var s;const t=(s=c(this,In).get(Rm(e)))==null?void 0:s.find(r=>r!==e&&r.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...c(this,In).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(s=>FS(t,s))}findAll(e={}){return this.getAll().filter(t=>FS(e,t))}notify(e){cn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return cn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ns))))}},In=new WeakMap,lf=new WeakMap,zE);function Rm(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function $S(n){return{onFetch:(e,t)=>{var d,h,f,m,g;const s=e.options,r=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let p=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},v=Ak(e.options,e.fetchOptions),w=async(b,C,_)=>{if(p)return Promise.reject();if(C==null&&b.pages.length)return Promise.resolve(b);const k={queryKey:e.queryKey,pageParam:C,direction:_?"backward":"forward",meta:e.options.meta};x(k);const P=await v(k),{maxPages:N}=e.options,L=_?pj:fj;return{pages:L(b.pages,P,N),pageParams:L(b.pageParams,C,N)}};if(r&&i.length){const b=r==="backward",C=b?Tj:HS,_={pages:i,pageParams:o},k=C(s,_);a=await w(_,k,b)}else{const b=n??i.length;do{const C=l===0?o[0]??s.initialPageParam:HS(s,a);if(l>0&&C==null)break;a=await w(a,C),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var p,x;return(x=(p=e.options).persister)==null?void 0:x.call(p,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function HS(n,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?n.getNextPageParam(e[s],e,t[s],t):void 0}function Tj(n,{pages:e,pageParams:t}){var s;return e.length>0?(s=n.getPreviousPageParam)==null?void 0:s.call(n,e[0],e,t[0],t):void 0}var Qe,ho,fo,lu,cu,po,uu,du,$E,kj=($E=class{constructor(n={}){S(this,Qe);S(this,ho);S(this,fo);S(this,lu);S(this,cu);S(this,po);S(this,uu);S(this,du);A(this,Qe,n.queryCache||new Sj),A(this,ho,n.mutationCache||new _j),A(this,fo,n.defaultOptions||{}),A(this,lu,new Map),A(this,cu,new Map),A(this,po,0)}mount(){xt(this,po)._++,c(this,po)===1&&(A(this,uu,Sk.subscribe(async n=>{n&&(await this.resumePausedMutations(),c(this,Qe).onFocus())})),A(this,du,hy.subscribe(async n=>{n&&(await this.resumePausedMutations(),c(this,Qe).onOnline())})))}unmount(){var n,e;xt(this,po)._--,c(this,po)===0&&((n=c(this,uu))==null||n.call(this),A(this,uu,void 0),(e=c(this,du))==null||e.call(this),A(this,du,void 0))}isFetching(n){return c(this,Qe).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return c(this,ho).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=c(this,Qe).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),s=c(this,Qe).build(this,t);return n.revalidateIfStale&&s.isStaleByTime(OS(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return c(this,Qe).findAll(n).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(n,e,t){const s=this.defaultQueryOptions({queryKey:n}),r=c(this,Qe).get(s.queryHash),i=r==null?void 0:r.state.data,o=aj(e,i);if(o!==void 0)return c(this,Qe).build(this,s).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return cn.batch(()=>c(this,Qe).findAll(n).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=c(this,Qe).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=c(this,Qe);cn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=c(this,Qe),s={type:"active",...n};return cn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries(s,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},s=cn.batch(()=>c(this,Qe).findAll(n).map(r=>r.cancel(t)));return Promise.all(s).then(Ns).catch(Ns)}invalidateQueries(n={},e={}){return cn.batch(()=>{if(c(this,Qe).findAll(n).forEach(s=>{s.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},s=cn.batch(()=>c(this,Qe).findAll(n).filter(r=>!r.isDisabled()).map(r=>{let i=r.fetch(void 0,t);return t.throwOnError||(i=i.catch(Ns)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Ns)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=c(this,Qe).build(this,e);return t.isStaleByTime(OS(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Ns).catch(Ns)}fetchInfiniteQuery(n){return n.behavior=$S(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Ns).catch(Ns)}ensureInfiniteQueryData(n){return n.behavior=$S(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return hy.isOnline()?c(this,ho).resumePausedMutations():Promise.resolve()}getQueryCache(){return c(this,Qe)}getMutationCache(){return c(this,ho)}getDefaultOptions(){return c(this,fo)}setDefaultOptions(n){A(this,fo,n)}setQueryDefaults(n,e){c(this,lu).set(Jh(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...c(this,lu).values()];let t={};return e.forEach(s=>{Zh(n,s.queryKey)&&(t={...t,...s.defaultOptions})}),t}setMutationDefaults(n,e){c(this,cu).set(Jh(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...c(this,cu).values()];let t={};return e.forEach(s=>{Zh(n,s.mutationKey)&&(t={...t,...s.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...c(this,fo).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=T1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===k1&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...c(this,fo).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){c(this,Qe).clear(),c(this,ho).clear()}},Qe=new WeakMap,ho=new WeakMap,fo=new WeakMap,lu=new WeakMap,cu=new WeakMap,po=new WeakMap,uu=new WeakMap,du=new WeakMap,$E),Pj=T.createContext(void 0),Nj=({client:n,children:e})=>(T.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),y.jsx(Pj.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ef(){return ef=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},ef.apply(this,arguments)}var ea;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ea||(ea={}));const US="popstate";function Rj(n){n===void 0&&(n={});function e(s,r){let{pathname:i,search:o,hash:a}=s.location;return $w("",{pathname:i,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(s,r){return typeof r=="string"?r:fy(r)}return Mj(e,t,null,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function kk(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Lj(){return Math.random().toString(36).substr(2,8)}function VS(n,e){return{usr:n.state,key:n.key,idx:e}}function $w(n,e,t,s){return t===void 0&&(t=null),ef({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ld(e):e,{state:t,key:e&&e.key||s||Lj()})}function fy(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Ld(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function Mj(n,e,t,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,a=ea.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ef({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=ea.Pop;let x=d(),v=x==null?null:x-u;u=x,l&&l({action:a,location:p.location,delta:v})}function f(x,v){a=ea.Push;let w=$w(p.location,x,v);u=d()+1;let b=VS(w,u),C=p.createHref(w);try{o.pushState(b,"",C)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;r.location.assign(C)}i&&l&&l({action:a,location:p.location,delta:1})}function m(x,v){a=ea.Replace;let w=$w(p.location,x,v);u=d();let b=VS(w,u),C=p.createHref(w);o.replaceState(b,"",C),i&&l&&l({action:a,location:p.location,delta:0})}function g(x){let v=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof x=="string"?x:fy(x);return w=w.replace(/ $/,"%20"),ut(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let p={get action(){return a},get location(){return n(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(US,h),l=x,()=>{r.removeEventListener(US,h),l=null}},createHref(x){return e(r,x)},createURL:g,encodeLocation(x){let v=g(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:m,go(x){return o.go(x)}};return p}var WS;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(WS||(WS={}));function Ij(n,e,t){return t===void 0&&(t="/"),Dj(n,e,t,!1)}function Dj(n,e,t,s){let r=typeof e=="string"?Ld(e):e,i=P1(r.pathname||"/",t);if(i==null)return null;let o=Pk(n);Oj(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=qj(i);a=Wj(o[l],u,s)}return a}function Pk(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let r=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ut(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let u=ca([s,l.relativePath]),d=t.concat(l);i.children&&i.children.length>0&&(ut(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Pk(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Uj(u,i.index),routesMeta:d})};return n.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))r(i,o);else for(let l of Nk(i.path))r(i,o,l)}),e}function Nk(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,r=t.endsWith("?"),i=t.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=Nk(s.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function Oj(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Vj(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const jj=/^:[\w-]+$/,Fj=3,Bj=2,zj=1,$j=10,Hj=-2,GS=n=>n==="*";function Uj(n,e){let t=n.split("/"),s=t.length;return t.some(GS)&&(s+=Hj),e&&(s+=Bj),t.filter(r=>!GS(r)).reduce((r,i)=>r+(jj.test(i)?Fj:i===""?zj:$j),s)}function Vj(n,e){return n.length===e.length&&n.slice(0,-1).every((s,r)=>s===e[r])?n[n.length-1]-e[e.length-1]:0}function Wj(n,e,t){let{routesMeta:s}=n,r={},i="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],u=a===s.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=qS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&t&&!s[s.length-1].route.index&&(h=qS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:ca([i,h.pathname]),pathnameBase:Qj(ca([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=ca([i,h.pathnameBase]))}return o}function qS(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=Gj(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let p=a[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=a[h];return m&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:n}}function Gj(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),kk(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function qj(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kk(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function P1(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function Xj(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:r=""}=typeof n=="string"?Ld(n):n;return{pathname:t?t.startsWith("/")?t:Kj(t,e):e,search:Jj(s),hash:Zj(r)}}function Kj(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function A0(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yj(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Rk(n,e){let t=Yj(n);return e?t.map((s,r)=>r===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function Lk(n,e,t,s){s===void 0&&(s=!1);let r;typeof n=="string"?r=Ld(n):(r=ef({},n),ut(!r.pathname||!r.pathname.includes("?"),A0("?","pathname","search",r)),ut(!r.pathname||!r.pathname.includes("#"),A0("#","pathname","hash",r)),ut(!r.search||!r.search.includes("#"),A0("#","search","hash",r)));let i=n===""||r.pathname==="",o=i?"/":r.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Xj(r,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const ca=n=>n.join("/").replace(/\/\/+/g,"/"),Qj=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Jj=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Zj=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function eF(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Mk=["post","put","patch","delete"];new Set(Mk);const tF=["get",...Mk];new Set(tF);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tf(){return tf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},tf.apply(this,arguments)}const N1=T.createContext(null),nF=T.createContext(null),fc=T.createContext(null),vv=T.createContext(null),pc=T.createContext({outlet:null,matches:[],isDataRoute:!1}),Ik=T.createContext(null);function sF(n,e){let{relative:t}=e===void 0?{}:e;Wp()||ut(!1);let{basename:s,navigator:r}=T.useContext(fc),{hash:i,pathname:o,search:a}=Ok(n,{relative:t}),l=o;return s!=="/"&&(l=o==="/"?s:ca([s,o])),r.createHref({pathname:l,search:a,hash:i})}function Wp(){return T.useContext(vv)!=null}function mc(){return Wp()||ut(!1),T.useContext(vv).location}function Dk(n){T.useContext(fc).static||T.useLayoutEffect(n)}function gc(){let{isDataRoute:n}=T.useContext(pc);return n?gF():rF()}function rF(){Wp()||ut(!1);let n=T.useContext(N1),{basename:e,future:t,navigator:s}=T.useContext(fc),{matches:r}=T.useContext(pc),{pathname:i}=mc(),o=JSON.stringify(Rk(r,t.v7_relativeSplatPath)),a=T.useRef(!1);return Dk(()=>{a.current=!0}),T.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){s.go(u);return}let h=Lk(u,JSON.parse(o),i,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ca([e,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[e,s,o,i,n])}function Ok(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=T.useContext(fc),{matches:r}=T.useContext(pc),{pathname:i}=mc(),o=JSON.stringify(Rk(r,s.v7_relativeSplatPath));return T.useMemo(()=>Lk(n,JSON.parse(o),i,t==="path"),[n,o,i,t])}function iF(n,e){return oF(n,e)}function oF(n,e,t,s){Wp()||ut(!1);let{navigator:r}=T.useContext(fc),{matches:i}=T.useContext(pc),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=mc(),d;if(e){var h;let x=typeof e=="string"?Ld(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||ut(!1),d=x}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=Ij(n,{pathname:m}),p=dF(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:ca([l,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:ca([l,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,t,s);return e&&p?T.createElement(vv.Provider,{value:{location:tf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ea.Pop}},p):p}function aF(){let n=mF(),e=eF(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:r},t):null,null)}const lF=T.createElement(aF,null);class cF extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?T.createElement(pc.Provider,{value:this.props.routeContext},T.createElement(Ik.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uF(n){let{routeContext:e,match:t,children:s}=n,r=T.useContext(N1);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(pc.Provider,{value:e},s)}function dF(n,e,t,s){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(r=t)==null?void 0:r.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ut(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(t&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=t,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,g=!1,p=null,x=null;t&&(m=a&&h.route.id?a[h.route.id]:void 0,p=h.route.errorElement||lF,l&&(u<0&&f===0?(g=!0,x=null):u===f&&(g=!0,x=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),w=()=>{let b;return m?b=p:g?b=x:h.route.Component?b=T.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,T.createElement(uF,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:t!=null},children:b})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement(cF,{location:t.location,revalidation:t.revalidation,component:p,error:m,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var jk=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(jk||{}),py=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(py||{});function hF(n){let e=T.useContext(N1);return e||ut(!1),e}function fF(n){let e=T.useContext(nF);return e||ut(!1),e}function pF(n){let e=T.useContext(pc);return e||ut(!1),e}function Fk(n){let e=pF(),t=e.matches[e.matches.length-1];return t.route.id||ut(!1),t.route.id}function mF(){var n;let e=T.useContext(Ik),t=fF(py.UseRouteError),s=Fk(py.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function gF(){let{router:n}=hF(jk.UseNavigateStable),e=Fk(py.UseNavigateStable),t=T.useRef(!1);return Dk(()=>{t.current=!0}),T.useCallback(function(r,i){i===void 0&&(i={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,tf({fromRouteId:e},i)))},[n,e])}function vn(n){ut(!1)}function yF(n){let{basename:e="/",children:t=null,location:s,navigationType:r=ea.Pop,navigator:i,static:o=!1,future:a}=n;Wp()&&ut(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:i,static:o,future:tf({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof s=="string"&&(s=Ld(s));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:g="default"}=s,p=T.useMemo(()=>{let x=P1(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:m,key:g},navigationType:r}},[l,d,h,f,m,g,r]);return p==null?null:T.createElement(fc.Provider,{value:u},T.createElement(vv.Provider,{children:t,value:p}))}function vF(n){let{children:e,location:t}=n;return iF(Hw(e),t)}new Promise(()=>{});function Hw(n,e){e===void 0&&(e=[]);let t=[];return T.Children.forEach(n,(s,r)=>{if(!T.isValidElement(s))return;let i=[...e,r];if(s.type===T.Fragment){t.push.apply(t,Hw(s.props.children,i));return}s.type!==vn&&ut(!1),!s.props.index||!s.props.children||ut(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Hw(s.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uw(){return Uw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Uw.apply(this,arguments)}function wF(n,e){if(n==null)return{};var t={},s=Object.keys(n),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function xF(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function bF(n,e){return n.button===0&&(!e||e==="_self")&&!xF(n)}function Vw(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(r=>[t,r]):[[t,s]])},[]))}function AF(n,e){let t=Vw(n);return e&&e.forEach((s,r)=>{t.has(r)||e.getAll(r).forEach(i=>{t.append(r,i)})}),t}const SF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EF="6";try{window.__reactRouterVersion=EF}catch{}const CF="startTransition",XS=JN[CF];function _F(n){let{basename:e,children:t,future:s,window:r}=n,i=T.useRef();i.current==null&&(i.current=Rj({window:r,v5Compat:!0}));let o=i.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=T.useCallback(h=>{u&&XS?XS(()=>l(h)):l(h)},[l,u]);return T.useLayoutEffect(()=>o.listen(d),[o,d]),T.createElement(yF,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:s})}const TF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yr=T.forwardRef(function(e,t){let{onClick:s,relative:r,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=wF(e,SF),{basename:m}=T.useContext(fc),g,p=!1;if(typeof u=="string"&&kF.test(u)&&(g=u,TF))try{let b=new URL(window.location.href),C=u.startsWith("//")?new URL(b.protocol+u):new URL(u),_=P1(C.pathname,m);C.origin===b.origin&&_!=null?u=_+C.search+C.hash:p=!0}catch{}let x=sF(u,{relative:r}),v=PF(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:r,viewTransition:h});function w(b){s&&s(b),b.defaultPrevented||v(b)}return T.createElement("a",Uw({},f,{href:g||x,onClick:p||i?s:w,ref:t,target:l}))});var KS;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(KS||(KS={}));var YS;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(YS||(YS={}));function PF(n,e){let{target:t,replace:s,state:r,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=gc(),u=mc(),d=Ok(n,{relative:o});return T.useCallback(h=>{if(bF(h,t)){h.preventDefault();let f=s!==void 0?s:fy(u)===fy(d);l(n,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,s,r,t,n,i,o,a])}function Bk(n){let e=T.useRef(Vw(n)),t=T.useRef(!1),s=mc(),r=T.useMemo(()=>AF(s.search,t.current?null:e.current),[s.search]),i=gc(),o=T.useCallback((a,l)=>{const u=Vw(typeof a=="function"?a(r):a);t.current=!0,i("?"+u,l)},[i,r]);return[r,o]}const zk=MT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-elegant hover:shadow-glow",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-gradient-primary text-primary-foreground hover:scale-105 shadow-glow hover:shadow-elegant transition-all duration-300",premium:"bg-gradient-hero text-primary-foreground hover:scale-105 shadow-glow hover:shadow-elegant transition-all duration-300",glass:"bg-background/80 backdrop-blur-sm border border-border/50 hover:bg-background/90 hover:border-border transition-all duration-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-lg px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),xe=T.forwardRef(({className:n,variant:e,size:t,asChild:s=!1,...r},i)=>{const o=s?Kh:"button";return y.jsx(o,{className:rt(zk({variant:e,size:t,className:n})),ref:i,...r})});xe.displayName="Button";const QS=[{label:"Início",href:"/",icon:fI},{label:"Abaixar Livros",href:"/books",icon:Ss},{label:"Abaixar Jogos",href:"/games",icon:pI},{label:"Jogos Online",href:"/freegame",icon:Jl},{label:"Livros Online",href:"/livrospg",icon:g1},{label:"Abaixar Filmes",href:"/movies",icon:Vc},{label:"Histórico",href:"/historico",icon:hI}],nr=()=>{const[n,e]=T.useState(!1),[t,s]=T.useState(!1),r=mc(),i=gc();T.useEffect(()=>{const u=localStorage.getItem("token");s(!!u),e(!1)},[r.pathname]);const o=()=>{localStorage.removeItem("token"),s(!1),i("/"),window.location.reload()},a=u=>{r.pathname===u?window.location.reload():(i(u),setTimeout(()=>{window.location.reload()},100))},l=()=>QS.map(u=>y.jsxs("button",{onClick:()=>{a(u.href),e(!1)},className:"flex items-center gap-2 px-4 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-secondary/50 transition-all duration-300 w-full text-left",children:[y.jsx(u.icon,{className:"h-4 w-4"}),u.label]},u.label));return y.jsx("header",{className:"bg-card/95 backdrop-blur-sm border-b border-border/50 sticky top-0 z-50",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"flex items-center justify-between h-16",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-10 h-10 bg-gradient-primary rounded-xl flex items-center justify-center",children:y.jsx(Ss,{className:"h-6 w-6 text-primary-foreground"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl font-bold text-foreground",children:"AcervoDigital"}),y.jsx("p",{className:"text-xs text-muted-foreground",children:"Conhecimento Livre"})]})]}),y.jsx("nav",{className:"hidden md:flex items-center gap-1",children:QS.map(u=>y.jsxs("button",{onClick:()=>a(u.href),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-secondary/50 transition-all duration-300",children:[y.jsx(u.icon,{className:"h-4 w-4"}),u.label]},u.label))}),y.jsx("div",{className:"hidden md:flex items-center gap-3",children:t?y.jsxs(y.Fragment,{children:[y.jsx(yr,{to:"/admin/post",children:y.jsxs(xe,{variant:"ghost",size:"sm",children:[y.jsx(wS,{className:"h-4 w-4"}),"Postar Conteúdo"]})}),y.jsx(yr,{to:"/admin/solicitacoes",children:y.jsxs(xe,{variant:"ghost",size:"sm",children:[y.jsx(lI,{className:"h-4 w-4"}),"Solicitações"]})}),y.jsx(xe,{variant:"ghost",size:"sm",onClick:o,className:"text-red-500",children:"Sair"})]}):y.jsxs(y.Fragment,{children:[y.jsx(yr,{to:"/admin/login",children:y.jsxs(xe,{variant:"ghost",size:"sm",children:[y.jsx(bS,{className:"h-4 w-4"}),"Login"]})}),y.jsx(yr,{to:"/auth/register",children:y.jsxs(xe,{variant:"hero",size:"sm",children:[y.jsx(AS,{className:"h-4 w-4"}),"Cadastrar"]})})]})}),y.jsx(xe,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>e(!n),children:n?y.jsx(jT,{className:"h-5 w-5"}):y.jsx(mI,{className:"h-5 w-5"})})]}),n&&y.jsx("div",{className:"md:hidden border-t border-border/50 py-4 animate-slide-up",children:y.jsxs("nav",{className:"flex flex-col gap-2",children:[l(),y.jsx("div",{className:"flex flex-col gap-2 mt-4 px-4",children:t?y.jsxs(y.Fragment,{children:[y.jsx(yr,{to:"/admin/post",children:y.jsxs(xe,{variant:"ghost",size:"sm",className:"w-full",children:[y.jsx(wS,{className:"h-4 w-4"}),"Postar Conteúdo"]})}),y.jsx(yr,{to:"/admin/solicitacoes",children:y.jsx(xe,{variant:"ghost",size:"sm",className:"w-full",children:"Solicitações"})}),y.jsx(xe,{variant:"ghost",size:"sm",className:"w-full text-red-500",onClick:o,children:"Sair"})]}):y.jsxs(y.Fragment,{children:[y.jsx(yr,{to:"/admin/login",children:y.jsxs(xe,{variant:"ghost",size:"sm",className:"w-full",children:[y.jsx(bS,{className:"h-4 w-4"}),"Login"]})}),y.jsx(yr,{to:"/auth/register",children:y.jsxs(xe,{variant:"hero",size:"sm",className:"w-full",children:[y.jsx(AS,{className:"h-4 w-4"}),"Cadastrar"]})})]})})]})})]})})},NF="/assets/hero-library-Cp13VU6V.jpg",RF="/assets/hero-games-BN8NsBVO.jpg",LF="/assets/hero-community-DNPxTEzW.jpg",Ec=[{src:NF,alt:"Biblioteca Digital Moderna",title:"Biblioteca Digital",description:"Acesse milhares de livros em formato PDF"},{src:RF,alt:"Jogos em Python",title:"Jogos Interativos",description:"Baixe e explore jogos desenvolvidos em Python"},{src:LF,alt:"Comunidade Colaborativa",title:"Comunidade",description:"Faça parte da nossa comunidade de aprendizado"}],MF=()=>{const[n,e]=T.useState(0),t=T.useRef(null);T.useEffect(()=>(s(),()=>{t.current&&clearTimeout(t.current)}),[n]);const s=()=>{t.current&&clearTimeout(t.current),t.current=setTimeout(()=>{e(a=>(a+1)%Ec.length)},6e3)},r=a=>{e(a)},i=()=>{e(a=>(a-1+Ec.length)%Ec.length)},o=()=>{e(a=>(a+1)%Ec.length)};return y.jsxs("div",{className:"relative w-full h-[400px] lg:h-[500px] rounded-2xl overflow-hidden shadow-card group",children:[y.jsx("div",{className:"relative w-full h-full",children:Ec.map((a,l)=>y.jsxs("div",{className:`absolute inset-0 transition-all duration-700 ease-in-out ${l===n?"opacity-100 scale-100":"opacity-0 scale-105"}`,children:[y.jsx("img",{src:a.src,alt:a.alt,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 via-black/30 to-transparent"}),y.jsxs("div",{className:"absolute bottom-6 left-6 right-6 text-white",children:[y.jsx("h3",{className:"text-2xl lg:text-3xl font-bold mb-2 animate-fade-in",children:a.title}),y.jsx("p",{className:"text-lg lg:text-xl opacity-90 animate-fade-in",children:a.description})]})]},l))}),y.jsx(xe,{variant:"glass",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-all duration-300",onClick:i,"aria-label":"Slide anterior",children:y.jsx(DT,{className:"h-5 w-5"})}),y.jsx(xe,{variant:"glass",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-all duration-300",onClick:o,"aria-label":"Próximo slide",children:y.jsx(OT,{className:"h-5 w-5"})}),y.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:Ec.map((a,l)=>y.jsx("button",{className:`w-3 h-3 rounded-full transition-all duration-300 ${l===n?"bg-white scale-110 shadow-glow":"bg-white/50 hover:bg-white/70"}`,onClick:()=>r(l),"aria-label":`Ir para slide ${l+1}`},l))})]})},IF=[{icon:Ss,number:"2,500+",label:"Livros Disponíveis",description:"Acervo em constante crescimento"},{icon:Up,number:"50K+",label:"Downloads Realizados",description:"Conteúdo acessado mensalmente"},{icon:Lw,number:"10K+",label:"Usuários Ativos",description:"Comunidade engajada"},{icon:wI,number:"150+",label:"Jogos em Python",description:"Projetos interativos"}],DF=()=>y.jsx("section",{className:"py-16 lg:py-24 bg-gradient-subtle",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-4",children:"Números que Impressionam"}),y.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Nossa plataforma cresce constantemente, oferecendo cada vez mais conteúdo de qualidade para nossa comunidade."})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:IF.map((n,e)=>y.jsx("div",{className:"text-center group animate-fade-in",style:{animationDelay:`${e*.1}s`},children:y.jsxs("div",{className:"bg-card rounded-2xl p-8 shadow-card hover:shadow-elegant transition-all duration-300 hover:-translate-y-2",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-primary rounded-2xl mb-6 group-hover:scale-110 transition-transform duration-300",children:y.jsx(n.icon,{className:"h-8 w-8 text-primary-foreground"})}),y.jsx("div",{className:"text-4xl lg:text-5xl font-bold text-primary mb-2",children:n.number}),y.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:n.label}),y.jsx("p",{className:"text-muted-foreground",children:n.description})]})},e))})]})}),OF=[{icon:yI,title:"100% Gratuito",description:"Todo o conteúdo da nossa plataforma é totalmente gratuito, sem taxas ocultas ou limitações de acesso."},{icon:bI,title:"Download Rápido",description:"Tecnologia otimizada para downloads rápidos e seguros, garantindo a melhor experiência do usuário."},{icon:uI,title:"Acesso Universal",description:"Plataforma acessível de qualquer lugar do mundo, 24 horas por dia, 7 dias por semana."},{icon:dI,title:"Feito com Amor",description:"Projeto desenvolvido por voluntários apaixonados por educação e tecnologia, para a comunidade."}],jF=()=>y.jsx("section",{className:"py-16 lg:py-24 bg-background",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-4",children:"Por que Escolher Nossa Plataforma?"}),y.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl mx-auto",children:"Oferecemos a melhor experiência em conteúdo digital gratuito, com foco na qualidade, acessibilidade e crescimento contínuo da nossa comunidade."})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:OF.map((n,e)=>y.jsx("div",{className:"group animate-fade-in",style:{animationDelay:`${e*.1}s`},children:y.jsxs("div",{className:"text-center p-6 rounded-2xl hover:bg-card hover:shadow-card transition-all duration-300",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-secondary rounded-2xl mb-6 group-hover:bg-gradient-primary group-hover:scale-110 transition-all duration-300",children:y.jsx(n.icon,{className:"h-8 w-8 text-secondary-foreground group-hover:text-primary-foreground transition-colors duration-300"})}),y.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:n.title}),y.jsx("p",{className:"text-muted-foreground leading-relaxed",children:n.description})]})},e))})]})}),FF=[{name:"Ana Silva",role:"Estudante de Engenharia",avatar:"AS",content:"A biblioteca digital é fantástica! Encontrei ótimos livros para meus estudos e o sistema de download é muito prático.",rating:5},{name:"João Pereira",role:"Desenvolvedor Python",avatar:"JP",content:"Os jogos em Python são incríveis e muito bem documentados. Ajudaram muito no meu aprendizado de programação.",rating:5},{name:"Mariana Costa",role:"Professora",avatar:"MC",content:"A interface é simples e intuitiva. Uso constantemente para encontrar materiais educacionais para minhas aulas.",rating:5},{name:"Carlos Santos",role:"Designer",avatar:"CS",content:"Projeto incrível! A qualidade do conteúdo e a facilidade de acesso fazem toda a diferença na minha rotina de estudos.",rating:5}],BF=()=>y.jsx("section",{className:"py-16 lg:py-24 bg-gradient-subtle",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-4",children:"O que Nossa Comunidade Diz"}),y.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Depoimentos reais de pessoas que transformaram seus estudos e projetos com nossa plataforma."})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8 max-w-6xl mx-auto",children:FF.map((n,e)=>y.jsxs("div",{className:"bg-card rounded-2xl p-8 shadow-card hover:shadow-elegant transition-all duration-300 hover:-translate-y-1 animate-fade-in",style:{animationDelay:`${e*.1}s`},children:[y.jsx(gI,{className:"h-8 w-8 text-primary mb-6"}),y.jsxs("p",{className:"text-foreground leading-relaxed text-lg mb-6",children:['"',n.content,'"']}),y.jsx("div",{className:"flex items-center gap-1 mb-6",children:[...Array(n.rating)].map((t,s)=>y.jsx(vI,{className:"h-4 w-4 fill-amber-400 text-amber-400"},s))}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-gradient-primary rounded-full flex items-center justify-center text-primary-foreground font-semibold",children:n.avatar}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-foreground",children:n.name}),y.jsx("p",{className:"text-muted-foreground",children:n.role})]})]})]},e))})]})}),zF=()=>y.jsx("section",{className:"py-16 lg:py-24 bg-background",children:y.jsx("div",{className:"container mx-auto px-4",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-primary rounded-2xl mb-6",children:y.jsx(Lw,{className:"h-8 w-8 text-primary-foreground"})}),y.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-6",children:"Torne-se um Voluntário Administrador"}),y.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Estamos sempre buscando pessoas engajadas e dedicadas para ajudar a manter e expandir nosso acervo digital. Como voluntário administrador, você poderá contribuir postando novos livros e jogos para a comunidade, ajudando a tornar nosso projeto ainda mais completo e acessível."})]}),y.jsx("div",{className:"bg-card rounded-2xl p-8 lg:p-12 shadow-card",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-foreground mb-6",children:"Como Voluntário, Você Pode:"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx(Ss,{className:"h-6 w-6 text-primary mt-1 flex-shrink-0"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-foreground mb-1",children:"Adicionar Conteúdo"}),y.jsx("p",{className:"text-muted-foreground",children:"Faça upload de livros e jogos de qualidade para nossa biblioteca."})]})]}),y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx(Lw,{className:"h-6 w-6 text-primary mt-1 flex-shrink-0"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-foreground mb-1",children:"Moderar Comunidade"}),y.jsx("p",{className:"text-muted-foreground",children:"Ajude a manter um ambiente saudável e colaborativo."})]})]}),y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx(Rw,{className:"h-6 w-6 text-primary mt-1 flex-shrink-0"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-foreground mb-1",children:"Suporte aos Usuários"}),y.jsx("p",{className:"text-muted-foreground",children:"Responda dúvidas e ajude novos membros da comunidade."})]})]})]})]}),y.jsxs("div",{className:"text-center lg:text-left",children:[y.jsxs("div",{className:"bg-gradient-subtle rounded-xl p-6 mb-6",children:[y.jsx("h4",{className:"text-lg font-semibold text-foreground mb-2",children:"Interessado em Participar?"}),y.jsx("p",{className:"text-muted-foreground mb-4",children:"Entre em contato conosco e faça parte da equipe que está transformando o acesso ao conhecimento!"})]}),y.jsxs(xe,{variant:"hero",size:"lg",className:"w-full lg:w-auto",onClick:()=>window.location.href="mailto:contato@acervodigital.com?subject=Interesse%20em%20ser%20Voluntário%20Administrador",children:[y.jsx(Rw,{className:"h-5 w-5 mr-2"}),"Entrar em Contato"]}),y.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"contato@acervodigital.com"})]})]})})]})})}),Lm={platform:[{label:"Biblioteca de Livros",href:"/books"},{label:"Jogos Python",href:"/games"},{label:"Como Funciona",href:"/how-it-works"},{label:"FAQ",href:"/faq"}],community:[{label:"Seja Voluntário",href:"/volunteer"},{label:"Diretrizes",href:"/guidelines"},{label:"Fórum",href:"/forum"},{label:"Blog",href:"/blog"}],support:[{label:"Central de Ajuda",href:"/help"},{label:"Contato",href:"/contact"},{label:"Reportar Problema",href:"/report"},{label:"Status",href:"/status"}],legal:[{label:"Termos de Uso",href:"/terms"},{label:"Política de Privacidade",href:"/privacy"},{label:"Licenças",href:"/licenses"},{label:"Cookies",href:"/cookies"}]},$F=[{icon:cI,href:"https://github.com",label:"GitHub"},{icon:xI,href:"https://twitter.com",label:"Twitter"},{icon:Rw,href:"mailto:contato@acervodigital.com",label:"Email"}],sr=()=>y.jsx("footer",{className:"bg-card border-t border-border",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsx("div",{className:"py-12 lg:py-16",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8",children:[y.jsxs("div",{className:"lg:col-span-2",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[y.jsx("div",{className:"w-10 h-10 bg-gradient-primary rounded-xl flex items-center justify-center",children:y.jsx(Ss,{className:"h-6 w-6 text-primary-foreground"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-foreground",children:"AcervoDigital"}),y.jsx("p",{className:"text-xs text-muted-foreground",children:"Conhecimento Livre"})]})]}),y.jsx("p",{className:"text-muted-foreground leading-relaxed mb-6 max-w-sm",children:"Democratizando o acesso ao conhecimento através de uma plataforma gratuita e colaborativa com livros digitais e jogos educacionais em Python."}),y.jsx("div",{className:"flex items-center gap-3",children:$F.map(n=>y.jsx("a",{href:n.href,className:"w-10 h-10 bg-secondary rounded-lg flex items-center justify-center text-muted-foreground hover:text-foreground hover:bg-primary hover:text-primary-foreground transition-all duration-300","aria-label":n.label,children:y.jsx(n.icon,{className:"h-5 w-5"})},n.label))})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-foreground mb-4",children:"Plataforma"}),y.jsx("ul",{className:"space-y-2",children:Lm.platform.map(n=>y.jsx("li",{children:y.jsx("a",{href:n.href,className:"text-muted-foreground hover:text-foreground transition-colors duration-300",children:n.label})},n.label))})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-foreground mb-4",children:"Comunidade"}),y.jsx("ul",{className:"space-y-2",children:Lm.community.map(n=>y.jsx("li",{children:y.jsx("a",{href:n.href,className:"text-muted-foreground hover:text-foreground transition-colors duration-300",children:n.label})},n.label))})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-foreground mb-4",children:"Suporte"}),y.jsx("ul",{className:"space-y-2",children:Lm.support.map(n=>y.jsx("li",{children:y.jsx("a",{href:n.href,className:"text-muted-foreground hover:text-foreground transition-colors duration-300",children:n.label})},n.label))})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-foreground mb-4",children:"Legal"}),y.jsx("ul",{className:"space-y-2",children:Lm.legal.map(n=>y.jsx("li",{children:y.jsx("a",{href:n.href,className:"text-muted-foreground hover:text-foreground transition-colors duration-300",children:n.label})},n.label))})]})]})}),y.jsx("div",{className:"border-t border-border py-6",children:y.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:y.jsx("p",{className:"text-muted-foreground text-sm",children:"© 2024 AcervoDigital. Todos os direitos reservados."})})})]})}),HF=()=>y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(nr,{}),y.jsx("section",{className:"py-12 lg:py-20 bg-gradient-subtle",children:y.jsx("div",{className:"container mx-auto px-4",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[y.jsxs("div",{className:"animate-fade-in",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 bg-card px-4 py-2 rounded-full border border-border/50 mb-6",children:[y.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),y.jsx("span",{className:"text-sm text-muted-foreground",children:"100% Gratuito • Sempre"})]}),y.jsxs("h1",{className:"text-4xl lg:text-6xl font-bold text-foreground mb-6 leading-tight",children:["Bem-vindo ao nosso",y.jsx("span",{className:"bg-gradient-primary bg-clip-text text-transparent",children:" Acervo Digital"})]}),y.jsx("p",{className:"text-lg lg:text-xl text-muted-foreground mb-8 leading-relaxed max-w-xl",children:"Descubra milhares de livros em PDF e jogos interativos em Python, totalmente gratuitos. Uma plataforma colaborativa construída pela comunidade, para a comunidade."}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[y.jsx(yr,{to:"/books",children:y.jsxs(xe,{variant:"hero",size:"xl",className:"group",children:[y.jsx(Ss,{className:"h-5 w-5 mr-2"}),"Explorar Livros",y.jsx(vS,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform duration-300"})]})}),y.jsx(yr,{to:"/games",children:y.jsxs(xe,{variant:"hero",size:"xl",className:"group",children:[y.jsx(Ss,{className:"h-5 w-5 mr-2"}),"Explorar Jogos",y.jsx(vS,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform duration-300"})]})})]}),y.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-8 h-8 bg-secondary rounded-full flex items-center justify-center",children:y.jsx(Ss,{className:"h-4 w-4"})}),y.jsx("span",{children:"2.500+ Livros"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-8 h-8 bg-secondary rounded-full flex items-center justify-center",children:y.jsx(Up,{className:"h-4 w-4"})}),y.jsx("span",{children:"150+ Jogos"})]})]})]}),y.jsx("div",{className:"animate-scale-in",children:y.jsx(MF,{})})]})})}),y.jsx(DF,{}),y.jsx(jF,{}),y.jsx(BF,{}),y.jsx(zF,{}),y.jsx(sr,{})]});function $k(n,e){return function(){return n.apply(e,arguments)}}const{toString:UF}=Object.prototype,{getPrototypeOf:R1}=Object,{iterator:wv,toStringTag:Hk}=Symbol,xv=(n=>e=>{const t=UF.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),rr=n=>(n=n.toLowerCase(),e=>xv(e)===n),bv=n=>e=>typeof e===n,{isArray:Md}=Array,nf=bv("undefined");function VF(n){return n!==null&&!nf(n)&&n.constructor!==null&&!nf(n.constructor)&&Nn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Uk=rr("ArrayBuffer");function WF(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Uk(n.buffer),e}const GF=bv("string"),Nn=bv("function"),Vk=bv("number"),Av=n=>n!==null&&typeof n=="object",qF=n=>n===!0||n===!1,sg=n=>{if(xv(n)!=="object")return!1;const e=R1(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Hk in n)&&!(wv in n)},XF=rr("Date"),KF=rr("File"),YF=rr("Blob"),QF=rr("FileList"),JF=n=>Av(n)&&Nn(n.pipe),ZF=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Nn(n.append)&&((e=xv(n))==="formdata"||e==="object"&&Nn(n.toString)&&n.toString()==="[object FormData]"))},e3=rr("URLSearchParams"),[t3,n3,s3,r3]=["ReadableStream","Request","Response","Headers"].map(rr),i3=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gp(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let s,r;if(typeof n!="object"&&(n=[n]),Md(n))for(s=0,r=n.length;s<r;s++)e.call(null,n[s],s,n);else{const i=t?Object.getOwnPropertyNames(n):Object.keys(n),o=i.length;let a;for(s=0;s<o;s++)a=i[s],e.call(null,n[a],a,n)}}function Wk(n,e){e=e.toLowerCase();const t=Object.keys(n);let s=t.length,r;for(;s-- >0;)if(r=t[s],e===r.toLowerCase())return r;return null}const Oa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Gk=n=>!nf(n)&&n!==Oa;function Ww(){const{caseless:n}=Gk(this)&&this||{},e={},t=(s,r)=>{const i=n&&Wk(e,r)||r;sg(e[i])&&sg(s)?e[i]=Ww(e[i],s):sg(s)?e[i]=Ww({},s):Md(s)?e[i]=s.slice():e[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Gp(arguments[s],t);return e}const o3=(n,e,t,{allOwnKeys:s}={})=>(Gp(e,(r,i)=>{t&&Nn(r)?n[i]=$k(r,t):n[i]=r},{allOwnKeys:s}),n),a3=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),l3=(n,e,t,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},c3=(n,e,t,s)=>{let r,i,o;const a={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),i=r.length;i-- >0;)o=r[i],(!s||s(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&R1(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},u3=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const s=n.indexOf(e,t);return s!==-1&&s===t},d3=n=>{if(!n)return null;if(Md(n))return n;let e=n.length;if(!Vk(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},h3=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&R1(Uint8Array)),f3=(n,e)=>{const s=(n&&n[wv]).call(n);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(n,i[0],i[1])}},p3=(n,e)=>{let t;const s=[];for(;(t=n.exec(e))!==null;)s.push(t);return s},m3=rr("HTMLFormElement"),g3=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,r){return s.toUpperCase()+r}),JS=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),y3=rr("RegExp"),qk=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),s={};Gp(t,(r,i)=>{let o;(o=e(r,i,n))!==!1&&(s[i]=o||r)}),Object.defineProperties(n,s)},v3=n=>{qk(n,(e,t)=>{if(Nn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=n[t];if(Nn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},w3=(n,e)=>{const t={},s=r=>{r.forEach(i=>{t[i]=!0})};return Md(n)?s(n):s(String(n).split(e)),t},x3=()=>{},b3=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function A3(n){return!!(n&&Nn(n.append)&&n[Hk]==="FormData"&&n[wv])}const S3=n=>{const e=new Array(10),t=(s,r)=>{if(Av(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[r]=s;const i=Md(s)?[]:{};return Gp(s,(o,a)=>{const l=t(o,r+1);!nf(l)&&(i[a]=l)}),e[r]=void 0,i}}return s};return t(n,0)},E3=rr("AsyncFunction"),C3=n=>n&&(Av(n)||Nn(n))&&Nn(n.then)&&Nn(n.catch),Xk=((n,e)=>n?setImmediate:e?((t,s)=>(Oa.addEventListener("message",({source:r,data:i})=>{r===Oa&&i===t&&s.length&&s.shift()()},!1),r=>{s.push(r),Oa.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Nn(Oa.postMessage)),_3=typeof queueMicrotask<"u"?queueMicrotask.bind(Oa):typeof process<"u"&&process.nextTick||Xk,T3=n=>n!=null&&Nn(n[wv]),I={isArray:Md,isArrayBuffer:Uk,isBuffer:VF,isFormData:ZF,isArrayBufferView:WF,isString:GF,isNumber:Vk,isBoolean:qF,isObject:Av,isPlainObject:sg,isReadableStream:t3,isRequest:n3,isResponse:s3,isHeaders:r3,isUndefined:nf,isDate:XF,isFile:KF,isBlob:YF,isRegExp:y3,isFunction:Nn,isStream:JF,isURLSearchParams:e3,isTypedArray:h3,isFileList:QF,forEach:Gp,merge:Ww,extend:o3,trim:i3,stripBOM:a3,inherits:l3,toFlatObject:c3,kindOf:xv,kindOfTest:rr,endsWith:u3,toArray:d3,forEachEntry:f3,matchAll:p3,isHTMLForm:m3,hasOwnProperty:JS,hasOwnProp:JS,reduceDescriptors:qk,freezeMethods:v3,toObjectSet:w3,toCamelCase:g3,noop:x3,toFiniteNumber:b3,findKey:Wk,global:Oa,isContextDefined:Gk,isSpecCompliantForm:A3,toJSONObject:S3,isAsyncFn:E3,isThenable:C3,setImmediate:Xk,asap:_3,isIterable:T3};function oe(n,e,t,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}I.inherits(oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const Kk=oe.prototype,Yk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Yk[n]={value:n}});Object.defineProperties(oe,Yk);Object.defineProperty(Kk,"isAxiosError",{value:!0});oe.from=(n,e,t,s,r,i)=>{const o=Object.create(Kk);return I.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),oe.call(o,n.message,e,t,s,r),o.cause=n,o.name=n.name,i&&Object.assign(o,i),o};const k3=null;function Gw(n){return I.isPlainObject(n)||I.isArray(n)}function Qk(n){return I.endsWith(n,"[]")?n.slice(0,-2):n}function ZS(n,e,t){return n?n.concat(e).map(function(r,i){return r=Qk(r),!t&&i?"["+r+"]":r}).join(t?".":""):e}function P3(n){return I.isArray(n)&&!n.some(Gw)}const N3=I.toFlatObject(I,{},null,function(e){return/^is[A-Z]/.test(e)});function Sv(n,e,t){if(!I.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=I.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,x){return!I.isUndefined(x[p])});const s=t.metaTokens,r=t.visitor||d,i=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(e);if(!I.isFunction(r))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(I.isDate(g))return g.toISOString();if(I.isBoolean(g))return g.toString();if(!l&&I.isBlob(g))throw new oe("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(g)||I.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,p,x){let v=g;if(g&&!x&&typeof g=="object"){if(I.endsWith(p,"{}"))p=s?p:p.slice(0,-2),g=JSON.stringify(g);else if(I.isArray(g)&&P3(g)||(I.isFileList(g)||I.endsWith(p,"[]"))&&(v=I.toArray(g)))return p=Qk(p),v.forEach(function(b,C){!(I.isUndefined(b)||b===null)&&e.append(o===!0?ZS([p],C,i):o===null?p:p+"[]",u(b))}),!1}return Gw(g)?!0:(e.append(ZS(x,p,i),u(g)),!1)}const h=[],f=Object.assign(N3,{defaultVisitor:d,convertValue:u,isVisitable:Gw});function m(g,p){if(!I.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(g),I.forEach(g,function(v,w){(!(I.isUndefined(v)||v===null)&&r.call(e,v,I.isString(w)?w.trim():w,p,f))===!0&&m(v,p?p.concat(w):[w])}),h.pop()}}if(!I.isObject(n))throw new TypeError("data must be an object");return m(n),e}function eE(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function L1(n,e){this._pairs=[],n&&Sv(n,this,e)}const Jk=L1.prototype;Jk.append=function(e,t){this._pairs.push([e,t])};Jk.toString=function(e){const t=e?function(s){return e.call(this,s,eE)}:eE;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function R3(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Zk(n,e,t){if(!e)return n;const s=t&&t.encode||R3;I.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let i;if(r?i=r(e,t):i=I.isURLSearchParams(e)?e.toString():new L1(e,t).toString(s),i){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}class tE{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){I.forEach(this.handlers,function(s){s!==null&&e(s)})}}const eP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},L3=typeof URLSearchParams<"u"?URLSearchParams:L1,M3=typeof FormData<"u"?FormData:null,I3=typeof Blob<"u"?Blob:null,D3={isBrowser:!0,classes:{URLSearchParams:L3,FormData:M3,Blob:I3},protocols:["http","https","file","blob","url","data"]},M1=typeof window<"u"&&typeof document<"u",qw=typeof navigator=="object"&&navigator||void 0,O3=M1&&(!qw||["ReactNative","NativeScript","NS"].indexOf(qw.product)<0),j3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",F3=M1&&window.location.href||"http://localhost",B3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:M1,hasStandardBrowserEnv:O3,hasStandardBrowserWebWorkerEnv:j3,navigator:qw,origin:F3},Symbol.toStringTag,{value:"Module"})),Qt={...B3,...D3};function z3(n,e){return Sv(n,new Qt.classes.URLSearchParams,Object.assign({visitor:function(t,s,r,i){return Qt.isNode&&I.isBuffer(t)?(this.append(s,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function $3(n){return I.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function H3(n){const e={},t=Object.keys(n);let s;const r=t.length;let i;for(s=0;s<r;s++)i=t[s],e[i]=n[i];return e}function tP(n){function e(t,s,r,i){let o=t[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=t.length;return o=!o&&I.isArray(r)?r.length:o,l?(I.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!a):((!r[o]||!I.isObject(r[o]))&&(r[o]=[]),e(t,s,r[o],i)&&I.isArray(r[o])&&(r[o]=H3(r[o])),!a)}if(I.isFormData(n)&&I.isFunction(n.entries)){const t={};return I.forEachEntry(n,(s,r)=>{e($3(s),r,t,0)}),t}return null}function U3(n,e,t){if(I.isString(n))try{return(e||JSON.parse)(n),I.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(n)}const qp={transitional:eP,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",r=s.indexOf("application/json")>-1,i=I.isObject(e);if(i&&I.isHTMLForm(e)&&(e=new FormData(e)),I.isFormData(e))return r?JSON.stringify(tP(e)):e;if(I.isArrayBuffer(e)||I.isBuffer(e)||I.isStream(e)||I.isFile(e)||I.isBlob(e)||I.isReadableStream(e))return e;if(I.isArrayBufferView(e))return e.buffer;if(I.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return z3(e,this.formSerializer).toString();if((a=I.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Sv(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),U3(e)):e}],transformResponse:[function(e){const t=this.transitional||qp.transitional,s=t&&t.forcedJSONParsing,r=this.responseType==="json";if(I.isResponse(e)||I.isReadableStream(e))return e;if(e&&I.isString(e)&&(s&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?oe.from(a,oe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qt.classes.FormData,Blob:Qt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],n=>{qp.headers[n]={}});const V3=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),W3=n=>{const e={};let t,s,r;return n&&n.split(`
`).forEach(function(o){r=o.indexOf(":"),t=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!t||e[t]&&V3[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},nE=Symbol("internals");function Gd(n){return n&&String(n).trim().toLowerCase()}function rg(n){return n===!1||n==null?n:I.isArray(n)?n.map(rg):String(n)}function G3(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(n);)e[s[1]]=s[2];return e}const q3=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function S0(n,e,t,s,r){if(I.isFunction(s))return s.call(this,e,t);if(r&&(e=t),!!I.isString(e)){if(I.isString(s))return e.indexOf(s)!==-1;if(I.isRegExp(s))return s.test(e)}}function X3(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function K3(n,e){const t=I.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+t,{value:function(r,i,o){return this[s].call(this,e,r,i,o)},configurable:!0})})}class Rn{constructor(e){e&&this.set(e)}set(e,t,s){const r=this;function i(a,l,u){const d=Gd(l);if(!d)throw new Error("header name must be a non-empty string");const h=I.findKey(r,d);(!h||r[h]===void 0||u===!0||u===void 0&&r[h]!==!1)&&(r[h||l]=rg(a))}const o=(a,l)=>I.forEach(a,(u,d)=>i(u,d,l));if(I.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(I.isString(e)&&(e=e.trim())&&!q3(e))o(W3(e),t);else if(I.isObject(e)&&I.isIterable(e)){let a={},l,u;for(const d of e){if(!I.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(l=a[u])?I.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,t)}else e!=null&&i(t,e,s);return this}get(e,t){if(e=Gd(e),e){const s=I.findKey(this,e);if(s){const r=this[s];if(!t)return r;if(t===!0)return G3(r);if(I.isFunction(t))return t.call(this,r,s);if(I.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Gd(e),e){const s=I.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||S0(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let r=!1;function i(o){if(o=Gd(o),o){const a=I.findKey(s,o);a&&(!t||S0(s,s[a],a,t))&&(delete s[a],r=!0)}}return I.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let s=t.length,r=!1;for(;s--;){const i=t[s];(!e||S0(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const t=this,s={};return I.forEach(this,(r,i)=>{const o=I.findKey(s,i);if(o){t[o]=rg(r),delete t[i];return}const a=e?X3(i):String(i).trim();a!==i&&delete t[i],t[a]=rg(r),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return I.forEach(this,(s,r)=>{s!=null&&s!==!1&&(t[r]=e&&I.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[nE]=this[nE]={accessors:{}}).accessors,r=this.prototype;function i(o){const a=Gd(o);s[a]||(K3(r,o),s[a]=!0)}return I.isArray(e)?e.forEach(i):i(e),this}}Rn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(Rn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[t]=s}}});I.freezeMethods(Rn);function E0(n,e){const t=this||qp,s=e||t,r=Rn.from(s.headers);let i=s.data;return I.forEach(n,function(a){i=a.call(t,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function nP(n){return!!(n&&n.__CANCEL__)}function Id(n,e,t){oe.call(this,n??"canceled",oe.ERR_CANCELED,e,t),this.name="CanceledError"}I.inherits(Id,oe,{__CANCEL__:!0});function sP(n,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?n(t):e(new oe("Request failed with status code "+t.status,[oe.ERR_BAD_REQUEST,oe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Y3(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Q3(n,e){n=n||10;const t=new Array(n),s=new Array(n);let r=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=s[i];o||(o=u),t[r]=l,s[r]=u;let h=i,f=0;for(;h!==r;)f+=t[h++],h=h%n;if(r=(r+1)%n,r===i&&(i=(i+1)%n),u-o<e)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function J3(n,e){let t=0,s=1e3/e,r,i;const o=(u,d=Date.now())=>{t=d,r=null,i&&(clearTimeout(i),i=null),n.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-t;h>=s?o(u,d):(r=u,i||(i=setTimeout(()=>{i=null,o(r)},s-h)))},()=>r&&o(r)]}const my=(n,e,t=3)=>{let s=0;const r=Q3(50,250);return J3(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-s,u=r(l),d=o<=a;s=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(h)},t)},sE=(n,e)=>{const t=n!=null;return[s=>e[0]({lengthComputable:t,total:n,loaded:s}),e[1]]},rE=n=>(...e)=>I.asap(()=>n(...e)),Z3=Qt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Qt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Qt.origin),Qt.navigator&&/(msie|trident)/i.test(Qt.navigator.userAgent)):()=>!0,e4=Qt.hasStandardBrowserEnv?{write(n,e,t,s,r,i){const o=[n+"="+encodeURIComponent(e)];I.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),I.isString(s)&&o.push("path="+s),I.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function t4(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function n4(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function rP(n,e,t){let s=!t4(e);return n&&(s||t==!1)?n4(n,e):e}const iE=n=>n instanceof Rn?{...n}:n;function ac(n,e){e=e||{};const t={};function s(u,d,h,f){return I.isPlainObject(u)&&I.isPlainObject(d)?I.merge.call({caseless:f},u,d):I.isPlainObject(d)?I.merge({},d):I.isArray(d)?d.slice():d}function r(u,d,h,f){if(I.isUndefined(d)){if(!I.isUndefined(u))return s(void 0,u,h,f)}else return s(u,d,h,f)}function i(u,d){if(!I.isUndefined(d))return s(void 0,d)}function o(u,d){if(I.isUndefined(d)){if(!I.isUndefined(u))return s(void 0,u)}else return s(void 0,d)}function a(u,d,h){if(h in e)return s(u,d);if(h in n)return s(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,h)=>r(iE(u),iE(d),h,!0)};return I.forEach(Object.keys(Object.assign({},n,e)),function(d){const h=l[d]||r,f=h(n[d],e[d],d);I.isUndefined(f)&&h!==a||(t[d]=f)}),t}const iP=n=>{const e=ac({},n);let{data:t,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Rn.from(o),e.url=Zk(rP(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(I.isFormData(t)){if(Qt.hasStandardBrowserEnv||Qt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Qt.hasStandardBrowserEnv&&(s&&I.isFunction(s)&&(s=s(e)),s||s!==!1&&Z3(e.url))){const u=r&&i&&e4.read(i);u&&o.set(r,u)}return e},s4=typeof XMLHttpRequest<"u",r4=s4&&function(n){return new Promise(function(t,s){const r=iP(n);let i=r.data;const o=Rn.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=r,d,h,f,m,g;function p(){m&&m(),g&&g(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(r.method.toUpperCase(),r.url,!0),x.timeout=r.timeout;function v(){if(!x)return;const b=Rn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),_={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:n,request:x};sP(function(P){t(P),p()},function(P){s(P),p()},_),x=null}"onloadend"in x?x.onloadend=v:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(v)},x.onabort=function(){x&&(s(new oe("Request aborted",oe.ECONNABORTED,n,x)),x=null)},x.onerror=function(){s(new oe("Network Error",oe.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const _=r.transitional||eP;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),s(new oe(C,_.clarifyTimeoutError?oe.ETIMEDOUT:oe.ECONNABORTED,n,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&I.forEach(o.toJSON(),function(C,_){x.setRequestHeader(_,C)}),I.isUndefined(r.withCredentials)||(x.withCredentials=!!r.withCredentials),a&&a!=="json"&&(x.responseType=r.responseType),u&&([f,g]=my(u,!0),x.addEventListener("progress",f)),l&&x.upload&&([h,m]=my(l),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",m)),(r.cancelToken||r.signal)&&(d=b=>{x&&(s(!b||b.type?new Id(null,n,x):b),x.abort(),x=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const w=Y3(r.url);if(w&&Qt.protocols.indexOf(w)===-1){s(new oe("Unsupported protocol "+w+":",oe.ERR_BAD_REQUEST,n));return}x.send(i||null)})},i4=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let s=new AbortController,r;const i=function(u){if(!r){r=!0,a();const d=u instanceof Error?u:this.reason;s.abort(d instanceof oe?d:new Id(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,i(new oe(`timeout ${e} of ms exceeded`,oe.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),n=null)};n.forEach(u=>u.addEventListener("abort",i));const{signal:l}=s;return l.unsubscribe=()=>I.asap(a),l}},o4=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let s=0,r;for(;s<t;)r=s+e,yield n.slice(s,r),s=r},a4=async function*(n,e){for await(const t of l4(n))yield*o4(t,e)},l4=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},oE=(n,e,t,s)=>{const r=a4(n,e);let i=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await r.next();if(u){a(),l.close();return}let h=d.byteLength;if(t){let f=i+=h;t(f)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},Ev=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",oP=Ev&&typeof ReadableStream=="function",c4=Ev&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),aP=(n,...e)=>{try{return!!n(...e)}catch{return!1}},u4=oP&&aP(()=>{let n=!1;const e=new Request(Qt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),aE=64*1024,Xw=oP&&aP(()=>I.isReadableStream(new Response("").body)),gy={stream:Xw&&(n=>n.body)};Ev&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!gy[e]&&(gy[e]=I.isFunction(n[e])?t=>t[e]():(t,s)=>{throw new oe(`Response type '${e}' is not supported`,oe.ERR_NOT_SUPPORT,s)})})})(new Response);const d4=async n=>{if(n==null)return 0;if(I.isBlob(n))return n.size;if(I.isSpecCompliantForm(n))return(await new Request(Qt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(I.isArrayBufferView(n)||I.isArrayBuffer(n))return n.byteLength;if(I.isURLSearchParams(n)&&(n=n+""),I.isString(n))return(await c4(n)).byteLength},h4=async(n,e)=>{const t=I.toFiniteNumber(n.getContentLength());return t??d4(e)},f4=Ev&&(async n=>{let{url:e,method:t,data:s,signal:r,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=iP(n);u=u?(u+"").toLowerCase():"text";let m=i4([r,i&&i.toAbortSignal()],o),g;const p=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let x;try{if(l&&u4&&t!=="get"&&t!=="head"&&(x=await h4(d,s))!==0){let _=new Request(e,{method:"POST",body:s,duplex:"half"}),k;if(I.isFormData(s)&&(k=_.headers.get("content-type"))&&d.setContentType(k),_.body){const[P,N]=sE(x,my(rE(l)));s=oE(_.body,aE,P,N)}}I.isString(h)||(h=h?"include":"omit");const v="credentials"in Request.prototype;g=new Request(e,{...f,signal:m,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:v?h:void 0});let w=await fetch(g,f);const b=Xw&&(u==="stream"||u==="response");if(Xw&&(a||b&&p)){const _={};["status","statusText","headers"].forEach(L=>{_[L]=w[L]});const k=I.toFiniteNumber(w.headers.get("content-length")),[P,N]=a&&sE(k,my(rE(a),!0))||[];w=new Response(oE(w.body,aE,P,()=>{N&&N(),p&&p()}),_)}u=u||"text";let C=await gy[I.findKey(gy,u)||"text"](w,n);return!b&&p&&p(),await new Promise((_,k)=>{sP(_,k,{data:C,headers:Rn.from(w.headers),status:w.status,statusText:w.statusText,config:n,request:g})})}catch(v){throw p&&p(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new oe("Network Error",oe.ERR_NETWORK,n,g),{cause:v.cause||v}):oe.from(v,v&&v.code,n,g)}}),Kw={http:k3,xhr:r4,fetch:f4};I.forEach(Kw,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const lE=n=>`- ${n}`,p4=n=>I.isFunction(n)||n===null||n===!1,lP={getAdapter:n=>{n=I.isArray(n)?n:[n];const{length:e}=n;let t,s;const r={};for(let i=0;i<e;i++){t=n[i];let o;if(s=t,!p4(t)&&(s=Kw[(o=String(t)).toLowerCase()],s===void 0))throw new oe(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+i]=s}if(!s){const i=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(lE).join(`
`):" "+lE(i[0]):"as no adapter specified";throw new oe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Kw};function C0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Id(null,n)}function cE(n){return C0(n),n.headers=Rn.from(n.headers),n.data=E0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),lP.getAdapter(n.adapter||qp.adapter)(n).then(function(s){return C0(n),s.data=E0.call(n,n.transformResponse,s),s.headers=Rn.from(s.headers),s},function(s){return nP(s)||(C0(n),s&&s.response&&(s.response.data=E0.call(n,n.transformResponse,s.response),s.response.headers=Rn.from(s.response.headers))),Promise.reject(s)})}const cP="1.10.0",Cv={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Cv[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const uE={};Cv.transitional=function(e,t,s){function r(i,o){return"[Axios v"+cP+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,a)=>{if(e===!1)throw new oe(r(o," has been removed"+(t?" in "+t:"")),oe.ERR_DEPRECATED);return t&&!uE[o]&&(uE[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,a):!0}};Cv.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function m4(n,e,t){if(typeof n!="object")throw new oe("options must be an object",oe.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let r=s.length;for(;r-- >0;){const i=s[r],o=e[i];if(o){const a=n[i],l=a===void 0||o(a,i,n);if(l!==!0)throw new oe("option "+i+" must be "+l,oe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new oe("Unknown option "+i,oe.ERR_BAD_OPTION)}}const ig={assertOptions:m4,validators:Cv},hr=ig.validators;class Zl{constructor(e){this.defaults=e||{},this.interceptors={request:new tE,response:new tE}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ac(this.defaults,t);const{transitional:s,paramsSerializer:r,headers:i}=t;s!==void 0&&ig.assertOptions(s,{silentJSONParsing:hr.transitional(hr.boolean),forcedJSONParsing:hr.transitional(hr.boolean),clarifyTimeoutError:hr.transitional(hr.boolean)},!1),r!=null&&(I.isFunction(r)?t.paramsSerializer={serialize:r}:ig.assertOptions(r,{encode:hr.function,serialize:hr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ig.assertOptions(t,{baseUrl:hr.spelling("baseURL"),withXsrfToken:hr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&I.merge(i.common,i[t.method]);i&&I.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),t.headers=Rn.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(t)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,h=0,f;if(!l){const g=[cE.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),f=g.length,d=Promise.resolve(t);h<f;)d=d.then(g[h++],g[h++]);return d}f=a.length;let m=t;for(h=0;h<f;){const g=a[h++],p=a[h++];try{m=g(m)}catch(x){p.call(this,x);break}}try{d=cE.call(this,m)}catch(g){return Promise.reject(g)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=ac(this.defaults,e);const t=rP(e.baseURL,e.url,e.allowAbsoluteUrls);return Zk(t,e.params,e.paramsSerializer)}}I.forEach(["delete","get","head","options"],function(e){Zl.prototype[e]=function(t,s){return this.request(ac(s||{},{method:e,url:t,data:(s||{}).data}))}});I.forEach(["post","put","patch"],function(e){function t(s){return function(i,o,a){return this.request(ac(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Zl.prototype[e]=t(),Zl.prototype[e+"Form"]=t(!0)});class I1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(a=>{s.subscribe(a),i=a}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,a){s.reason||(s.reason=new Id(i,o,a),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new I1(function(r){e=r}),cancel:e}}}function g4(n){return function(t){return n.apply(null,t)}}function y4(n){return I.isObject(n)&&n.isAxiosError===!0}const Yw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yw).forEach(([n,e])=>{Yw[e]=n});function uP(n){const e=new Zl(n),t=$k(Zl.prototype.request,e);return I.extend(t,Zl.prototype,e,{allOwnKeys:!0}),I.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return uP(ac(n,r))},t}const Re=uP(qp);Re.Axios=Zl;Re.CanceledError=Id;Re.CancelToken=I1;Re.isCancel=nP;Re.VERSION=cP;Re.toFormData=Sv;Re.AxiosError=oe;Re.Cancel=Re.CanceledError;Re.all=function(e){return Promise.all(e)};Re.spread=g4;Re.isAxiosError=y4;Re.mergeConfig=ac;Re.AxiosHeaders=Rn;Re.formToJSON=n=>tP(I.isHTMLForm(n)?new FormData(n):n);Re.getAdapter=lP.getAdapter;Re.HttpStatusCode=Yw;Re.default=Re;const Zs=T.forwardRef(({className:n,type:e,...t},s)=>y.jsx("input",{type:e,className:rt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:s,...t}));Zs.displayName="Input";const on=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Qw=[.001,0,0,.001,0,0],_0=1.35,Yn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ao={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},dP="pdfjs_internal_editor_",re={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},me={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},v4={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Vt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},og={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ot={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Cc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},_v={ERRORS:0,WARNINGS:1,INFOS:5},yy={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Mm={moveTo:0,lineTo:1,curveTo:2,closePath:3},w4={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Tv=_v.WARNINGS;function x4(n){Number.isInteger(n)&&(Tv=n)}function b4(){return Tv}function kv(n){Tv>=_v.INFOS&&console.log(`Info: ${n}`)}function ie(n){Tv>=_v.WARNINGS&&console.log(`Warning: ${n}`)}function Pe(n){throw new Error(n)}function ct(n,e){n||Pe(e)}function A4(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function hP(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=T4(n)}catch{}}const s=e?URL.parse(n,e):URL.parse(n);return A4(s)?s:null}function fP(n,e,t=!1){const s=URL.parse(n);return s?(s.hash=e,s.href):t&&hP(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function pe(n,e,t,s=!1){return Object.defineProperty(n,e,{value:t,enumerable:!s,configurable:!0,writable:!1}),t}const yc=function(){function e(t,s){this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e}();class dE extends yc{constructor(e,t){super(e,"PasswordException"),this.code=t}}class T0 extends yc{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Jw extends yc{constructor(e){super(e,"InvalidPDFException")}}class vy extends yc{constructor(e,t,s){super(e,"ResponseException"),this.status=t,this.missing=s}}class S4 extends yc{constructor(e){super(e,"FormatError")}}class ga extends yc{constructor(e){super(e,"AbortException")}}function pP(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Pe("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const s=[];for(let r=0;r<e;r+=t){const i=Math.min(r+t,e),o=n.subarray(r,i);s.push(String.fromCharCode.apply(null,o))}return s.join("")}function Xp(n){typeof n!="string"&&Pe("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let s=0;s<e;++s)t[s]=n.charCodeAt(s)&255;return t}function E4(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function C4(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function _4(){try{return new Function(""),!0}catch{return!1}}class zt{static get isLittleEndian(){return pe(this,"isLittleEndian",C4())}static get isEvalSupported(){return pe(this,"isEvalSupported",_4())}static get isOffscreenCanvasSupported(){return pe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return pe(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return pe(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return pe(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const k0=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Fi,ag,Zw;class te{static makeHexColor(e,t,s){return`#${k0[e]}${k0[t]}${k0[s]}`}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,s=0){const r=e[s],i=e[s+1];e[s]=r*t[0]+i*t[2]+t[4],e[s+1]=r*t[1]+i*t[3]+t[5]}static applyTransformToBezier(e,t,s=0){const r=t[0],i=t[1],o=t[2],a=t[3],l=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[s+d],f=e[s+d+1];e[s+d]=h*r+f*o+l,e[s+d+1]=h*i+f*a+u}}static applyInverseTransform(e,t){const s=e[0],r=e[1],i=t[0]*t[3]-t[1]*t[2];e[0]=(s*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/i,e[1]=(-s*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/i}static axialAlignedBoundingBox(e,t,s){const r=t[0],i=t[1],o=t[2],a=t[3],l=t[4],u=t[5],d=e[0],h=e[1],f=e[2],m=e[3];let g=r*d+l,p=g,x=r*f+l,v=x,w=a*h+u,b=w,C=a*m+u,_=C;if(i!==0||o!==0){const k=i*d,P=i*f,N=o*h,L=o*m;g+=N,v+=N,x+=L,p+=L,w+=k,_+=k,C+=P,b+=P}s[0]=Math.min(s[0],g,x,p,v),s[1]=Math.min(s[1],w,C,b,_),s[2]=Math.max(s[2],g,x,p,v),s[3]=Math.max(s[3],w,C,b,_)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const s=e[0],r=e[1],i=e[2],o=e[3],a=s**2+r**2,l=s*i+r*o,u=i**2+o**2,d=(a+u)/2,h=Math.sqrt(d**2-(a*u-l**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>o?null:[s,i,r,o]}static pointBoundingBox(e,t,s){s[0]=Math.min(s[0],e),s[1]=Math.min(s[1],t),s[2]=Math.max(s[2],e),s[3]=Math.max(s[3],t)}static rectBoundingBox(e,t,s,r,i){i[0]=Math.min(i[0],e,s),i[1]=Math.min(i[1],t,r),i[2]=Math.max(i[2],e,s),i[3]=Math.max(i[3],t,r)}static bezierBoundingBox(e,t,s,r,i,o,a,l,u){u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],t,l),E(this,Fi,Zw).call(this,e,s,i,a,t,r,o,l,3*(-e+3*(s-i)+a),6*(e-2*s+i),3*(s-e),u),E(this,Fi,Zw).call(this,e,s,i,a,t,r,o,l,3*(-t+3*(r-o)+l),6*(t-2*r+o),3*(r-t),u)}}Fi=new WeakSet,ag=function(e,t,s,r,i,o,a,l,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,m=f*u,g=h*(h*(h*e+3*u*t)+3*f*s)+m*r,p=h*(h*(h*i+3*u*o)+3*f*a)+m*l;d[0]=Math.min(d[0],g),d[1]=Math.min(d[1],p),d[2]=Math.max(d[2],g),d[3]=Math.max(d[3],p)},Zw=function(e,t,s,r,i,o,a,l,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&E(this,Fi,ag).call(this,e,t,s,r,i,o,a,l,-h/d,f);return}const m=d**2-4*h*u;if(m<0)return;const g=Math.sqrt(m),p=2*u;E(this,Fi,ag).call(this,e,t,s,r,i,o,a,l,(-d+g)/p,f),E(this,Fi,ag).call(this,e,t,s,r,i,o,a,l,(-d-g)/p,f)},S(te,Fi);function T4(n){return decodeURIComponent(escape(n))}let P0=null,hE=null;function k4(n){return P0||(P0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,hE=new Map([["ﬅ","ſt"]])),n.replaceAll(P0,(e,t,s)=>t?t.normalize("NFKC"):hE.get(s))}function mP(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),pP(n)}const D1="pdfjs_internal_id_";function P4(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[s,r,...i]=t;if(!n(s)&&!Number.isInteger(s)||!e(r))return!1;const o=i.length;let a=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(const l of i)if(!(typeof l=="number"||a&&l===null))return!1;return!0}function an(n,e,t){return Math.min(Math.max(n,e),t)}function gP(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(pP(n))}function N4(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):Xp(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});const Qr="http://www.w3.org/2000/svg",Ra=class Ra{};H(Ra,"CSS",96),H(Ra,"PDF",72),H(Ra,"PDF_TO_CSS_UNITS",Ra.CSS/Ra.PDF);let ya=Ra;async function Kp(n,e="text"){if(th(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,s)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class Yp{constructor({viewBox:e,userUnit:t,scale:s,rotation:r,offsetX:i=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=t,this.scale=s,this.rotation=r,this.offsetX=i,this.offsetY=o,s*=t;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,f,m;switch(r%=360,r<0&&(r+=360),r){case 180:d=-1,h=0,f=0,m=1;break;case 90:d=0,h=1,f=1,m=0;break;case 270:d=0,h=-1,f=-1,m=0;break;case 0:d=1,h=0,f=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(f=-f,m=-m);let g,p,x,v;d===0?(g=Math.abs(u-e[1])*s+i,p=Math.abs(l-e[0])*s+o,x=(e[3]-e[1])*s,v=(e[2]-e[0])*s):(g=Math.abs(l-e[0])*s+i,p=Math.abs(u-e[1])*s+o,x=(e[2]-e[0])*s,v=(e[3]-e[1])*s),this.transform=[d*s,h*s,f*s,m*s,g-d*s*l-f*s*u,p-h*s*l-m*s*u],this.width=x,this.height=v}get rawDims(){const e=this.viewBox;return pe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}={}){return new Yp({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){const s=[e,t];return te.applyTransform(s,this.transform),s}convertToViewportRectangle(e){const t=[e[0],e[1]];te.applyTransform(t,this.transform);const s=[e[2],e[3]];return te.applyTransform(s,this.transform),[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){const s=[e,t];return te.applyInverseTransform(s,this.transform),s}}class O1 extends yc{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Pv(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function j1(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function R4(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function L4(n,e="document.pdf"){if(typeof n!="string")return e;if(Pv(n))return ie('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const s=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(n);if(!s)return e;const r=a=>{try{let l=decodeURIComponent(a);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:a):l}catch{return a}},i=/\.pdf$/i,o=s.pathname.split("/").at(-1);if(i.test(o))return r(o);if(s.searchParams.size>0){const a=Array.from(s.searchParams.values()).reverse();for(const u of a)if(i.test(u))return r(u);const l=Array.from(s.searchParams.keys()).reverse();for(const u of l)if(i.test(u))return r(u)}if(s.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(s.hash);if(l)return r(l[0])}return e}class fE{constructor(){H(this,"started",Object.create(null));H(this,"times",[])}time(e){e in this.started&&ie(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ie(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:r,end:i}of this.times)e.push(`${s.padEnd(t)} ${i-r}ms
`);return e.join("")}}function th(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function er(n){n.preventDefault()}function at(n){n.preventDefault(),n.stopPropagation()}function M4(n){console.log("Deprecated API usage: "+n)}var cf;class F1{static toDateObject(e){if(!e||typeof e!="string")return null;c(this,cf)||A(this,cf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=c(this,cf).exec(e);if(!t)return null;const s=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(o+=d,a+=h):u==="+"&&(o-=d,a-=h),new Date(Date.UTC(s,r,i,o,a,l))}}cf=new WeakMap,S(F1,cf);function I4(n,{scale:e=1,rotation:t=0}){const{width:s,height:r}=n.attributes.style,i=[0,0,parseInt(s),parseInt(r)];return new Yp({viewBox:i,userUnit:1,scale:e,rotation:t})}function B1(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ie(`Not a valid color format: "${n}"`),[0,0,0])}function D4(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const s=window.getComputedStyle(e).color;n.set(t,B1(s))}e.remove()}function Ge(n){const{a:e,b:t,c:s,d:r,e:i,f:o}=n.getTransform();return[e,t,s,r,i,o]}function fr(n){const{a:e,b:t,c:s,d:r,e:i,f:o}=n.getTransform().invertSelf();return[e,t,s,r,i,o]}function lc(n,e,t=!1,s=!0){if(e instanceof Yp){const{pageWidth:r,pageHeight:i}=e.rawDims,{style:o}=n,a=zt.isCSSRoundSupported,l=`var(--total-scale-factor) * ${r}px`,u=`var(--total-scale-factor) * ${i}px`,d=a?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=a?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}s&&n.setAttribute("data-main-rotation",e.rotation)}class Wr{constructor(){const{pixelRatio:e}=Wr;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,s,r,i=-1){let o=1/0,a=1/0,l=1/0;s=Wr.capPixels(s,i),s>0&&(o=Math.sqrt(s/(e*t))),r!==-1&&(a=r/e,l=r/t);const u=Math.min(o,a,l);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const s=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,s):s}return e}}const ex=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var mo,Ha,ds,go,uf,hu,df,Ty,yP,dn,vP,wP,nh,lg;const ti=class ti{constructor(e){S(this,dn);S(this,mo,null);S(this,Ha,null);S(this,ds);S(this,go,null);S(this,uf,null);S(this,hu,null);A(this,ds,e),c(ti,df)||A(ti,df,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=A(this,mo,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=c(this,ds)._uiManager._signal;e.addEventListener("contextmenu",er,{signal:t}),e.addEventListener("pointerdown",E(ti,Ty,yP),{signal:t});const s=A(this,go,document.createElement("div"));s.className="buttons",e.append(s);const r=c(this,ds).toolbarPosition;if(r){const{style:i}=e,o=c(this,ds)._uiManager.direction==="ltr"?1-r[0]:r[0];i.insetInlineEnd=`${100*o}%`,i.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return c(this,mo)}hide(){var e;c(this,mo).classList.add("hidden"),(e=c(this,Ha))==null||e.hideDropdown()}show(){var e;c(this,mo).classList.remove("hidden"),(e=c(this,uf))==null||e.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=c(this,ds),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",c(ti,df)[e]),E(this,dn,nh).call(this,s),s.addEventListener("click",r=>{t.delete()},{signal:t._signal}),c(this,go).append(s)}async addAltText(e){const t=await e.render();E(this,dn,nh).call(this,t),c(this,go).append(t,c(this,dn,lg)),A(this,uf,e)}addColorPicker(e){A(this,Ha,e);const t=e.renderButton();E(this,dn,nh).call(this,t),c(this,go).append(t,c(this,dn,lg))}async addEditSignatureButton(e){const t=A(this,hu,await e.renderEditButton(c(this,ds)));E(this,dn,nh).call(this,t),c(this,go).append(t,c(this,dn,lg))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){c(this,hu)&&(c(this,hu).title=e)}remove(){var e;c(this,mo).remove(),(e=c(this,Ha))==null||e.destroy(),A(this,Ha,null)}};mo=new WeakMap,Ha=new WeakMap,ds=new WeakMap,go=new WeakMap,uf=new WeakMap,hu=new WeakMap,df=new WeakMap,Ty=new WeakSet,yP=function(e){e.stopPropagation()},dn=new WeakSet,vP=function(e){c(this,ds)._focusEventsAllowed=!1,at(e)},wP=function(e){c(this,ds)._focusEventsAllowed=!0,at(e)},nh=function(e){const t=c(this,ds)._uiManager._signal;e.addEventListener("focusin",E(this,dn,vP).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",E(this,dn,wP).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",er,{signal:t})},lg=function(){const e=document.createElement("div");return e.className="divider",e},S(ti,Ty),S(ti,df,null);let tx=ti;var hf,Ua,Va,va,xP,bP,AP;class O4{constructor(e){S(this,va);S(this,hf,null);S(this,Ua,null);S(this,Va);A(this,Va,e)}show(e,t,s){const[r,i]=E(this,va,bP).call(this,t,s),{style:o}=c(this,Ua)||A(this,Ua,E(this,va,xP).call(this));e.append(c(this,Ua)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,Ua).remove()}}hf=new WeakMap,Ua=new WeakMap,Va=new WeakMap,va=new WeakSet,xP=function(){const e=A(this,Ua,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",er,{signal:c(this,Va)._signal});const t=A(this,hf,document.createElement("div"));return t.className="buttons",e.append(t),E(this,va,AP).call(this),e},bP=function(e,t){let s=0,r=0;for(const i of e){const o=i.y+i.height;if(o<s)continue;const a=i.x+(t?i.width:0);if(o>s){r=a,s=o;continue}t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,s]},AP=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=c(this,Va)._signal;e.addEventListener("contextmenu",er,{signal:s}),e.addEventListener("click",()=>{c(this,Va).highlightSelection("floating_button")},{signal:s}),c(this,hf).append(e)};function SP(n,e,t){for(const s of t)e.addEventListener(s,n[s].bind(n))}var ky;class j4{constructor(){S(this,ky,0)}get id(){return`${dP}${xt(this,ky)._++}`}}ky=new WeakMap;var fu,ff,qt,pu,cg;const G1=class G1{constructor(){S(this,pu);S(this,fu,mP());S(this,ff,0);S(this,qt,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const i=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return pe(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:t,name:s,size:r,type:i}=e;return E(this,pu,cg).call(this,`${t}_${s}_${r}_${i}`,e)}async getFromUrl(e){return E(this,pu,cg).call(this,e,e)}async getFromBlob(e,t){const s=await t;return E(this,pu,cg).call(this,e,s)}async getFromId(e){c(this,qt)||A(this,qt,new Map);const t=c(this,qt).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:s}=t;return delete t.blobPromise,this.getFromBlob(t.id,s)}return this.getFromUrl(t.url)}getFromCanvas(e,t){c(this,qt)||A(this,qt,new Map);let s=c(this,qt).get(e);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${c(this,fu)}_${xt(this,ff)._++}`,refCounter:1,isSvg:!1},c(this,qt).set(e,s),c(this,qt).set(s.id,s),s}getSvgUrl(e){const t=c(this,qt).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;c(this,qt)||A(this,qt,new Map);const t=c(this,qt).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:s}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(s.width,s.height);i.getContext("bitmaprenderer").transferFromImageBitmap(s),t.blobPromise=i.convertToBlob()}(r=s.close)==null||r.call(s),t.bitmap=null}isValidId(e){return e.startsWith(`image_${c(this,fu)}_`)}};fu=new WeakMap,ff=new WeakMap,qt=new WeakMap,pu=new WeakSet,cg=async function(e,t){c(this,qt)||A(this,qt,new Map);let s=c(this,qt).get(e);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${c(this,fu)}_${xt(this,ff)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(s.url=t,r=await Kp(t,"blob")):t instanceof File?r=s.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const i=G1._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((u,d)=>{a.onload=()=>{s.bitmap=a,s.isSvg=!0,u()},o.onload=async()=>{const h=s.svgUrl=o.result;a.src=await i?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=d});o.readAsDataURL(r),await l}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){ie(r),s=null}return c(this,qt).set(e,s),s&&c(this,qt).set(s.id,s),s};let nx=G1;var et,yo,pf,We;class F4{constructor(e=128){S(this,et,[]);S(this,yo,!1);S(this,pf);S(this,We,-1);A(this,pf,e)}add({cmd:e,undo:t,post:s,mustExec:r,type:i=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&e(),c(this,yo))return;const l={cmd:e,undo:t,post:s,type:i};if(c(this,We)===-1){c(this,et).length>0&&(c(this,et).length=0),A(this,We,0),c(this,et).push(l);return}if(o&&c(this,et)[c(this,We)].type===i){a&&(l.undo=c(this,et)[c(this,We)].undo),c(this,et)[c(this,We)]=l;return}const u=c(this,We)+1;u===c(this,pf)?c(this,et).splice(0,1):(A(this,We,u),u<c(this,et).length&&c(this,et).splice(u)),c(this,et).push(l)}undo(){if(c(this,We)===-1)return;A(this,yo,!0);const{undo:e,post:t}=c(this,et)[c(this,We)];e(),t==null||t(),A(this,yo,!1),A(this,We,c(this,We)-1)}redo(){if(c(this,We)<c(this,et).length-1){A(this,We,c(this,We)+1),A(this,yo,!0);const{cmd:e,post:t}=c(this,et)[c(this,We)];e(),t==null||t(),A(this,yo,!1)}}hasSomethingToUndo(){return c(this,We)!==-1}hasSomethingToRedo(){return c(this,We)<c(this,et).length-1}cleanType(e){if(c(this,We)!==-1){for(let t=c(this,We);t>=0;t--)if(c(this,et)[t].type!==e){c(this,et).splice(t+1,c(this,We)-t),A(this,We,t);return}c(this,et).length=0,A(this,We,-1)}}destroy(){A(this,et,null)}}et=new WeakMap,yo=new WeakMap,pf=new WeakMap,We=new WeakMap;var Py,EP;class Qp{constructor(e){S(this,Py);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=zt.platform;for(const[s,r,i={}]of e)for(const o of s){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:r,options:i}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:r,options:i}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(E(this,Py,EP).call(this,t));if(!s)return;const{callback:r,options:{bubbles:i=!1,args:o=[],checker:a=null}}=s;a&&!a(e,t)||(r.bind(e,...o,t)(),i||at(t))}}Py=new WeakSet,EP=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Ny=class Ny{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return D4(e),pe(this,"_colors",e)}convert(e){const t=B1(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,r]of this._colors)if(r.every((i,o)=>i===t[o]))return Ny._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?te.makeHexColor(...t):e}};H(Ny,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let sx=Ny;var mu,Dn,pt,Rt,gu,ri,yu,hs,vo,wo,vu,Wa,br,Ls,Ga,mf,gf,wu,yf,Ar,xo,xu,bo,Sr,Ry,Ao,vf,So,qa,Xa,Eo,wf,bt,Ce,ii,Co,Ka,xf,bf,_o,Er,oi,Af,Sf,fs,V,ug,rx,CP,_P,dg,TP,kP,PP,ix,NP,ox,ax,RP,Zt,Jr,LP,MP,lx,IP,sh,cx;const Gc=class Gc{constructor(e,t,s,r,i,o,a,l,u,d,h,f,m,g,p){S(this,V);S(this,mu,new AbortController);S(this,Dn,null);S(this,pt,new Map);S(this,Rt,new Map);S(this,gu,null);S(this,ri,null);S(this,yu,null);S(this,hs,new F4);S(this,vo,null);S(this,wo,null);S(this,vu,0);S(this,Wa,new Set);S(this,br,null);S(this,Ls,null);S(this,Ga,new Set);H(this,"_editorUndoBar",null);S(this,mf,!1);S(this,gf,!1);S(this,wu,!1);S(this,yf,null);S(this,Ar,null);S(this,xo,null);S(this,xu,null);S(this,bo,!1);S(this,Sr,null);S(this,Ry,new j4);S(this,Ao,!1);S(this,vf,!1);S(this,So,null);S(this,qa,null);S(this,Xa,null);S(this,Eo,null);S(this,wf,null);S(this,bt,re.NONE);S(this,Ce,new Set);S(this,ii,null);S(this,Co,null);S(this,Ka,null);S(this,xf,null);S(this,bf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});S(this,_o,[0,0]);S(this,Er,null);S(this,oi,null);S(this,Af,null);S(this,Sf,null);S(this,fs,null);const x=this._signal=c(this,mu).signal;A(this,oi,e),A(this,Af,t),A(this,Sf,s),A(this,gu,r),A(this,Co,i),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:x}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),o._on("setpreference",this.onSetPreference.bind(this),{signal:x}),o._on("switchannotationeditorparams",v=>this.updateParams(v.type,v.value),{signal:x}),E(this,V,TP).call(this),E(this,V,RP).call(this),E(this,V,ix).call(this),A(this,ri,a.annotationStorage),A(this,yf,a.filterFactory),A(this,Ka,l),A(this,xu,u||null),A(this,mf,d),A(this,gf,h),A(this,wu,f),A(this,wf,m||null),this.viewParameters={realScale:ya.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=p!==!1}static get _keyboardManager(){const e=Gc.prototype,t=o=>c(o,oi).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),s=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return pe(this,"_keyboardManager",new Qp([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,oi).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,oi).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}destroy(){var e,t,s,r,i,o,a,l;(e=c(this,fs))==null||e.resolve(),A(this,fs,null),(t=c(this,mu))==null||t.abort(),A(this,mu,null),this._signal=null;for(const u of c(this,Rt).values())u.destroy();c(this,Rt).clear(),c(this,pt).clear(),c(this,Ga).clear(),(s=c(this,Eo))==null||s.clear(),A(this,Dn,null),c(this,Ce).clear(),c(this,hs).destroy(),(r=c(this,gu))==null||r.destroy(),(i=c(this,Co))==null||i.destroy(),(o=c(this,Sr))==null||o.hide(),A(this,Sr,null),(a=c(this,Xa))==null||a.destroy(),A(this,Xa,null),c(this,Ar)&&(clearTimeout(c(this,Ar)),A(this,Ar,null)),c(this,Er)&&(clearTimeout(c(this,Er)),A(this,Er,null)),(l=this._editorUndoBar)==null||l.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return c(this,wf)}get useNewAltTextFlow(){return c(this,gf)}get useNewAltTextWhenAddingImage(){return c(this,wu)}get hcmFilter(){return pe(this,"hcmFilter",c(this,Ka)?c(this,yf).addHCMFilter(c(this,Ka).foreground,c(this,Ka).background):"none")}get direction(){return pe(this,"direction",getComputedStyle(c(this,oi)).direction)}get highlightColors(){return pe(this,"highlightColors",c(this,xu)?new Map(c(this,xu).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return pe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),A(this,wo,e)}setMainHighlightColorPicker(e){A(this,Xa,e)}editAltText(e,t=!1){var s;(s=c(this,gu))==null||s.editAltText(this,e,t)}getSignature(e){var t;(t=c(this,Co))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return c(this,Co)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":A(this,wu,t);break}}onPageChanging({pageNumber:e}){A(this,vu,e-1)}focusMainContainer(){c(this,oi).focus()}findParent(e,t){for(const s of c(this,Rt).values()){const{x:r,y:i,width:o,height:a}=s.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=i&&t<=i+a)return s}return null}disableUserSelect(e=!1){c(this,Af).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,Ga).add(e)}removeShouldRescale(e){c(this,Ga).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*ya.PDF_TO_CSS_UNITS;for(const s of c(this,Ga))s.onScaleChanging();(t=c(this,wo))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:i,focusOffset:o}=t,a=t.toString(),u=E(this,V,ug).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;t.empty();const h=E(this,V,rx).call(this,u),f=c(this,bt)===re.NONE,m=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:s,anchorOffset:r,focusNode:i,focusOffset:o,text:a}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(re.HIGHLIGHT,m);return}m()}addToAnnotationStorage(e){!e.isEmpty()&&c(this,ri)&&!c(this,ri).has(e.id)&&c(this,ri).setValue(e.id,e)}a11yAlert(e,t=null){const s=c(this,Sf);s&&(s.setAttribute("data-l10n-id",e),t?s.setAttribute("data-l10n-args",JSON.stringify(t)):s.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,c(this,bo)&&(A(this,bo,!1),E(this,V,dg).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,Ce))if(t.div.contains(e)){A(this,qa,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,qa))return;const[e,t]=c(this,qa);A(this,qa,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){E(this,V,ix).call(this),E(this,V,ox).call(this)}removeEditListeners(){E(this,V,NP).call(this),E(this,V,ax).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of c(this,Ls))if(s.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const s of c(this,Ls))if(s.isHandlingMimeForPasting(t.type)){s.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var s;if(e.preventDefault(),(s=c(this,Dn))==null||s.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of c(this,Ce)){const i=r.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const o of c(this,Ls))if(o.isHandlingMimeForPasting(i.type)){o.paste(i,this.currentLayer);return}let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(i){ie(`paste: "${i.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const i=[];for(const l of s){const u=await r.deserialize(l);if(!u)return;i.push(u)}const o=()=>{for(const l of i)E(this,V,lx).call(this,l);E(this,V,cx).call(this,i)},a=()=>{for(const l of i)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(i){ie(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,bt)!==re.NONE&&!this.isEditorHandlingKeyboard&&Gc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,bo)&&(A(this,bo,!1),E(this,V,dg).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(E(this,V,kP).call(this),E(this,V,ox).call(this),E(this,V,Zt).call(this,{isEditing:c(this,bt)!==re.NONE,isEmpty:E(this,V,sh).call(this),hasSomethingToUndo:c(this,hs).hasSomethingToUndo(),hasSomethingToRedo:c(this,hs).hasSomethingToRedo(),hasSelectedEditor:!1})):(E(this,V,PP).call(this),E(this,V,ax).call(this),E(this,V,Zt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,Ls)){A(this,Ls,e);for(const t of c(this,Ls))E(this,V,Jr).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,Ry).id}get currentLayer(){return c(this,Rt).get(c(this,vu))}getLayer(e){return c(this,Rt).get(e)}get currentPageIndex(){return c(this,vu)}addLayer(e){c(this,Rt).set(e.pageIndex,e),c(this,Ao)?e.enable():e.disable()}removeLayer(e){c(this,Rt).delete(e.pageIndex)}async updateMode(e,t=null,s=!1,r=!1){var i,o,a;if(c(this,bt)!==e&&!(c(this,fs)&&(await c(this,fs).promise,!c(this,fs)))){if(A(this,fs,Promise.withResolvers()),(i=c(this,wo))==null||i.commitOrRemove(),A(this,bt,e),e===re.NONE){this.setEditingState(!1),E(this,V,MP).call(this),(o=this._editorUndoBar)==null||o.hide(),c(this,fs).resolve();return}e===re.SIGNATURE&&await((a=c(this,Co))==null?void 0:a.loadSignatures()),this.setEditingState(!0),await E(this,V,LP).call(this),this.unselectAll();for(const l of c(this,Rt).values())l.updateMode(e);if(!t){s&&this.addNewEditorFromKeyboard(),c(this,fs).resolve();return}for(const l of c(this,pt).values())l.annotationElementId===t||l.id===t?(this.setSelected(l),r&&l.enterInEditMode()):l.unselect();c(this,fs).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==c(this,bt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){var s;if(c(this,Ls)){switch(e){case me.CREATE:this.currentLayer.addNewEditor(t);return;case me.HIGHLIGHT_DEFAULT_COLOR:(s=c(this,Xa))==null||s.updateColor(t);break;case me.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,xf)||A(this,xf,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of c(this,Ce))r.updateParams(e,t);for(const r of c(this,Ls))r.updateDefaultParams(e,t)}}showAllEditors(e,t,s=!1){var i;for(const o of c(this,pt).values())o.editorType===e&&o.show(t);(((i=c(this,xf))==null?void 0:i.get(me.HIGHLIGHT_SHOW_ALL))??!0)!==t&&E(this,V,Jr).call(this,[[me.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,vf)!==e){A(this,vf,e);for(const t of c(this,Rt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const s of c(this,pt).values())s.pageIndex===e&&t.push(s);return t}getEditor(e){return c(this,pt).get(e)}addEditor(e){c(this,pt).set(e.id,e)}removeEditor(e){var t,s;e.div.contains(document.activeElement)&&(c(this,Ar)&&clearTimeout(c(this,Ar)),A(this,Ar,setTimeout(()=>{this.focusMainContainer(),A(this,Ar,null)},0))),c(this,pt).delete(e.id),e.annotationElementId&&((t=c(this,Eo))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!c(this,Wa).has(e.annotationElementId))&&((s=c(this,ri))==null||s.remove(e.id))}addDeletedAnnotationElement(e){c(this,Wa).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,Wa).has(e)}removeDeletedAnnotationElement(e){c(this,Wa).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,Dn)!==e&&(A(this,Dn,e),e&&E(this,V,Jr).call(this,e.propertiesToUpdate))}updateUI(e){c(this,V,IP)===e&&E(this,V,Jr).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){E(this,V,Jr).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(c(this,Ce).has(e)){c(this,Ce).delete(e),e.unselect(),E(this,V,Zt).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Ce).add(e),e.select(),E(this,V,Jr).call(this,e.propertiesToUpdate),E(this,V,Zt).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=c(this,wo))==null||t.commitOrRemove();for(const s of c(this,Ce))s!==e&&s.unselect();c(this,Ce).clear(),c(this,Ce).add(e),e.select(),E(this,V,Jr).call(this,e.propertiesToUpdate),E(this,V,Zt).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,Ce).has(e)}get firstSelectedEditor(){return c(this,Ce).values().next().value}unselect(e){e.unselect(),c(this,Ce).delete(e),E(this,V,Zt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Ce).size!==0}get isEnterHandled(){return c(this,Ce).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;c(this,hs).undo(),E(this,V,Zt).call(this,{hasSomethingToUndo:c(this,hs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:E(this,V,sh).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){c(this,hs).redo(),E(this,V,Zt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,hs).hasSomethingToRedo(),isEmpty:E(this,V,sh).call(this)})}addCommands(e){c(this,hs).add(e),E(this,V,Zt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:E(this,V,sh).call(this)})}cleanUndoStack(e){c(this,hs).cleanType(e)}delete(){var i;this.commitOrRemove();const e=(i=this.currentLayer)==null?void 0:i.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...c(this,Ce)],s=()=>{var o;(o=this._editorUndoBar)==null||o.show(r,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},r=()=>{for(const o of t)E(this,V,lx).call(this,o)};this.addCommands({cmd:s,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=c(this,Dn))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,Dn)||this.hasSelection}selectAll(){for(const e of c(this,Ce))e.commit();E(this,V,cx).call(this,c(this,pt).values())}unselectAll(){var e;if(!(c(this,Dn)&&(c(this,Dn).commitOrRemove(),c(this,bt)!==re.NONE))&&!((e=c(this,wo))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of c(this,Ce))t.unselect();c(this,Ce).clear(),E(this,V,Zt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;c(this,_o)[0]+=e,c(this,_o)[1]+=t;const[r,i]=c(this,_o),o=[...c(this,Ce)],a=1e3;c(this,Er)&&clearTimeout(c(this,Er)),A(this,Er,setTimeout(()=>{A(this,Er,null),c(this,_o)[0]=c(this,_o)[1]=0,this.addCommands({cmd:()=>{for(const l of o)c(this,pt).has(l.id)&&(l.translateInPage(r,i),l.translationDone())},undo:()=>{for(const l of o)c(this,pt).has(l.id)&&(l.translateInPage(-r,-i),l.translationDone())},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),A(this,br,new Map);for(const e of c(this,Ce))c(this,br).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,br))return!1;this.disableUserSelect(!1);const e=c(this,br);A(this,br,null);let t=!1;for(const[{x:r,y:i,pageIndex:o},a]of e)a.newX=r,a.newY=i,a.newPageIndex=o,t||(t=r!==a.savedX||i!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const s=(r,i,o,a)=>{if(c(this,pt).has(r.id)){const l=c(this,Rt).get(a);l?r._setParentAndPosition(l,i,o):(r.pageIndex=a,r.x=i,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:i,newY:o,newPageIndex:a}]of e)s(r,i,o,a)},undo:()=>{for(const[r,{savedX:i,savedY:o,savedPageIndex:a}]of e)s(r,i,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,br))for(const s of c(this,br).keys())s.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,Ce).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,Dn)===e}getActive(){return c(this,Dn)}getMode(){return c(this,bt)}get imageManager(){return pe(this,"imageManager",new nx)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:s,y:r,width:i,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,d,h,f)=>({x:(d-r)/o,y:1-(u+h-s)/i,width:f/o,height:h/i});break;case"180":a=(u,d,h,f)=>({x:1-(u+h-s)/i,y:1-(d+f-r)/o,width:h/i,height:f/o});break;case"270":a=(u,d,h,f)=>({x:1-(d+f-r)/o,y:(u-s)/i,width:f/o,height:h/i});break;default:a=(u,d,h,f)=>({x:(u-s)/i,y:(d-r)/o,width:h/i,height:f/o});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:m,width:g,height:p}of h.getClientRects())g===0||p===0||l.push(a(f,m,g,p))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,yu)||A(this,yu,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,yu))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=c(this,yu))==null?void 0:r.get(e.data.id);if(!t)return;const s=c(this,ri).getRawValue(t);s&&(c(this,bt)===re.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}setMissingCanvas(e,t,s){var i;const r=(i=c(this,Eo))==null?void 0:i.get(e);r&&(r.setCanvas(t,s),c(this,Eo).delete(e))}addMissingCanvas(e,t){(c(this,Eo)||A(this,Eo,new Map)).set(e,t)}};mu=new WeakMap,Dn=new WeakMap,pt=new WeakMap,Rt=new WeakMap,gu=new WeakMap,ri=new WeakMap,yu=new WeakMap,hs=new WeakMap,vo=new WeakMap,wo=new WeakMap,vu=new WeakMap,Wa=new WeakMap,br=new WeakMap,Ls=new WeakMap,Ga=new WeakMap,mf=new WeakMap,gf=new WeakMap,wu=new WeakMap,yf=new WeakMap,Ar=new WeakMap,xo=new WeakMap,xu=new WeakMap,bo=new WeakMap,Sr=new WeakMap,Ry=new WeakMap,Ao=new WeakMap,vf=new WeakMap,So=new WeakMap,qa=new WeakMap,Xa=new WeakMap,Eo=new WeakMap,wf=new WeakMap,bt=new WeakMap,Ce=new WeakMap,ii=new WeakMap,Co=new WeakMap,Ka=new WeakMap,xf=new WeakMap,bf=new WeakMap,_o=new WeakMap,Er=new WeakMap,oi=new WeakMap,Af=new WeakMap,Sf=new WeakMap,fs=new WeakMap,V=new WeakSet,ug=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},rx=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of c(this,Rt).values())if(s.hasTextLayer(e))return s;return null},CP=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=E(this,V,ug).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(c(this,Sr)||A(this,Sr,new O4(this)),c(this,Sr).show(s,r,this.direction==="ltr"))},_P=function(){var i,o,a;const e=document.getSelection();if(!e||e.isCollapsed){c(this,ii)&&((i=c(this,Sr))==null||i.hide(),A(this,ii,null),E(this,V,Zt).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,ii))return;const r=E(this,V,ug).call(this,e).closest(".textLayer");if(!r){c(this,ii)&&((o=c(this,Sr))==null||o.hide(),A(this,ii,null),E(this,V,Zt).call(this,{hasSelectedText:!1}));return}if((a=c(this,Sr))==null||a.hide(),A(this,ii,t),E(this,V,Zt).call(this,{hasSelectedText:!0}),!(c(this,bt)!==re.HIGHLIGHT&&c(this,bt)!==re.NONE)&&(c(this,bt)===re.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),A(this,bo,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=c(this,bt)===re.HIGHLIGHT?E(this,V,rx).call(this,r):null;l==null||l.toggleDrawing();const u=new AbortController,d=this.combinedSignal(u),h=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&E(this,V,dg).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}},dg=function(e=""){c(this,bt)===re.HIGHLIGHT?this.highlightSelection(e):c(this,mf)&&E(this,V,CP).call(this)},TP=function(){document.addEventListener("selectionchange",E(this,V,_P).bind(this),{signal:this._signal})},kP=function(){if(c(this,xo))return;A(this,xo,new AbortController);const e=this.combinedSignal(c(this,xo));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},PP=function(){var e;(e=c(this,xo))==null||e.abort(),A(this,xo,null)},ix=function(){if(c(this,So))return;A(this,So,new AbortController);const e=this.combinedSignal(c(this,So));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},NP=function(){var e;(e=c(this,So))==null||e.abort(),A(this,So,null)},ox=function(){if(c(this,vo))return;A(this,vo,new AbortController);const e=this.combinedSignal(c(this,vo));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},ax=function(){var e;(e=c(this,vo))==null||e.abort(),A(this,vo,null)},RP=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Zt=function(e){Object.entries(e).some(([s,r])=>c(this,bf)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,bf),e)}),c(this,bt)===re.HIGHLIGHT&&e.hasSelectedEditor===!1&&E(this,V,Jr).call(this,[[me.HIGHLIGHT_FREE,!0]]))},Jr=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},LP=async function(){if(!c(this,Ao)){A(this,Ao,!0);const e=[];for(const t of c(this,Rt).values())e.push(t.enable());await Promise.all(e);for(const t of c(this,pt).values())t.enable()}},MP=function(){if(this.unselectAll(),c(this,Ao)){A(this,Ao,!1);for(const e of c(this,Rt).values())e.disable();for(const e of c(this,pt).values())e.disable()}},lx=function(e){const t=c(this,Rt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},IP=function(){let e=null;for(e of c(this,Ce));return e},sh=function(){if(c(this,pt).size===0)return!0;if(c(this,pt).size===1)for(const e of c(this,pt).values())return e.isEmpty();return!1},cx=function(e){for(const t of c(this,Ce))t.unselect();c(this,Ce).clear();for(const t of e)t.isEmpty()||(c(this,Ce).add(t),t.select());E(this,V,Zt).call(this,{hasSelectedEditor:this.hasSelection})},H(Gc,"TRANSLATE_SMALL",1),H(Gc,"TRANSLATE_BIG",10);let cc=Gc;var At,Cr,Ms,bu,_r,On,Au,Tr,bn,ai,Ya,kr,To,Gs,rh,hg;const en=class en{constructor(e){S(this,Gs);S(this,At,null);S(this,Cr,!1);S(this,Ms,null);S(this,bu,null);S(this,_r,null);S(this,On,null);S(this,Au,!1);S(this,Tr,null);S(this,bn,null);S(this,ai,null);S(this,Ya,null);S(this,kr,!1);A(this,bn,e),A(this,kr,e._uiManager.useNewAltTextFlow),c(en,To)||A(en,To,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){en._l10n??(en._l10n=e)}async render(){const e=A(this,Ms,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=A(this,bu,document.createElement("span"));e.append(t),c(this,kr)?(e.classList.add("new"),e.setAttribute("data-l10n-id",c(en,To).missing),t.setAttribute("data-l10n-id",c(en,To)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=c(this,bn)._uiManager._signal;e.addEventListener("contextmenu",er,{signal:s}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:s});const r=i=>{i.preventDefault(),c(this,bn)._uiManager.editAltText(c(this,bn)),c(this,kr)&&c(this,bn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:c(this,Gs,rh)}})};return e.addEventListener("click",r,{capture:!0,signal:s}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(A(this,Au,!0),r(i))},{signal:s}),await E(this,Gs,hg).call(this),e}finish(){c(this,Ms)&&(c(this,Ms).focus({focusVisible:c(this,Au)}),A(this,Au,!1))}isEmpty(){return c(this,kr)?c(this,At)===null:!c(this,At)&&!c(this,Cr)}hasData(){return c(this,kr)?c(this,At)!==null||!!c(this,ai):this.isEmpty()}get guessedText(){return c(this,ai)}async setGuessedText(e){c(this,At)===null&&(A(this,ai,e),A(this,Ya,await en._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),E(this,Gs,hg).call(this))}toggleAltTextBadge(e=!1){var t;if(!c(this,kr)||c(this,At)){(t=c(this,Tr))==null||t.remove(),A(this,Tr,null);return}if(!c(this,Tr)){const s=A(this,Tr,document.createElement("div"));s.className="noAltTextBadge",c(this,bn).div.append(s)}c(this,Tr).classList.toggle("hidden",!e)}serialize(e){let t=c(this,At);return!e&&c(this,ai)===t&&(t=c(this,Ya)),{altText:t,decorative:c(this,Cr),guessedText:c(this,ai),textWithDisclaimer:c(this,Ya)}}get data(){return{altText:c(this,At),decorative:c(this,Cr)}}set data({altText:e,decorative:t,guessedText:s,textWithDisclaimer:r,cancel:i=!1}){s&&(A(this,ai,s),A(this,Ya,r)),!(c(this,At)===e&&c(this,Cr)===t)&&(i||(A(this,At,e),A(this,Cr,t)),E(this,Gs,hg).call(this))}toggle(e=!1){c(this,Ms)&&(!e&&c(this,On)&&(clearTimeout(c(this,On)),A(this,On,null)),c(this,Ms).disabled=!e)}shown(){c(this,bn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:c(this,Gs,rh)}})}destroy(){var e,t;(e=c(this,Ms))==null||e.remove(),A(this,Ms,null),A(this,bu,null),A(this,_r,null),(t=c(this,Tr))==null||t.remove(),A(this,Tr,null)}};At=new WeakMap,Cr=new WeakMap,Ms=new WeakMap,bu=new WeakMap,_r=new WeakMap,On=new WeakMap,Au=new WeakMap,Tr=new WeakMap,bn=new WeakMap,ai=new WeakMap,Ya=new WeakMap,kr=new WeakMap,To=new WeakMap,Gs=new WeakSet,rh=function(){return c(this,At)&&"added"||c(this,At)===null&&this.guessedText&&"review"||"missing"},hg=async function(){var r,i,o;const e=c(this,Ms);if(!e)return;if(c(this,kr)){if(e.classList.toggle("done",!!c(this,At)),e.setAttribute("data-l10n-id",c(en,To)[c(this,Gs,rh)]),(r=c(this,bu))==null||r.setAttribute("data-l10n-id",c(en,To)[`${c(this,Gs,rh)}-label`]),!c(this,At)){(i=c(this,_r))==null||i.remove();return}}else{if(!c(this,At)&&!c(this,Cr)){e.classList.remove("done"),(o=c(this,_r))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=c(this,_r);if(!t){A(this,_r,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${c(this,bn).id}`;const a=100,l=c(this,bn)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(c(this,On)),A(this,On,null)},{once:!0}),e.addEventListener("mouseenter",()=>{A(this,On,setTimeout(()=>{A(this,On,null),c(this,_r).classList.add("show"),c(this,bn)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;c(this,On)&&(clearTimeout(c(this,On)),A(this,On,null)),(u=c(this,_r))==null||u.classList.remove("show")},{signal:l})}c(this,Cr)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=c(this,At)),t.parentNode||e.append(t);const s=c(this,bn).getElementForAltText();s==null||s.setAttribute("aria-describedby",t.id)},S(en,To,null),H(en,"_l10n",null);let wy=en;var Su,Qa,Ef,Cf,_f,Tf,kf,li,Ja,ci,Za,ui,wa,DP,OP,jP;const q1=class q1{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:s=null,onPinchStart:r=null,onPinching:i=null,onPinchEnd:o=null,signal:a}){S(this,wa);S(this,Su);S(this,Qa,!1);S(this,Ef,null);S(this,Cf);S(this,_f);S(this,Tf);S(this,kf);S(this,li,null);S(this,Ja);S(this,ci,null);S(this,Za);S(this,ui,null);A(this,Su,e),A(this,Ef,s),A(this,Cf,t),A(this,_f,r),A(this,Tf,i),A(this,kf,o),A(this,Za,new AbortController),A(this,Ja,AbortSignal.any([a,c(this,Za).signal])),e.addEventListener("touchstart",E(this,wa,DP).bind(this),{passive:!1,signal:c(this,Ja)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Wr.pixelRatio}destroy(){var e,t;(e=c(this,Za))==null||e.abort(),A(this,Za,null),(t=c(this,li))==null||t.abort(),A(this,li,null)}};Su=new WeakMap,Qa=new WeakMap,Ef=new WeakMap,Cf=new WeakMap,_f=new WeakMap,Tf=new WeakMap,kf=new WeakMap,li=new WeakMap,Ja=new WeakMap,ci=new WeakMap,Za=new WeakMap,ui=new WeakMap,wa=new WeakSet,DP=function(e){var r,i,o;if((r=c(this,Cf))!=null&&r.call(this))return;if(e.touches.length===1){if(c(this,li))return;const a=A(this,li,new AbortController),l=AbortSignal.any([c(this,Ja),a.signal]),u=c(this,Su),d={capture:!0,signal:l,passive:!1},h=f=>{var m;f.pointerType==="touch"&&((m=c(this,li))==null||m.abort(),A(this,li,null))};u.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(at(f),h(f))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!c(this,ui)){A(this,ui,new AbortController);const a=AbortSignal.any([c(this,Ja),c(this,ui).signal]),l=c(this,Su),u={signal:a,capture:!1,passive:!1};l.addEventListener("touchmove",E(this,wa,OP).bind(this),u);const d=E(this,wa,jP).bind(this);l.addEventListener("touchend",d,u),l.addEventListener("touchcancel",d,u),u.capture=!0,l.addEventListener("pointerdown",at,u),l.addEventListener("pointermove",at,u),l.addEventListener("pointercancel",at,u),l.addEventListener("pointerup",at,u),(i=c(this,_f))==null||i.call(this)}if(at(e),e.touches.length!==2||(o=c(this,Ef))!=null&&o.call(this)){A(this,ci,null);return}let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]),A(this,ci,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:s.screenX,touch1Y:s.screenY})},OP=function(e){var C;if(!c(this,ci)||e.touches.length!==2)return;at(e);let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]);const{screenX:r,screenY:i}=t,{screenX:o,screenY:a}=s,l=c(this,ci),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:f}=l,m=h-u,g=f-d,p=o-r,x=a-i,v=Math.hypot(p,x)||1,w=Math.hypot(m,g)||1;if(!c(this,Qa)&&Math.abs(w-v)<=q1.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=r,l.touch0Y=i,l.touch1X=o,l.touch1Y=a,!c(this,Qa)){A(this,Qa,!0);return}const b=[(r+o)/2,(i+a)/2];(C=c(this,Tf))==null||C.call(this,b,w,v)},jP=function(e){var t;e.touches.length>=2||(c(this,ui)&&(c(this,ui).abort(),A(this,ui,null),(t=c(this,kf))==null||t.call(this)),c(this,ci)&&(at(e),A(this,ci,null),A(this,Qa,!1)))};let xy=q1;var el,Is,$e,Eu,ko,Pf,tl,Lt,nl,di,Po,Nf,sl,jn,Rf,rl,hi,Pr,Cu,_u,ps,il,Lf,Ly,se,ux,Mf,dx,fg,FP,BP,hx,pg,fx,zP,$P,HP,px,UP,mx,VP,WP,GP,gx,ih;const ue=class ue{constructor(e){S(this,se);S(this,el,null);S(this,Is,null);S(this,$e,null);S(this,Eu,!1);S(this,ko,null);S(this,Pf,"");S(this,tl,!1);S(this,Lt,null);S(this,nl,null);S(this,di,null);S(this,Po,null);S(this,Nf,"");S(this,sl,!1);S(this,jn,null);S(this,Rf,!1);S(this,rl,!1);S(this,hi,!1);S(this,Pr,null);S(this,Cu,0);S(this,_u,0);S(this,ps,null);S(this,il,null);H(this,"isSelected",!1);H(this,"_isCopy",!1);H(this,"_editToolbar",null);H(this,"_initialOptions",Object.create(null));H(this,"_initialData",null);H(this,"_isVisible",!0);H(this,"_uiManager",null);H(this,"_focusEventsAllowed",!0);S(this,Lf,!1);S(this,Ly,ue._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:r,pageX:i,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[i,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ue.prototype._resizeWithKeyboard,t=cc.TRANSLATE_SMALL,s=cc.TRANSLATE_BIG;return pe(this,"_resizerKeyboardManager",new Qp([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],ue.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return pe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new B4({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ue._l10n??(ue._l10n=e),ue._l10nResizer||(ue._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ue._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);ue._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Pe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,Lf)}set _isDraggable(e){var t;A(this,Lf,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,Ly)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):E(this,se,ih).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,sl)?A(this,sl,!1):this.parent.setSelected(this))}focusout(e){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,r){const[i,o]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(e+s)/i,this.y=(t+r)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[s,r]=this.parentDimensions;this.setAt(e*s,t*r,this.width*s,this.height*r),this._onTranslated()}translate(e,t){E(this,se,ux).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,jn)||A(this,jn,[this.x,this.y,this.width,this.height]),E(this,se,ux).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){c(this,jn)||A(this,jn,[this.x,this.y,this.width,this.height]);const{div:s,parentDimensions:[r,i]}=this;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[l,u]=this.getBaseTranslation();o+=l,a+=u;const{style:d}=s;d.left=`${(100*o).toFixed(2)}%`,d.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),s.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!c(this,jn)&&(c(this,jn)[0]!==this.x||c(this,jn)[1]!==this.y)}get _hasBeenResized(){return!!c(this,jn)&&(c(this,jn)[2]!==this.width||c(this,jn)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=ue,r=s/e,i=s/t;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[s,r]}=this;let{x:i,y:o,width:a,height:l}=this;if(a*=s,l*=r,i*=s,o*=r,this._mustFixPosition)switch(e){case 0:i=an(i,0,s-a),o=an(o,0,r-l);break;case 90:i=an(i,0,s-l),o=an(o,a,r);break;case 180:i=an(i,a,s),o=an(o,l,r);break;case 270:i=an(i,l,s),o=an(o,0,r-a);break}this.x=i/=s,this.y=o/=r;const[u,d]=this.getBaseTranslation();i+=u,o+=d,t.left=`${(100*i).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var s;return E(s=ue,Mf,dx).call(s,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var s;return E(s=ue,Mf,dx).call(s,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(e,t){const[s,r]=this.parentDimensions,{style:i}=this.div;i.width=`${(100*e/s).toFixed(2)}%`,c(this,tl)||(i.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:s}=e,r=s.endsWith("%"),i=!c(this,tl)&&t.endsWith("%");if(r&&i)return;const[o,a]=this.parentDimensions;r||(e.width=`${(100*parseFloat(s)/o).toFixed(2)}%`),!c(this,tl)&&!i&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=c(this,$e))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||c(this,rl))return this._editToolbar;this._editToolbar=new tx(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,s]of e)await this._editToolbar.addButton(t,s);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=c(this,$e))==null||e.destroy())}addContainer(e){var s;const t=(s=this._editToolbar)==null?void 0:s.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return c(this,$e)||(wy.initialize(ue._l10n),A(this,$e,new wy(this)),c(this,el)&&(c(this,$e).data=c(this,el),A(this,el,null))),c(this,$e)}get altTextData(){var e;return(e=c(this,$e))==null?void 0:e.data}set altTextData(e){c(this,$e)&&(c(this,$e).data=e)}get guessedAltText(){var e;return(e=c(this,$e))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=c(this,$e))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=c(this,$e))==null?void 0:t.serialize(e)}hasAltText(){return!!c(this,$e)&&!c(this,$e).isEmpty()}hasAltTextData(){var e;return((e=c(this,$e))==null?void 0:e.hasData())??!1}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=c(this,Eu)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),E(this,se,mx).call(this);const[t,s]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*s/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/s).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),SP(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(c(this,il)||A(this,il,new xy({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:E(this,se,zP).bind(this),onPinching:E(this,se,$P).bind(this),onPinchEnd:E(this,se,HP).bind(this),signal:this._uiManager._signal}))),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=zt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(A(this,sl,!0),this._isDraggable){E(this,se,UP).call(this,e);return}E(this,se,px).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){c(this,Pr)&&clearTimeout(c(this,Pr)),A(this,Pr,setTimeout(()=>{var e;A(this,Pr,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,s=this.rotation){const r=this.parentScale,[i,o]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/r,d=t/r,h=this.x*i,f=this.y*o,m=this.width*i,g=this.height*o;switch(s){case 0:return[h+u+a,o-f-d-g+l,h+u+m+a,o-f-d+l];case 90:return[h+d+a,o-f+u+l,h+d+g+a,o-f+u+m+l];case 180:return[h-u-m+a,o-f+d+l,h-u+a,o-f+d+g+l];case 270:return[h-d-g+a,o-f-u-m+l,h-d+a,o-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,r,i,o]=e,a=i-s,l=o-r;switch(this.rotation){case 0:return[s,t-o,a,l];case 90:return[s,t-r,l,a];case 180:return[i,t-r,a,l];case 270:return[i,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),A(this,rl,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),A(this,rl,!1),!0):!1}isInEditMode(){return c(this,rl)}shouldGetKeyboardEvents(){return c(this,hi)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:s,right:r}=this.getClientDimensions(),{innerHeight:i,innerWidth:o}=window;return t<o&&r>0&&e<i&&s>0}rebuild(){E(this,se,mx).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Pe("An editor must be serializable")}static async deserialize(e,t,s){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s,annotationElementId:e.annotationElementId});r.rotation=e.rotation,A(r,el,e.accessibilityData),r._isCopy=e.isCopy||!1;const[i,o]=r.pageDimensions,[a,l,u,d]=r.getRectInCurrentCoords(e.rect,o);return r.x=a/i,r.y=l/o,r.width=u/i,r.height=d/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=c(this,Po))==null||e.abort(),A(this,Po,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,Pr)&&(clearTimeout(c(this,Pr)),A(this,Pr,null)),E(this,se,ih).call(this),this.removeEditToolbar(),c(this,ps)){for(const s of c(this,ps).values())clearTimeout(s);A(this,ps,null)}this.parent=null,(t=c(this,il))==null||t.destroy(),A(this,il,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(E(this,se,FP).call(this),c(this,Lt).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),A(this,di,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,Lt).children;if(!c(this,Is)){A(this,Is,Array.from(t));const o=E(this,se,VP).bind(this),a=E(this,se,WP).bind(this),l=this._uiManager._signal;for(const u of c(this,Is)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:l}),u.addEventListener("blur",a,{signal:l}),u.addEventListener("focus",E(this,se,GP).bind(this,d),{signal:l}),u.setAttribute("data-l10n-id",ue._l10nResizer[d])}}const s=c(this,Is)[0];let r=0;for(const o of t){if(o===s)break;r++}const i=(360-this.rotation+this.parentRotation)%360/90*(c(this,Is).length/4);if(i!==r){if(i<r)for(let a=0;a<r-i;a++)c(this,Lt).append(c(this,Lt).firstChild);else if(i>r)for(let a=0;a<i-r;a++)c(this,Lt).firstChild.before(c(this,Lt).lastChild);let o=0;for(const a of t){const u=c(this,Is)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",ue._l10nResizer[u])}}E(this,se,gx).call(this,0),A(this,hi,!0),c(this,Lt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,hi)&&E(this,se,fx).call(this,c(this,Nf),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){E(this,se,ih).call(this),this.div.focus()}select(){var e,t,s;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(t=this._editToolbar)==null||t.show(),(s=c(this,$e))==null||s.toggleAltTextBadge(!1)}}unselect(){var e,t,s,r,i;this.isSelected&&(this.isSelected=!1,(e=c(this,Lt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(i=c(this,$e))==null||i.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return c(this,Rf)}set isEditing(e){A(this,Rf,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){A(this,tl,!0);const s=e/t,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,ps)||A(this,ps,new Map);const{action:s}=e;let r=c(this,ps).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),c(this,ps).delete(s),c(this,ps).size===0&&A(this,ps,null)},ue._telemetryTimeout),c(this,ps).set(s,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),A(this,Eu,!1)}disable(){this.div&&(this.div.tabIndex=-1),A(this,Eu,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const s=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),s.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};el=new WeakMap,Is=new WeakMap,$e=new WeakMap,Eu=new WeakMap,ko=new WeakMap,Pf=new WeakMap,tl=new WeakMap,Lt=new WeakMap,nl=new WeakMap,di=new WeakMap,Po=new WeakMap,Nf=new WeakMap,sl=new WeakMap,jn=new WeakMap,Rf=new WeakMap,rl=new WeakMap,hi=new WeakMap,Pr=new WeakMap,Cu=new WeakMap,_u=new WeakMap,ps=new WeakMap,il=new WeakMap,Lf=new WeakMap,Ly=new WeakMap,se=new WeakSet,ux=function([e,t],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Mf=new WeakSet,dx=function(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},fg=function(e){switch(e){case 90:{const[t,s]=this.pageDimensions;return[0,-t/s,s/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,s]=this.pageDimensions;return[0,t/s,-s/t,0]}default:return[1,0,0,1]}},FP=function(){if(c(this,Lt))return;A(this,Lt,document.createElement("div")),c(this,Lt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const r=document.createElement("div");c(this,Lt).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",E(this,se,BP).bind(this,s),{signal:t}),r.addEventListener("contextmenu",er,{signal:t}),r.tabIndex=-1}this.div.prepend(c(this,Lt))},BP=function(e,t){var d;t.preventDefault();const{isMac:s}=zt.platform;if(t.button!==0||t.ctrlKey&&s)return;(d=c(this,$e))==null||d.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,A(this,nl,[t.screenX,t.screenY]);const i=new AbortController,o=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",E(this,se,fx).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",at,{passive:!1,signal:o}),window.addEventListener("contextmenu",er,{signal:o}),A(this,di,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;i.abort(),this.parent.togglePointerEvents(!0),(h=c(this,$e))==null||h.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=a,this.div.style.cursor=l,E(this,se,pg).call(this)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},hx=function(e,t,s,r){this.width=s,this.height=r,this.x=e,this.y=t;const[i,o]=this.parentDimensions;this.setDims(i*s,o*r),this.fixAndSetPosition(),this._onResized()},pg=function(){if(!c(this,di))return;const{savedX:e,savedY:t,savedWidth:s,savedHeight:r}=c(this,di);A(this,di,null);const i=this.x,o=this.y,a=this.width,l=this.height;i===e&&o===t&&a===s&&l===r||this.addCommands({cmd:E(this,se,hx).bind(this,i,o,a,l),undo:E(this,se,hx).bind(this,e,t,s,r),mustExec:!0})},fx=function(e,t){const[s,r]=this.parentDimensions,i=this.x,o=this.y,a=this.width,l=this.height,u=ue.MIN_SIZE/s,d=ue.MIN_SIZE/r,h=E(this,se,fg).call(this,this.rotation),f=(j,B)=>[h[0]*j+h[2]*B,h[1]*j+h[3]*B],m=E(this,se,fg).call(this,360-this.rotation),g=(j,B)=>[m[0]*j+m[2]*B,m[1]*j+m[3]*B];let p,x,v=!1,w=!1;switch(e){case"topLeft":v=!0,p=(j,B)=>[0,0],x=(j,B)=>[j,B];break;case"topMiddle":p=(j,B)=>[j/2,0],x=(j,B)=>[j/2,B];break;case"topRight":v=!0,p=(j,B)=>[j,0],x=(j,B)=>[0,B];break;case"middleRight":w=!0,p=(j,B)=>[j,B/2],x=(j,B)=>[0,B/2];break;case"bottomRight":v=!0,p=(j,B)=>[j,B],x=(j,B)=>[0,0];break;case"bottomMiddle":p=(j,B)=>[j/2,B],x=(j,B)=>[j/2,0];break;case"bottomLeft":v=!0,p=(j,B)=>[0,B],x=(j,B)=>[j,0];break;case"middleLeft":w=!0,p=(j,B)=>[0,B/2],x=(j,B)=>[j,B/2];break}const b=p(a,l),C=x(a,l);let _=f(...C);const k=ue._round(i+_[0]),P=ue._round(o+_[1]);let N=1,L=1,M,D;if(t.fromKeyboard)({deltaX:M,deltaY:D}=t);else{const{screenX:j,screenY:B}=t,[R,$]=c(this,nl);[M,D]=this.screenToPageTranslation(j-R,B-$),c(this,nl)[0]=j,c(this,nl)[1]=B}if([M,D]=g(M/s,D/r),v){const j=Math.hypot(a,l);N=L=Math.max(Math.min(Math.hypot(C[0]-b[0]-M,C[1]-b[1]-D)/j,1/a,1/l),u/a,d/l)}else w?N=an(Math.abs(C[0]-b[0]-M),u,1)/a:L=an(Math.abs(C[1]-b[1]-D),d,1)/l;const F=ue._round(a*N),G=ue._round(l*L);_=f(...x(F,G));const O=k-_[0],ne=P-_[1];c(this,jn)||A(this,jn,[this.x,this.y,this.width,this.height]),this.width=F,this.height=G,this.x=O,this.y=ne,this.setDims(s*F,r*G),this.fixAndSetPosition(),this._onResizing()},zP=function(){var e;A(this,di,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=c(this,$e))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},$P=function(e,t,s){let i=.7*(s/t)+1-.7;if(i===1)return;const o=E(this,se,fg).call(this,this.rotation),a=(k,P)=>[o[0]*k+o[2]*P,o[1]*k+o[3]*P],[l,u]=this.parentDimensions,d=this.x,h=this.y,f=this.width,m=this.height,g=ue.MIN_SIZE/l,p=ue.MIN_SIZE/u;i=Math.max(Math.min(i,1/f,1/m),g/f,p/m);const x=ue._round(f*i),v=ue._round(m*i);if(x===f&&v===m)return;c(this,jn)||A(this,jn,[d,h,f,m]);const w=a(f/2,m/2),b=ue._round(d+w[0]),C=ue._round(h+w[1]),_=a(x/2,v/2);this.x=b-_[0],this.y=C-_[1],this.width=x,this.height=v,this.setDims(l*x,u*v),this.fixAndSetPosition(),this._onResizing()},HP=function(){var e;(e=c(this,$e))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),E(this,se,pg).call(this)},px=function(e){const{isMac:t}=zt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},UP=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let s=!1;const r=new AbortController,i=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:i},a=u=>{r.abort(),A(this,ko,null),A(this,sl,!1),this._uiManager.endDragSession()||E(this,se,px).call(this,u),s&&this._onStopDragging()};t&&(A(this,Cu,e.clientX),A(this,_u,e.clientY),A(this,ko,e.pointerId),A(this,Pf,e.pointerType),window.addEventListener("pointermove",u=>{s||(s=!0,this._onStartDragging());const{clientX:d,clientY:h,pointerId:f}=u;if(f!==c(this,ko)){at(u);return}const[m,g]=this.screenToPageTranslation(d-c(this,Cu),h-c(this,_u));A(this,Cu,d),A(this,_u,h),this._uiManager.dragSelectedEditors(m,g)},o),window.addEventListener("touchmove",at,o),window.addEventListener("pointerdown",u=>{u.pointerType===c(this,Pf)&&(c(this,il)||u.isPrimary)&&a(u),at(u)},o));const l=u=>{if(!c(this,ko)||c(this,ko)===u.pointerId){a(u);return}at(u)};window.addEventListener("pointerup",l,{signal:i}),window.addEventListener("blur",l,{signal:i})},mx=function(){if(c(this,Po)||!this.div)return;A(this,Po,new AbortController);const e=this._uiManager.combinedSignal(c(this,Po));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},VP=function(e){ue._resizerKeyboardManager.exec(this,e)},WP=function(e){var t;c(this,hi)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,Lt)&&E(this,se,ih).call(this)},GP=function(e){A(this,Nf,c(this,hi)?e:"")},gx=function(e){if(c(this,Is))for(const t of c(this,Is))t.tabIndex=e},ih=function(){A(this,hi,!1),E(this,se,gx).call(this,-1),E(this,se,pg).call(this)},S(ue,Mf),H(ue,"_l10n",null),H(ue,"_l10nResizer",null),H(ue,"_borderLineWidth",-1),H(ue,"_colorManager",new sx),H(ue,"_zIndex",1),H(ue,"_telemetryTimeout",1e3);let De=ue;class B4 extends De{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const pE=3285377520,ls=4294901760,pr=65535;class qP{constructor(e){this.h1=e?e&4294967295:pE,this.h2=e?e&4294967295:pE}update(e){let t,s;if(typeof e=="string"){t=new Uint8Array(e.length*2),s=0;for(let p=0,x=e.length;p<x;p++){const v=e.charCodeAt(p);v<=255?t[s++]=v:(t[s++]=v>>>8,t[s++]=v&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),s=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,i=s-r*4,o=new Uint32Array(t.buffer,0,r);let a=0,l=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,m=h&pr,g=f&pr;for(let p=0;p<r;p++)p&1?(a=o[p],a=a*h&ls|a*m&pr,a=a<<15|a>>>17,a=a*f&ls|a*g&pr,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=o[p],l=l*h&ls|l*m&pr,l=l<<15|l>>>17,l=l*f&ls|l*g&pr,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(a=0,i){case 3:a^=t[r*4+2]<<16;case 2:a^=t[r*4+1]<<8;case 1:a^=t[r*4],a=a*h&ls|a*m&pr,a=a<<15|a>>>17,a=a*f&ls|a*g&pr,r&1?u^=a:d^=a}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ls|e*36045&pr,t=t*4283543511&ls|((t<<16|e>>>16)*2950163797&ls)>>>16,e^=t>>>1,e=e*444984403&ls|e*60499&pr,t=t*3301882366&ls|((t<<16|e>>>16)*3120437893&ls)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const yx=Object.freeze({map:null,hash:"",transfer:void 0});var ol,al,Mt,My,XP;class z1{constructor(){S(this,My);S(this,ol,!1);S(this,al,null);S(this,Mt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=c(this,Mt).get(e);return s===void 0?t:Object.assign(t,s)}getRawValue(e){return c(this,Mt).get(e)}remove(e){if(c(this,Mt).delete(e),c(this,Mt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,Mt).values())if(t instanceof De)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=c(this,Mt).get(e);let r=!1;if(s!==void 0)for(const[i,o]of Object.entries(t))s[i]!==o&&(r=!0,s[i]=o);else r=!0,c(this,Mt).set(e,t);r&&E(this,My,XP).call(this),t instanceof De&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,Mt).has(e)}get size(){return c(this,Mt).size}resetModified(){c(this,ol)&&(A(this,ol,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new KP(this)}get serializable(){if(c(this,Mt).size===0)return yx;const e=new Map,t=new qP,s=[],r=Object.create(null);let i=!1;for(const[o,a]of c(this,Mt)){const l=a instanceof De?a.serialize(!1,r):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),i||(i=!!l.bitmap))}if(i)for(const o of e.values())o.bitmap&&s.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:yx}get editorStats(){let e=null;const t=new Map;for(const s of c(this,Mt).values()){if(!(s instanceof De))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:i}=r;t.has(i)||t.set(i,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const o=e[i]||(e[i]=new Map);for(const[a,l]of Object.entries(r)){if(a==="type")continue;let u=o.get(a);u||(u=new Map,o.set(a,u));const d=u.get(l)??0;u.set(l,d+1)}}for(const[s,r]of t)e[s]=r.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){A(this,al,null)}get modifiedIds(){if(c(this,al))return c(this,al);const e=[];for(const t of c(this,Mt).values())!(t instanceof De)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return A(this,al,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return c(this,Mt).entries()}}ol=new WeakMap,al=new WeakMap,Mt=new WeakMap,My=new WeakSet,XP=function(){c(this,ol)||(A(this,ol,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var If;class KP extends z1{constructor(t){super();S(this,If);const{map:s,hash:r,transfer:i}=t.serializable,o=structuredClone(s,i?{transfer:i}:null);A(this,If,{map:o,hash:r,transfer:i})}get print(){Pe("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,If)}get modifiedIds(){return pe(this,"modifiedIds",{ids:new Set,hash:""})}}If=new WeakMap;var Tu;class z4{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){S(this,Tu,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,Tu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:s}){if(!(!e||c(this,Tu).has(e.loadedName))){if(ct(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:o}=e,a=new FontFace(r,i,o);this.addNativeFontFace(a);try{await a.load(),c(this,Tu).add(r),s==null||s(e)}catch{ie(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Pe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw ie(`Failed to load font '${s.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return pe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return pe(this,"isSyncFontLoadingSupported",on||zt.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(ct(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const i=s.shift();setTimeout(i.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:t,callback:e};return s.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return pe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(C,_){return C.charCodeAt(_)<<24|C.charCodeAt(_+1)<<16|C.charCodeAt(_+2)<<8|C.charCodeAt(_+3)&255}function r(C,_,k,P){const N=C.substring(0,_),L=C.substring(_+k);return N+P+L}let i,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function d(C,_){if(++u>30){ie("Load test font never loaded."),_();return}if(l.font="30px "+C,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){_();return}setTimeout(d.bind(null,C,_))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=r(f,976,h.length,h);const g=16,p=1482184792;let x=s(f,g);for(i=0,o=h.length-3;i<o;i+=4)x=x-p+s(h,i)|0;i<h.length&&(x=x-p+s(h+"XXX",i)|0),f=r(f,g,4,E4(x));const v=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${h}";src:${v}}`;this.insertRule(w);const b=this._document.createElement("div");b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px";for(const C of[e.loadedName,h]){const _=this._document.createElement("span");_.textContent="Hi",_.style.fontFamily=C,b.append(_)}this._document.body.append(b),d(h,()=>{b.remove(),t.complete()})}}Tu=new WeakMap;class $4{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${gP(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(s=this._inspectFont)==null||s.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const s=this.loadedName+"_path_"+t;let r;try{r=e.get(s)}catch(o){ie(`getPathGenerator - ignoring character: "${o}".`)}const i=new Path2D(r||"");return this.fontExtraProperties||e.delete(s),this.compiledGlyphs[t]=i}}function H4(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(on)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function U4(n){if(on&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Xp(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Im(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const vx=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,V4=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",W4=P4.bind(null,vx,V4);var fi,Iy;class G4{constructor(){S(this,fi,new Map);S(this,Iy,Promise.resolve())}postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};c(this,Iy).then(()=>{for(const[r]of c(this,fi))r.call(this,s)})}addEventListener(e,t,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:i}=s;if(i.aborted){ie("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);r=()=>i.removeEventListener("abort",o),i.addEventListener("abort",o)}c(this,fi).set(t,r)}removeEventListener(e,t){const s=c(this,fi).get(t);s==null||s(),c(this,fi).delete(t)}terminate(){for(const[,e]of c(this,fi))e==null||e();c(this,fi).clear()}}fi=new WeakMap,Iy=new WeakMap;const Dm={DATA:1,ERROR:2},it={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function mE(){}function wn(n){if(n instanceof ga||n instanceof Jw||n instanceof dE||n instanceof vy||n instanceof T0)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Pe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ga(n.message);case"InvalidPDFException":return new Jw(n.message);case"PasswordException":return new dE(n.message,n.code);case"ResponseException":return new vy(n.message,n.status,n.missing);case"UnknownErrorException":return new T0(n.message,n.details)}return new T0(n.message,n.toString())}var ku,Es,YP,QP,JP,mg;class oh{constructor(e,t,s){S(this,Es);S(this,ku,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",E(this,Es,YP).bind(this),{signal:c(this,ku).signal})}on(e,t){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},s)}catch(o){i.reject(o)}return i.promise}sendWithStream(e,t,s,r){const i=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[i]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:i,data:t,desiredSize:u.desiredSize},r),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[i].pullCall=d,l.postMessage({sourceName:o,targetName:a,stream:it.PULL,streamId:i,desiredSize:u.desiredSize}),d.promise},cancel:u=>{ct(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[i].cancelCall=d,this.streamControllers[i].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:it.CANCEL,streamId:i,reason:wn(u)}),d.promise}},s)}destroy(){var e;(e=c(this,ku))==null||e.abort(),A(this,ku,null)}}ku=new WeakMap,Es=new WeakSet,YP=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){E(this,Es,JP).call(this,e);return}if(e.callback){const s=e.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===Dm.DATA)r.resolve(e.data);else if(e.callback===Dm.ERROR)r.reject(wn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,r=e.sourceName,i=this.comObj;Promise.try(t,e.data).then(function(o){i.postMessage({sourceName:s,targetName:r,callback:Dm.DATA,callbackId:e.callbackId,data:o})},function(o){i.postMessage({sourceName:s,targetName:r,callback:Dm.ERROR,callbackId:e.callbackId,reason:wn(o)})});return}if(e.streamId){E(this,Es,QP).call(this,e);return}t(e.data)},QP=function(e){const t=e.streamId,s=this.sourceName,r=e.sourceName,i=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:s,targetName:r,stream:it.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:s,targetName:r,stream:it.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){ct(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:s,targetName:r,stream:it.ERROR,streamId:t,reason:wn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(a,e.data,l).then(function(){i.postMessage({sourceName:s,targetName:r,stream:it.START_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:s,targetName:r,stream:it.START_COMPLETE,streamId:t,reason:wn(u)})})},JP=function(e){const t=e.streamId,s=this.sourceName,r=e.sourceName,i=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case it.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(wn(e.reason));break;case it.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(wn(e.reason));break;case it.PULL:if(!a){i.postMessage({sourceName:s,targetName:r,stream:it.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||mE).then(function(){i.postMessage({sourceName:s,targetName:r,stream:it.PULL_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:s,targetName:r,stream:it.PULL_COMPLETE,streamId:t,reason:wn(u)})});break;case it.ENQUEUE:if(ct(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case it.CLOSE:if(ct(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),E(this,Es,mg).call(this,o,t);break;case it.ERROR:ct(o,"error should have stream controller"),o.controller.error(wn(e.reason)),E(this,Es,mg).call(this,o,t);break;case it.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(wn(e.reason)),E(this,Es,mg).call(this,o,t);break;case it.CANCEL:if(!a)break;const l=wn(e.reason);Promise.try(a.onCancel||mE,l).then(function(){i.postMessage({sourceName:s,targetName:r,stream:it.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:s,targetName:r,stream:it.CANCEL_COMPLETE,streamId:t,reason:wn(u)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},mg=async function(e,t){var s,r,i;await Promise.allSettled([(s=e.startCall)==null?void 0:s.promise,(r=e.pullCall)==null?void 0:r.promise,(i=e.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[t]};var Df;class ZP{constructor({enableHWA:e=!1}){S(this,Df,!1);A(this,Df,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!c(this,Df)})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Pe("Abstract method `_createCanvas` called.")}}Df=new WeakMap;class q4 extends ZP{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class e2{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Pe("Abstract method `_fetch` called.")}}class gE extends e2{async _fetch(e){const t=await Kp(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Xp(t)}}class t2{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,r,i){return"none"}destroy(e=!1){}}var ll,Pu,pi,mi,Xt,cl,ul,X,Wt,ah,_c,gg,Tc,n2,wx,kc,lh,ch,xx,uh;class X4 extends t2{constructor({docId:t,ownerDocument:s=globalThis.document}){super();S(this,X);S(this,ll);S(this,Pu);S(this,pi);S(this,mi);S(this,Xt);S(this,cl);S(this,ul,0);A(this,mi,t),A(this,Xt,s)}addFilter(t){if(!t)return"none";let s=c(this,X,Wt).get(t);if(s)return s;const[r,i,o]=E(this,X,gg).call(this,t),a=t.length===1?r:`${r}${i}${o}`;if(s=c(this,X,Wt).get(a),s)return c(this,X,Wt).set(t,s),s;const l=`g_${c(this,mi)}_transfer_map_${xt(this,ul)._++}`,u=E(this,X,Tc).call(this,l);c(this,X,Wt).set(t,u),c(this,X,Wt).set(a,u);const d=E(this,X,kc).call(this,l);return E(this,X,ch).call(this,r,i,o,d),u}addHCMFilter(t,s){var g;const r=`${t}-${s}`,i="base";let o=c(this,X,ah).get(i);if((o==null?void 0:o.key)===r||(o?((g=o.filter)==null||g.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},c(this,X,ah).set(i,o)),!t||!s))return o.url;const a=E(this,X,uh).call(this,t);t=te.makeHexColor(...a);const l=E(this,X,uh).call(this,s);if(s=te.makeHexColor(...l),c(this,X,_c).style.color="",t==="#000000"&&s==="#ffffff"||t===s)return o.url;const u=new Array(256);for(let p=0;p<=255;p++){const x=p/255;u[p]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const d=u.join(","),h=`g_${c(this,mi)}_hcm_filter`,f=o.filter=E(this,X,kc).call(this,h);E(this,X,ch).call(this,d,d,d,f),E(this,X,wx).call(this,f);const m=(p,x)=>{const v=a[p]/255,w=l[p]/255,b=new Array(x+1);for(let C=0;C<=x;C++)b[C]=v+C/x*(w-v);return b.join(",")};return E(this,X,ch).call(this,m(0,5),m(1,5),m(2,5),f),o.url=E(this,X,Tc).call(this,h),o.url}addAlphaFilter(t){let s=c(this,X,Wt).get(t);if(s)return s;const[r]=E(this,X,gg).call(this,[t]),i=`alpha_${r}`;if(s=c(this,X,Wt).get(i),s)return c(this,X,Wt).set(t,s),s;const o=`g_${c(this,mi)}_alpha_map_${xt(this,ul)._++}`,a=E(this,X,Tc).call(this,o);c(this,X,Wt).set(t,a),c(this,X,Wt).set(i,a);const l=E(this,X,kc).call(this,o);return E(this,X,xx).call(this,r,l),a}addLuminosityFilter(t){let s=c(this,X,Wt).get(t||"luminosity");if(s)return s;let r,i;if(t?([r]=E(this,X,gg).call(this,[t]),i=`luminosity_${r}`):i="luminosity",s=c(this,X,Wt).get(i),s)return c(this,X,Wt).set(t,s),s;const o=`g_${c(this,mi)}_luminosity_map_${xt(this,ul)._++}`,a=E(this,X,Tc).call(this,o);c(this,X,Wt).set(t,a),c(this,X,Wt).set(i,a);const l=E(this,X,kc).call(this,o);return E(this,X,n2).call(this,l),t&&E(this,X,xx).call(this,r,l),a}addHighlightHCMFilter(t,s,r,i,o){var w;const a=`${s}-${r}-${i}-${o}`;let l=c(this,X,ah).get(t);if((l==null?void 0:l.key)===a||(l?((w=l.filter)==null||w.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},c(this,X,ah).set(t,l)),!s||!r))return l.url;const[u,d]=[s,r].map(E(this,X,uh).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[m,g]=[i,o].map(E(this,X,uh).bind(this));f<h&&([h,f,m,g]=[f,h,g,m]),c(this,X,_c).style.color="";const p=(b,C,_)=>{const k=new Array(256),P=(f-h)/_,N=b/255,L=(C-b)/(255*_);let M=0;for(let D=0;D<=_;D++){const F=Math.round(h+D*P),G=N+D*L;for(let O=M;O<=F;O++)k[O]=G;M=F+1}for(let D=M;D<256;D++)k[D]=k[M-1];return k.join(",")},x=`g_${c(this,mi)}_hcm_${t}_filter`,v=l.filter=E(this,X,kc).call(this,x);return E(this,X,wx).call(this,v),E(this,X,ch).call(this,p(m[0],g[0],5),p(m[1],g[1],5),p(m[2],g[2],5),v),l.url=E(this,X,Tc).call(this,x),l.url}destroy(t=!1){var s,r,i,o;t&&((s=c(this,cl))!=null&&s.size)||((r=c(this,pi))==null||r.parentNode.parentNode.remove(),A(this,pi,null),(i=c(this,Pu))==null||i.clear(),A(this,Pu,null),(o=c(this,cl))==null||o.clear(),A(this,cl,null),A(this,ul,0))}}ll=new WeakMap,Pu=new WeakMap,pi=new WeakMap,mi=new WeakMap,Xt=new WeakMap,cl=new WeakMap,ul=new WeakMap,X=new WeakSet,Wt=function(){return c(this,Pu)||A(this,Pu,new Map)},ah=function(){return c(this,cl)||A(this,cl,new Map)},_c=function(){if(!c(this,pi)){const t=c(this,Xt).createElement("div"),{style:s}=t;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=c(this,Xt).createElementNS(Qr,"svg");r.setAttribute("width",0),r.setAttribute("height",0),A(this,pi,c(this,Xt).createElementNS(Qr,"defs")),t.append(r),r.append(c(this,pi)),c(this,Xt).body.append(t)}return c(this,pi)},gg=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[s,r,i]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)o[u]=s[u]/255,a[u]=r[u]/255,l[u]=i[u]/255;return[o.join(","),a.join(","),l.join(",")]},Tc=function(t){if(c(this,ll)===void 0){A(this,ll,"");const s=c(this,Xt).URL;s!==c(this,Xt).baseURI&&(Pv(s)?ie('#createUrl: ignore "data:"-URL for performance reasons.'):A(this,ll,fP(s,"")))}return`url(${c(this,ll)}#${t})`},n2=function(t){const s=c(this,Xt).createElementNS(Qr,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(s)},wx=function(t){const s=c(this,Xt).createElementNS(Qr,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(s)},kc=function(t){const s=c(this,Xt).createElementNS(Qr,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",t),c(this,X,_c).append(s),s},lh=function(t,s,r){const i=c(this,Xt).createElementNS(Qr,s);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),t.append(i)},ch=function(t,s,r,i){const o=c(this,Xt).createElementNS(Qr,"feComponentTransfer");i.append(o),E(this,X,lh).call(this,o,"feFuncR",t),E(this,X,lh).call(this,o,"feFuncG",s),E(this,X,lh).call(this,o,"feFuncB",r)},xx=function(t,s){const r=c(this,Xt).createElementNS(Qr,"feComponentTransfer");s.append(r),E(this,X,lh).call(this,r,"feFuncA",t)},uh=function(t){return c(this,X,_c).style.color=t,B1(getComputedStyle(c(this,X,_c)).getPropertyValue("color"))};class s2{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Pe("Abstract method `_fetch` called.")}}class yE extends s2{async _fetch(e){const t=await Kp(e,"arraybuffer");return new Uint8Array(t)}}class r2{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Pe("Abstract method `_fetch` called.")}}class vE extends r2{async _fetch(e){const t=await Kp(e,"arraybuffer");return new Uint8Array(t)}}on&&ie("Please use the `legacy` build in Node.js environments.");async function $1(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class K4 extends t2{}class Y4 extends ZP{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class Q4 extends e2{async _fetch(e){return $1(e)}}class J4 extends s2{async _fetch(e){return $1(e)}}class Z4 extends r2{async _fetch(e){return $1(e)}}const jt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function bx(n,e){if(!e)return;const t=e[2]-e[0],s=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,s),n.clip(r)}class H1{isModifyingCurrentTransform(){return!1}getPattern(){Pe("Abstract method `getPattern` called.")}}class e5 extends H1{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,r){let i;if(r===jt.STROKE||r===jt.FILL){const o=t.current.getClippedPathBoundingBox(r,Ge(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,l),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),s=te.transform(s,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),bx(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),i=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(s);i.setTransform(h)}else bx(e,this._bbox),i=this._createGradient(e);return i}}function N0(n,e,t,s,r,i,o,a){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let f;l[t+1]>l[s+1]&&(f=t,t=s,s=f,f=i,i=o,o=f),l[s+1]>l[r+1]&&(f=s,s=r,r=f,f=o,o=a,a=f),l[t+1]>l[s+1]&&(f=t,t=s,s=f,f=i,i=o,o=f);const m=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,p=(l[s]+e.offsetX)*e.scaleX,x=(l[s+1]+e.offsetY)*e.scaleY,v=(l[r]+e.offsetX)*e.scaleX,w=(l[r+1]+e.offsetY)*e.scaleY;if(g>=w)return;const b=u[i],C=u[i+1],_=u[i+2],k=u[o],P=u[o+1],N=u[o+2],L=u[a],M=u[a+1],D=u[a+2],F=Math.round(g),G=Math.round(w);let O,ne,j,B,R,$,Y,W;for(let q=F;q<=G;q++){if(q<x){const ge=q<g?0:(g-q)/(g-x);O=m-(m-p)*ge,ne=b-(b-k)*ge,j=C-(C-P)*ge,B=_-(_-N)*ge}else{let ge;q>w?ge=1:x===w?ge=0:ge=(x-q)/(x-w),O=p-(p-v)*ge,ne=k-(k-L)*ge,j=P-(P-M)*ge,B=N-(N-D)*ge}let ee;q<g?ee=0:q>w?ee=1:ee=(g-q)/(g-w),R=m-(m-v)*ee,$=b-(b-L)*ee,Y=C-(C-M)*ee,W=_-(_-D)*ee;const Se=Math.round(Math.min(O,R)),Ye=Math.round(Math.max(O,R));let de=h*q+Se*4;for(let ge=Se;ge<=Ye;ge++)ee=(O-ge)/(O-R),ee<0?ee=0:ee>1&&(ee=1),d[de++]=ne-(ne-$)*ee|0,d[de++]=j-(j-Y)*ee|0,d[de++]=B-(B-W)*ee|0,d[de++]=255}}function t5(n,e,t){const s=e.coords,r=e.colors;let i,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(s.length/a)-1,u=a-1;for(i=0;i<l;i++){let d=i*a;for(let h=0;h<u;h++,d++)N0(n,t,s[d],s[d+1],s[d+a],r[d],r[d+1],r[d+a]),N0(n,t,s[d+a+1],s[d+1],s[d+a],r[d+a+1],r[d+1],r[d+a])}break;case"triangles":for(i=0,o=s.length;i<o;i+=3)N0(n,t,s[i],s[i+1],s[i+2],r[i],r[i+1],r[i+2]);break;default:throw new Error("illegal figure")}}class n5 extends H1{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,s){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),m=u/h,g=d/f,p={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/m,scaleY:1/g},x=h+2*2,v=f+2*2,w=s.getCanvas("mesh",x,v),b=w.context,C=b.createImageData(h,f);if(t){const k=C.data;for(let P=0,N=k.length;P<N;P+=4)k[P]=t[0],k[P+1]=t[1],k[P+2]=t[2],k[P+3]=255}for(const k of this._figures)t5(C,k,p);return b.putImageData(C,2,2),{canvas:w.canvas,offsetX:a-2*m,offsetY:l-2*g,scaleX:m,scaleY:g}}isModifyingCurrentTransform(){return!0}getPattern(e,t,s,r){bx(e,this._bbox);const i=new Float32Array(2);if(r===jt.SHADING)te.singularValueDecompose2dScale(Ge(e),i);else if(this.matrix){te.singularValueDecompose2dScale(this.matrix,i);const[a,l]=i;te.singularValueDecompose2dScale(t.baseTransform,i),i[0]*=a,i[1]*=l}else te.singularValueDecompose2dScale(t.baseTransform,i);const o=this._createMeshCanvas(i,r===jt.SHADING?null:this._background,t.cachedCanvases);return r!==jt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class s5 extends H1{getPattern(){return"hotpink"}}function r5(n){switch(n[0]){case"RadialAxial":return new e5(n);case"Mesh":return new n5(n);case"Dummy":return new s5}throw new Error(`Unknown IR type: ${n[0]}`)}const wE={COLORED:1,UNCOLORED:2},Dy=class Dy{constructor(e,t,s,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=s,this.baseTransform=r}createPatternCanvas(e){const{bbox:t,operatorList:s,paintType:r,tilingType:i,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:u}=this;l=Math.abs(l),u=Math.abs(u),kv("TilingType: "+i);const d=t[0],h=t[1],f=t[2],m=t[3],g=f-d,p=m-h,x=new Float32Array(2);te.singularValueDecompose2dScale(this.matrix,x);const[v,w]=x;te.singularValueDecompose2dScale(this.baseTransform,x);const b=v*x[0],C=w*x[1];let _=g,k=p,P=!1,N=!1;const L=Math.ceil(l*b),M=Math.ceil(u*C),D=Math.ceil(g*b),F=Math.ceil(p*C);L>=D?_=l:P=!0,M>=F?k=u:N=!0;const G=this.getSizeAndScale(_,this.ctx.canvas.width,b),O=this.getSizeAndScale(k,this.ctx.canvas.height,C),ne=e.cachedCanvases.getCanvas("pattern",G.size,O.size),j=ne.context,B=a.createCanvasGraphics(j);if(B.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(B,r,o),j.translate(-G.scale*d,-O.scale*h),B.transform(G.scale,0,0,O.scale,0,0),j.save(),this.clipBbox(B,d,h,f,m),B.baseTransform=Ge(B.ctx),B.executeOperatorList(s),B.endDrawing(),j.restore(),P||N){const R=ne.canvas;P&&(_=l),N&&(k=u);const $=this.getSizeAndScale(_,this.ctx.canvas.width,b),Y=this.getSizeAndScale(k,this.ctx.canvas.height,C),W=$.size,q=Y.size,ee=e.cachedCanvases.getCanvas("pattern-workaround",W,q),Se=ee.context,Ye=P?Math.floor(g/l):0,de=N?Math.floor(p/u):0;for(let ge=0;ge<=Ye;ge++)for(let yn=0;yn<=de;yn++)Se.drawImage(R,W*ge,q*yn,W,q,0,0,W,q);return{canvas:ee.canvas,scaleX:$.scale,scaleY:Y.scale,offsetX:d,offsetY:h}}return{canvas:ne.canvas,scaleX:G.scale,scaleY:O.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,t,s){const r=Math.max(Dy.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*s);return i>=r?i=r:s=i/e,{scale:s,size:i}}clipBbox(e,t,s,r,i){const o=r-t,a=i-s;e.ctx.rect(t,s,o,a),te.axialAlignedBoundingBox([t,s,r,i],Ge(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const r=e.ctx,i=e.current;switch(t){case wE.COLORED:const{fillStyle:o,strokeStyle:a}=this.ctx;r.fillStyle=i.fillColor=o,r.strokeStyle=i.strokeColor=a;break;case wE.UNCOLORED:r.fillStyle=r.strokeStyle=s,i.fillColor=i.strokeColor=s;break;default:throw new S4(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,s,r){let i=s;r!==jt.SHADING&&(i=te.transform(i,t.baseTransform),this.matrix&&(i=te.transform(i,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(i);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};H(Dy,"MAX_PATTERN_SIZE",3e3);let Ax=Dy;function i5({src:n,srcPos:e=0,dest:t,width:s,height:r,nonBlackColor:i=4294967295,inverseDecode:o=!1}){const a=zt.isLittleEndian?4278190080:255,[l,u]=o?[i,a]:[a,i],d=s>>3,h=s&7,f=n.length;t=new Uint32Array(t.buffer);let m=0;for(let g=0;g<r;g++){for(const x=e+d;e<x;e++){const v=e<f?n[e]:255;t[m++]=v&128?u:l,t[m++]=v&64?u:l,t[m++]=v&32?u:l,t[m++]=v&16?u:l,t[m++]=v&8?u:l,t[m++]=v&4?u:l,t[m++]=v&2?u:l,t[m++]=v&1?u:l}if(h===0)continue;const p=e<f?n[e++]:255;for(let x=0;x<h;x++)t[m++]=p&1<<7-x?u:l}return{srcPos:e,destPos:m}}const xE=16,bE=100,o5=15,AE=10,En=16,R0=new DOMMatrix,Jn=new Float32Array(2),Wc=new Float32Array([1/0,1/0,-1/0,-1/0]);function a5(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,s){e.translate(t,s),this.__originalTranslate(t,s)},n.scale=function(t,s){e.scale(t,s),this.__originalScale(t,s)},n.transform=function(t,s,r,i,o,a){e.transform(t,s,r,i,o,a),this.__originalTransform(t,s,r,i,o,a)},n.setTransform=function(t,s,r,i,o,a){e.setTransform(t,s,r,i,o,a),this.__originalSetTransform(t,s,r,i,o,a)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,s){e.moveTo(t,s),this.__originalMoveTo(t,s)},n.lineTo=function(t,s){e.lineTo(t,s),this.__originalLineTo(t,s)},n.bezierCurveTo=function(t,s,r,i,o,a){e.bezierCurveTo(t,s,r,i,o,a),this.__originalBezierCurveTo(t,s,r,i,o,a)},n.rect=function(t,s,r,i){e.rect(t,s,r,i),this.__originalRect(t,s,r,i)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class l5{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,s)):(r=this.canvasFactory.create(t,s),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Om(n,e,t,s,r,i,o,a,l,u){const[d,h,f,m,g,p]=Ge(n);if(h===0&&f===0){const w=o*d+g,b=Math.round(w),C=a*m+p,_=Math.round(C),k=(o+l)*d+g,P=Math.abs(Math.round(k)-b)||1,N=(a+u)*m+p,L=Math.abs(Math.round(N)-_)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(m),b,_),n.drawImage(e,t,s,r,i,0,0,P,L),n.setTransform(d,h,f,m,g,p),[P,L]}if(d===0&&m===0){const w=a*f+g,b=Math.round(w),C=o*h+p,_=Math.round(C),k=(a+u)*f+g,P=Math.abs(Math.round(k)-b)||1,N=(o+l)*h+p,L=Math.abs(Math.round(N)-_)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,b,_),n.drawImage(e,t,s,r,i,0,0,L,P),n.setTransform(d,h,f,m,g,p),[L,P]}n.drawImage(e,t,s,r,i,o,a,l,u);const x=Math.hypot(d,h),v=Math.hypot(f,m);return[x*l,v*u]}class SE{constructor(e,t){H(this,"alphaIsShape",!1);H(this,"fontSize",0);H(this,"fontSizeScale",1);H(this,"textMatrix",null);H(this,"textMatrixScale",1);H(this,"fontMatrix",Qw);H(this,"leading",0);H(this,"x",0);H(this,"y",0);H(this,"lineX",0);H(this,"lineY",0);H(this,"charSpacing",0);H(this,"wordSpacing",0);H(this,"textHScale",1);H(this,"textRenderingMode",Vt.FILL);H(this,"textRise",0);H(this,"fillColor","#000000");H(this,"strokeColor","#000000");H(this,"patternFill",!1);H(this,"patternStroke",!1);H(this,"fillAlpha",1);H(this,"strokeAlpha",1);H(this,"lineWidth",1);H(this,"activeSMask",null);H(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Wc.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=jt.FILL,t=null){const s=this.minMax.slice();if(e===jt.STROKE){t||Pe("Stroke bounding box must include transform."),te.singularValueDecompose2dScale(t,Jn);const r=Jn[0]*this.lineWidth/2,i=Jn[1]*this.lineWidth/2;s[0]-=r,s[1]-=i,s[2]+=r,s[3]+=i}return s}updateClipFromPath(){const e=te.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Wc,0)}getClippedPathBoundingBox(e=jt.FILL,t=null){return te.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function EE(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,s=e.width,r=t%En,i=(t-r)/En,o=r===0?i:i+1,a=n.createImageData(s,En);let l=0,u;const d=e.data,h=a.data;let f,m,g,p;if(e.kind===og.GRAYSCALE_1BPP){const x=d.byteLength,v=new Uint32Array(h.buffer,0,h.byteLength>>2),w=v.length,b=s+7>>3,C=4294967295,_=zt.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(g=f<i?En:r,u=0,m=0;m<g;m++){const k=x-l;let P=0;const N=k>b?s:k*8-7,L=N&-8;let M=0,D=0;for(;P<L;P+=8)D=d[l++],v[u++]=D&128?C:_,v[u++]=D&64?C:_,v[u++]=D&32?C:_,v[u++]=D&16?C:_,v[u++]=D&8?C:_,v[u++]=D&4?C:_,v[u++]=D&2?C:_,v[u++]=D&1?C:_;for(;P<N;P++)M===0&&(D=d[l++],M=128),v[u++]=D&M?C:_,M>>=1}for(;u<w;)v[u++]=0;n.putImageData(a,0,f*En)}}else if(e.kind===og.RGBA_32BPP){for(m=0,p=s*En*4,f=0;f<i;f++)h.set(d.subarray(l,l+p)),l+=p,n.putImageData(a,0,m),m+=En;f<o&&(p=s*r*4,h.set(d.subarray(l,l+p)),n.putImageData(a,0,m))}else if(e.kind===og.RGB_24BPP)for(g=En,p=s*g,f=0;f<o;f++){for(f>=i&&(g=r,p=s*g),u=0,m=p;m--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(a,0,f*En)}else throw new Error(`bad image kind: ${e.kind}`)}function CE(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,s=e.width,r=t%En,i=(t-r)/En,o=r===0?i:i+1,a=n.createImageData(s,En);let l=0;const u=e.data,d=a.data;for(let h=0;h<o;h++){const f=h<i?En:r;({srcPos:l}=i5({src:u,srcPos:l,dest:d,width:s,height:f,nonBlackColor:0})),n.putImageData(a,0,h*En)}}function qd(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of t)n[s]!==void 0&&(e[s]=n[s]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function jm(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function _E(n,e){if(e)return!0;te.singularValueDecompose2dScale(n,Jn);const t=Math.fround(Wr.pixelRatio*ya.PDF_TO_CSS_UNITS);return Jn[0]<=t&&Jn[1]<=t}const c5=["butt","round","square"],u5=["miter","round","bevel"],d5={},TE={};var tr,Sx,Ex,Cx;const X1=class X1{constructor(e,t,s,r,i,{optionalContentConfig:o,markedContentStack:a=null},l,u){S(this,tr);this.ctx=e,this.current=new SE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new l5(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:s=!1,background:r=null}){const i=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,i,o),this.ctx.fillStyle=a,s){const l=this.cachedCanvases.getCanvas("transparent",i,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ge(this.compositeCtx))}this.ctx.save(),jm(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ge(this.ctx)}executeOperatorList(e,t,s,r){const i=e.argsArray,o=e.fnArray;let a=t||0;const l=i.length;if(l===a)return a;const u=l-a>AE&&typeof s=="function",d=u?Date.now()+o5:0;let h=0;const f=this.commonObjs,m=this.objs;let g;for(;;){if(r!==void 0&&a===r.nextBreakPoint)return r.breakIt(a,s),a;if(g=o[a],g!==yy.dependency)this[g].apply(this,i[a]);else for(const p of i[a]){const x=p.startsWith("g_")?f:m;if(!x.has(p))return x.get(p,s),a}if(a++,a===l)return a;if(u&&++h>AE){if(Date.now()>d)return s(),a;h=0}}}endDrawing(){E(this,tr,Sx).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),E(this,tr,Ex).call(this)}_scaleImage(e,t){const s=e.width??e.displayWidth,r=e.height??e.displayHeight;let i=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=s,l=r,u="prescale1",d,h;for(;i>2&&a>1||o>2&&l>1;){let f=a,m=l;i>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),i/=a/f),o>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/m),d=this.cachedCanvases.getCanvas(u,f,m),h=d.context,h.clearRect(0,0,f,m),h.drawImage(e,0,0,a,l,0,0,f,m),e=d.canvas,a=f,l=m,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:s,height:r}=e,i=this.current.fillColor,o=this.current.patternFill,a=Ge(t);let l,u,d,h;if((e.bitmap||e.data)&&e.count>1){const L=e.bitmap||e.data.buffer;u=JSON.stringify(o?a:[a.slice(0,4),i]),l=this._cachedBitmapsMap.get(L),l||(l=new Map,this._cachedBitmapsMap.set(L,l));const M=l.get(u);if(M&&!o){const D=Math.round(Math.min(a[0],a[2])+a[4]),F=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:M,offsetX:D,offsetY:F}}d=M}d||(h=this.cachedCanvases.getCanvas("maskCanvas",s,r),CE(h.context,e));let f=te.transform(a,[1/s,0,0,-1/r,0,0]);f=te.transform(f,[1,0,0,1,0,-r]);const m=Wc.slice();te.axialAlignedBoundingBox([0,0,s,r],f,m);const[g,p,x,v]=m,w=Math.round(x-g)||1,b=Math.round(v-p)||1,C=this.cachedCanvases.getCanvas("fillCanvas",w,b),_=C.context,k=g,P=p;_.translate(-k,-P),_.transform(...f),d||(d=this._scaleImage(h.canvas,fr(_)),d=d.img,l&&o&&l.set(u,d)),_.imageSmoothingEnabled=_E(Ge(_),e.interpolate),Om(_,d,0,0,d.width,d.height,0,0,s,r),_.globalCompositeOperation="source-in";const N=te.transform(fr(_),[1,0,0,1,-k,-P]);return _.fillStyle=o?i.getPattern(t,this,N,jt.FILL):i,_.fillRect(0,0,s,r),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,C.canvas)),{canvas:C.canvas,offsetX:Math.round(k),offsetY:Math.round(P)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=c5[e]}setLineJoin(e){this.ctx.lineJoin=u5[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,s]of e)switch(t){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,e,t);this.suspendedCtx=this.ctx;const i=this.ctx=r.context;i.setTransform(this.suspendedCtx.getTransform()),qd(this.suspendedCtx,i),a5(i,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),qd(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,r){const i=r[0],o=r[1],a=r[2]-i,l=r[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,s,a,l,t.subtype,t.backdrop,t.transferMap,i,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,r,i,o,a,l,u,d,h){let f=e.canvas,m=l-d,g=u-h;if(o)if(m<0||g<0||m+s>f.width||g+r>f.height){const x=this.cachedCanvases.getCanvas("maskExtension",s,r),v=x.context;v.drawImage(f,-m,-g),v.globalCompositeOperation="destination-atop",v.fillStyle=o,v.fillRect(0,0,s,r),v.globalCompositeOperation="source-over",f=x.canvas,m=g=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(m,g,s,r),e.clip(x),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(m,g,s,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),i==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):i==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const p=new Path2D;p.rect(l,u,s,r),t.clip(p),t.globalCompositeOperation="destination-in",t.drawImage(f,m,g,s,r,l,u,s,r),t.restore()}save(){this.inSMaskMode&&qd(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&qd(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,s,r,i,o){this.ctx.transform(e,t,s,r,i,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s){let[r]=t;if(!s){r||(r=t[0]=new Path2D),this[e](r);return}if(!(r instanceof Path2D)){const i=t[0]=new Path2D;for(let o=0,a=r.length;o<a;)switch(r[o++]){case Mm.moveTo:i.moveTo(r[o++],r[o++]);break;case Mm.lineTo:i.lineTo(r[o++],r[o++]);break;case Mm.curveTo:i.bezierCurveTo(r[o++],r[o++],r[o++],r[o++],r[o++],r[o++]);break;case Mm.closePath:i.closePath();break;default:ie(`Unrecognized drawing path operator: ${r[o-1]}`);break}r=i}te.axialAlignedBoundingBox(s,Ge(this.ctx),this.current.minMax),this[e](r)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const s=this.ctx,r=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&(r!=null&&r.getPattern)){const i=r.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=r.getPattern(s,this,fr(s),jt.STROKE),i){const o=new Path2D;o.addPath(e,s.getTransform().invertSelf().multiplySelf(i)),e=o}this.rescaleAndStroke(e,!1),s.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(jt.STROKE,Ge(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const s=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let o=!1;if(i){const l=r.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.fillStyle=r.getPattern(s,this,fr(s),jt.FILL),l){const u=new Path2D;u.addPath(e,s.getTransform().invertSelf().multiplySelf(l)),e=u}o=!0}const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(s.fill(e,"evenodd"),this.pendingEOFill=!1):s.fill(e)),o&&s.restore(),t&&this.consumePath(e,a)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=d5}eoClip(){this.pendingClip=TE}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const s=new Path2D,r=t.getTransform().invertSelf();for(const{transform:i,x:o,y:a,fontSize:l,path:u}of e)s.addPath(u,new DOMMatrix(i).preMultiplySelf(r).translate(o,a).scale(l,-l));t.clip(s),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const s=this.commonObjs.get(e),r=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=s.fontMatrix||Qw,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&ie("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=t,s.isType3Font)return;const i=s.loadedName||"sans-serif",o=((d=s.systemFontInfo)==null?void 0:d.css)||`"${i}", ${s.fallbackName}`;let a="normal";s.black?a="900":s.bold&&(a="bold");const l=s.italic?"italic":"normal";let u=t;t<xE?u=xE:t>bE&&(u=bE),this.current.fontSizeScale=t/u,this.ctx.font=`${l} ${a} ${u}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,s,r,i){const o=this.ctx,a=this.current,l=a.font,u=a.textRenderingMode,d=a.fontSize/a.fontSizeScale,h=u&Vt.FILL_STROKE_MASK,f=!!(u&Vt.ADD_TO_PATH_FLAG),m=a.patternFill&&!l.missingFile,g=a.patternStroke&&!l.missingFile;let p;if((l.disableFontFace||f||m||g)&&(p=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||m||g){o.save(),o.translate(t,s),o.scale(d,-d);let x;if((h===Vt.FILL||h===Vt.FILL_STROKE)&&(r?(x=o.getTransform(),o.setTransform(...r),o.fill(E(this,tr,Cx).call(this,p,x,r))):o.fill(p)),h===Vt.STROKE||h===Vt.FILL_STROKE)if(i){x||(x=o.getTransform()),o.setTransform(...i);const{a:v,b:w,c:b,d:C}=x,_=te.inverseTransform(i),k=te.transform([v,w,b,C,0,0],_);te.singularValueDecompose2dScale(k,Jn),o.lineWidth*=Math.max(Jn[0],Jn[1])/d,o.stroke(E(this,tr,Cx).call(this,p,x,i))}else o.lineWidth/=d,o.stroke(p);o.restore()}else(h===Vt.FILL||h===Vt.FILL_STROKE)&&o.fillText(e,t,s),(h===Vt.STROKE||h===Vt.FILL_STROKE)&&o.strokeText(e,t,s);f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ge(o),x:t,y:s,fontSize:d,path:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){s=!0;break}return pe(this,"isFontSubpixelAAEnabled",s)}showText(e){const t=this.current,s=t.font;if(s.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const i=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,h=e.length,f=s.vertical,m=f?1:-1,g=s.defaultVMetrics,p=r*t.fontMatrix[0],x=t.textRenderingMode===Vt.FILL&&!s.disableFontFace&&!t.patternFill;i.save(),t.textMatrix&&i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),u>0?i.scale(d,-1):i.scale(d,1);let v,w;if(t.patternFill){i.save();const P=t.fillColor.getPattern(i,this,fr(i),jt.FILL);v=Ge(i),i.restore(),i.fillStyle=P}if(t.patternStroke){i.save();const P=t.strokeColor.getPattern(i,this,fr(i),jt.STROKE);w=Ge(i),i.restore(),i.strokeStyle=P}let b=t.lineWidth;const C=t.textMatrixScale;if(C===0||b===0){const P=t.textRenderingMode&Vt.FILL_STROKE_MASK;(P===Vt.STROKE||P===Vt.FILL_STROKE)&&(b=this.getSinglePixelWidth())}else b/=C;if(o!==1&&(i.scale(o,o),b/=o),i.lineWidth=b,s.isInvalidPDFjsFont){const P=[];let N=0;for(const L of e)P.push(L.unicode),N+=L.width;i.fillText(P.join(""),0,0),t.x+=N*p*d,i.restore(),this.compose();return}let _=0,k;for(k=0;k<h;++k){const P=e[k];if(typeof P=="number"){_+=m*P*r/1e3;continue}let N=!1;const L=(P.isSpace?l:0)+a,M=P.fontChar,D=P.accent;let F,G,O=P.width;if(f){const j=P.vmetric||g,B=-(P.vmetric?j[1]:O*.5)*p,R=j[2]*p;O=j?-j[0]:O,F=B/o,G=(_+R)/o}else F=_/o,G=0;if(s.remeasure&&O>0){const j=i.measureText(M).width*1e3/r*o;if(O<j&&this.isFontSubpixelAAEnabled){const B=O/j;N=!0,i.save(),i.scale(B,1),F/=B}else O!==j&&(F+=(O-j)/2e3*r/o)}if(this.contentVisible&&(P.isInFont||s.missingFile)){if(x&&!D)i.fillText(M,F,G);else if(this.paintChar(M,F,G,v,w),D){const j=F+r*D.offset.x/o,B=G-r*D.offset.y/o;this.paintChar(D.fontChar,j,B,v,w)}}const ne=f?O*p-L*u:O*p+L*u;_+=ne,N&&i.restore()}f?t.y-=_:t.x+=_*d,i.restore(),this.compose()}showType3Text(e){const t=this.ctx,s=this.current,r=s.font,i=s.fontSize,o=s.fontDirection,a=r.vertical?1:-1,l=s.charSpacing,u=s.wordSpacing,d=s.textHScale*o,h=s.fontMatrix||Qw,f=e.length,m=s.textRenderingMode===Vt.INVISIBLE;let g,p,x,v;if(!(m||i===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),s.textMatrix&&t.transform(...s.textMatrix),t.translate(s.x,s.y+s.textRise),t.scale(d,o),g=0;g<f;++g){if(p=e[g],typeof p=="number"){v=a*p*i/1e3,this.ctx.translate(v,0),s.x+=v*d;continue}const w=(p.isSpace?u:0)+l,b=r.charProcOperatorList[p.operatorListId];b?this.contentVisible&&(this.save(),t.scale(i,i),t.transform(...h),this.executeOperatorList(b),this.restore()):ie(`Type3 character "${p.operatorListId}" is not available.`);const C=[p.width,0];te.applyTransform(C,h),x=C[0]*i+w,t.translate(x,0),s.x+=x*d}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,s,r,i,o){const a=new Path2D;a.rect(s,r,i-s,o-r),this.ctx.clip(a),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const s=this.baseTransform||Ge(this.ctx),r={createCanvasGraphics:i=>new X1(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Ax(e,this.ctx,r,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=r5(this.getObject(e)),this.cachedPatterns.set(e,s)),t&&(s.matrix=t),s}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const s=this._getPattern(e);t.fillStyle=s.getPattern(t,this,fr(t),jt.SHADING);const r=fr(t);if(r){const{width:i,height:o}=t.canvas,a=Wc.slice();te.axialAlignedBoundingBox([0,0,i,o],r,a);const[l,u,d,h]=a;this.ctx.fillRect(l,u,d-l,h-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Pe("Should not call beginInlineImage")}beginImageData(){Pe("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ge(this.ctx),t)){te.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[s,r,i,o]=t,a=new Path2D;a.rect(s,r,i-s,o-r),this.ctx.clip(a),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||kv("TODO: Support non-isolated groups."),e.knockout&&ie("Knockout groups not supported.");const s=Ge(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=Wc.slice();te.axialAlignedBoundingBox(e.bbox,Ge(t),r);const i=[0,0,t.canvas.width,t.canvas.height];r=te.intersect(r,i)||[0,0,0,0];const o=Math.floor(r[0]),a=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-o,1),u=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,l,u),f=h.context;f.translate(-o,-a),f.transform(...s);let m=new Path2D;const[g,p,x,v]=e.bbox;if(m.rect(g,p,x-g,v-p),e.matrix){const w=new Path2D;w.addPath(m,new DOMMatrix(e.matrix)),m=w}f.clip(m),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),qd(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Ge(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const i=Wc.slice();te.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r,i),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,t,s,r,i){if(E(this,tr,Sx).call(this),jm(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(i&&this.annotationCanvasMap){s=s.slice(),s[4]-=t[0],s[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a,te.singularValueDecompose2dScale(Ge(this.ctx),Jn);const{viewportScale:l}=this,u=Math.ceil(o*this.outputScaleX*l),d=Math.ceil(a*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(u,d);const{canvas:h,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(Jn[0],0,0,-Jn[1],0,a*Jn[1]),jm(this.ctx)}else{jm(this.ctx),this.endPath();const l=new Path2D;l.rect(t[0],t[1],o,a),this.ctx.clip(l)}}this.current=new SE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),E(this,tr,Ex).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const s=this.ctx,r=this._createMaskCanvas(e),i=r.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(i,r.offsetX,r.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s=0,r=0,i,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Ge(a);a.transform(t,s,r,i,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let d=0,h=o.length;d<h;d+=2){const f=te.transform(l,[t,s,r,i,o[d],o[d+1]]);a.drawImage(u.canvas,f[4],f[5])}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const i of e){const{data:o,width:a,height:l,transform:u}=i,d=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=d.context;h.save();const f=this.getObject(o,i);CE(h,f),h.globalCompositeOperation="source-in",h.fillStyle=r?s.getPattern(h,this,fr(t),jt.FILL):s,h.fillRect(0,0,a,l),h.restore(),t.save(),t.transform(...u),t.scale(1,-1),Om(t,d.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ie("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,s,r){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){ie("Dependent image isn't ready yet");return}const o=i.width,a=i.height,l=[];for(let u=0,d=r.length;u<d;u+=2)l.push({transform:[t,0,0,s,r[u],r[u+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(i,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:s,height:r}=e,i=this.cachedCanvases.getCanvas("inlineImage",s,r),o=i.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,s=e.height,r=this.ctx;this.save();const{filter:i}=r;i!=="none"&&i!==""&&(r.filter="none"),r.scale(1/t,-1/s);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const u=this.cachedCanvases.getCanvas("inlineImage",t,s).context;EE(u,e),o=this.applyTransferMapsToCanvas(u)}const a=this._scaleImage(o,fr(r));r.imageSmoothingEnabled=_E(Ge(r),e.interpolate),Om(r,a.img,0,0,a.paintWidth,a.paintHeight,0,-s,t,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const s=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const i=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",i,o).context;EE(l,e),r=this.applyTransferMapsToCanvas(l)}for(const i of t)s.save(),s.transform(...i.transform),s.scale(1,-1),Om(s,r,i.x,i.y,i.w,i.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const r=this.ctx;this.pendingClip&&(s||(this.pendingClip===TE?r.clip(e,"evenodd"):r.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ge(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:s,c:r,d:i}=this.ctx.getTransform();let o,a;if(s===0&&r===0){const l=Math.abs(t),u=Math.abs(i);if(l===u)if(e===0)o=a=1/l;else{const d=l*e;o=a=d<1?1/d:1}else if(e===0)o=1/l,a=1/u;else{const d=l*e,h=u*e;o=d<1?1/d:1,a=h<1?1/h:1}}else{const l=Math.abs(t*i-s*r),u=Math.hypot(t,s),d=Math.hypot(r,i);if(e===0)o=d/l,a=u/l;else{const h=e*l;o=d>h?d/h:1,a=u>h?u/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:s,current:{lineWidth:r}}=this,[i,o]=this.getScaleForStroking();if(i===o){s.lineWidth=(r||1)*i,s.stroke(e);return}const a=s.getLineDash();t&&s.save(),s.scale(i,o),R0.a=1/i,R0.d=1/o;const l=new Path2D;if(l.addPath(e,R0),a.length>0){const u=Math.max(i,o);s.setLineDash(a.map(d=>d/u)),s.lineDashOffset/=u}s.lineWidth=r||1,s.stroke(l),t&&s.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};tr=new WeakSet,Sx=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ex=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},Cx=function(e,t,s){const r=new Path2D;return r.addPath(e,new DOMMatrix(s).invertSelf().multiplySelf(t)),r};let nu=X1;for(const n in yy)nu.prototype[n]!==void 0&&(nu.prototype[yy[n]]=nu.prototype[n]);var Of,jf;class Br{static get workerPort(){return c(this,Of)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");A(this,Of,e)}static get workerSrc(){return c(this,jf)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");A(this,jf,e)}}Of=new WeakMap,jf=new WeakMap,S(Br,Of,null),S(Br,jf,"");var Nu,Ff;class h5{constructor({parsedData:e,rawData:t}){S(this,Nu);S(this,Ff);A(this,Nu,e),A(this,Ff,t)}getRaw(){return c(this,Ff)}get(e){return c(this,Nu).get(e)??null}[Symbol.iterator](){return c(this,Nu).entries()}}Nu=new WeakMap,Ff=new WeakMap;const Pc=Symbol("INTERNAL");var Bf,zf,$f,Ru;class f5{constructor(e,{name:t,intent:s,usage:r,rbGroups:i}){S(this,Bf,!1);S(this,zf,!1);S(this,$f,!1);S(this,Ru,!0);A(this,Bf,!!(e&Yn.DISPLAY)),A(this,zf,!!(e&Yn.PRINT)),this.name=t,this.intent=s,this.usage=r,this.rbGroups=i}get visible(){if(c(this,$f))return c(this,Ru);if(!c(this,Ru))return!1;const{print:e,view:t}=this.usage;return c(this,Bf)?(t==null?void 0:t.viewState)!=="OFF":c(this,zf)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,s=!1){e!==Pc&&Pe("Internal method `_setVisible` called."),A(this,$f,s),A(this,Ru,t)}}Bf=new WeakMap,zf=new WeakMap,$f=new WeakMap,Ru=new WeakMap;var No,Te,Lu,Mu,Hf,_x;class p5{constructor(e,t=Yn.DISPLAY){S(this,Hf);S(this,No,null);S(this,Te,new Map);S(this,Lu,null);S(this,Mu,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,A(this,Mu,e.order);for(const s of e.groups)c(this,Te).set(s.id,new f5(t,s));if(e.baseState==="OFF")for(const s of c(this,Te).values())s._setVisible(Pc,!1);for(const s of e.on)c(this,Te).get(s)._setVisible(Pc,!0);for(const s of e.off)c(this,Te).get(s)._setVisible(Pc,!1);A(this,Lu,this.getHash())}}isVisible(e){if(c(this,Te).size===0)return!0;if(!e)return kv("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,Te).has(e.id)?c(this,Te).get(e.id).visible:(ie(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return E(this,Hf,_x).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,Te).has(t))return ie(`Optional content group not found: ${t}`),!0;if(c(this,Te).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,Te).has(t))return ie(`Optional content group not found: ${t}`),!0;if(!c(this,Te).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,Te).has(t))return ie(`Optional content group not found: ${t}`),!0;if(!c(this,Te).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,Te).has(t))return ie(`Optional content group not found: ${t}`),!0;if(c(this,Te).get(t).visible)return!1}return!0}return ie(`Unknown optional content policy ${e.policy}.`),!0}return ie(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,s=!0){var i;const r=c(this,Te).get(e);if(!r){ie(`Optional content group not found: ${e}`);return}if(s&&t&&r.rbGroups.length)for(const o of r.rbGroups)for(const a of o)a!==e&&((i=c(this,Te).get(a))==null||i._setVisible(Pc,!1,!0));r._setVisible(Pc,!!t,!0),A(this,No,null)}setOCGState({state:e,preserveRB:t}){let s;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const i=c(this,Te).get(r);if(i)switch(s){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!i.visible,t);break}}A(this,No,null)}get hasInitialVisibility(){return c(this,Lu)===null||this.getHash()===c(this,Lu)}getOrder(){return c(this,Te).size?c(this,Mu)?c(this,Mu).slice():[...c(this,Te).keys()]:null}getGroup(e){return c(this,Te).get(e)||null}getHash(){if(c(this,No)!==null)return c(this,No);const e=new qP;for(const[t,s]of c(this,Te))e.update(`${t}:${s.visible}`);return A(this,No,e.hexdigest())}[Symbol.iterator](){return c(this,Te).entries()}}No=new WeakMap,Te=new WeakMap,Lu=new WeakMap,Mu=new WeakMap,Hf=new WeakSet,_x=function(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let r=1;r<t;r++){const i=e[r];let o;if(Array.isArray(i))o=E(this,Hf,_x).call(this,i);else if(c(this,Te).has(i))o=c(this,Te).get(i).visible;else return ie(`Optional content group not found: ${i}`),!0;switch(s){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return s==="And"};class m5{constructor(e,{disableRange:t=!1,disableStream:s=!1}){ct(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:i,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(i==null?void 0:i.length)>0){const l=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const s=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(s),!0)});ct(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,s,r,i;e.total===void 0?(s=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||s.call(t,{loaded:e.loaded}):(i=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||i.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ct(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new g5(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new y5(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeReaders.slice(0))s.cancel(e);this._pdfDataRangeTransport.abort()}}class g5{constructor(e,t,s=!1,r=null){this._stream=e,this._done=s||!1,this._filename=j1(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class y5{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function v5(n){let e=!0,t=s("filename\\*","i").exec(n);if(t){t=t[1];let d=a(t);return d=unescape(d),d=l(d),d=u(d),i(d)}if(t=o(n),t){const d=u(t);return i(d)}if(t=s("filename","i").exec(n),t){t=t[1];let d=a(t);return d=u(d),i(d)}function s(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),m=Xp(h);h=f.decode(m),e=!1}catch{}}return h}function i(d){return e&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),e&&(d=r("iso-8859-1",d))),d}function o(d){const h=[];let f;const m=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=m.exec(d))!==null;){let[,p,x,v]=f;if(p=parseInt(p,10),p in h){if(p===0)break;continue}h[p]=[x,v]}const g=[];for(let p=0;p<h.length&&p in h;++p){let[x,v]=h[p];v=a(v),x&&(v=unescape(v),p===0&&(v=l(v))),g.push(v)}return g.join("")}function a(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const m=h[f].indexOf('"');m!==-1&&(h[f]=h[f].slice(0,m),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),g=d.slice(h+1).replace(/^[^']*'/,"");return r(f,g)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,m,g){if(m==="q"||m==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(p,x){return String.fromCharCode(parseInt(x,16))}),r(f,g);try{g=atob(g)}catch{}return r(f,g)})}return""}function i2(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const s in e){const r=e[s];r!==void 0&&t.append(s,r)}return t}function Nv(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function o2({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(n.get("Content-Length"),10);return!Number.isInteger(i)||(r.suggestedLength=i,i<=2*t)||s||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function a2(n){const e=n.get("Content-Disposition");if(e){let t=v5(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(j1(t))return t}return null}function Jp(n,e){return new vy(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function l2(n){return n===200||n===206}function c2(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function u2(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ie(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class w5{constructor(e){H(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=i2(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ct(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new x5(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new b5(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class x5{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),r=t.url;fetch(r,c2(s,this._withCredentials,this._abortController)).then(i=>{if(e._responseOrigin=Nv(i.url),!l2(i.status))throw Jp(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const o=i.headers,{allowRangeRequests:a,suggestedLength:l}=o2({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=a2(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ga("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:u2(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class b5{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${t}-${s-1}`);const o=r.url;fetch(o,c2(i,this._withCredentials,this._abortController)).then(a=>{const l=Nv(a.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!l2(a.status))throw Jp(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:u2(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const L0=200,M0=206;function A5(n){const e=n.response;return typeof e!="string"?e:Xp(e).buffer}class S5{constructor({url:e,httpHeaders:t,withCredentials:s}){H(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=i2(this.isHttp,t),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,o]of this.headers)t.setRequestHeader(i,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=M0):r.expectedStatus=L0,t.responseType="arraybuffer",ct(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){var r;const s=this.pendingRequests[e];s&&((r=s.onProgress)==null||r.call(s,t))}onStateChange(e,t){const s=this.pendingRequests[e];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){s.onError(r.status);return}const i=r.status||L0;if(!(i===L0&&s.expectedStatus===M0)&&i!==s.expectedStatus){s.onError(r.status);return}const a=A5(r);if(i===M0){const l=r.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?s.onDone({begin:parseInt(u[1],10),chunk:a}):(ie('Missing or invalid "Content-Range" header.'),s.onError(0))}else a?s.onDone({begin:0,chunk:a}):s.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class E5{constructor(e){this._source=e,this._manager=new S5(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ct(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new C5(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new _5(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class C5{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Nv(t.responseURL);const s=t.getAllResponseHeaders(),r=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[l,...u]=a.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:o}=o2({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=a2(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Jp(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _5{constructor(e,t,s){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Nv((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Jp(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const T5=/^[a-z][a-z0-9\-+.]+:/i;function k5(n){if(T5.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class P5{constructor(e){this.source=e,this.url=k5(e.url),ct(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ct(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new N5(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new R5(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class N5{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Jp(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ga("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class R5{constructor(e,t,s){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Xd=Symbol("INITIAL_DATA");var Fn,Uf,Tx;class d2{constructor(){S(this,Uf);S(this,Fn,Object.create(null))}get(e,t=null){if(t){const r=E(this,Uf,Tx).call(this,e);return r.promise.then(()=>t(r.data)),null}const s=c(this,Fn)[e];if(!s||s.data===Xd)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const t=c(this,Fn)[e];return!!t&&t.data!==Xd}delete(e){const t=c(this,Fn)[e];return!t||t.data===Xd?!1:(delete c(this,Fn)[e],!0)}resolve(e,t=null){const s=E(this,Uf,Tx).call(this,e);s.data=t,s.resolve()}clear(){var e;for(const t in c(this,Fn)){const{data:s}=c(this,Fn)[t];(e=s==null?void 0:s.bitmap)==null||e.close()}A(this,Fn,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,Fn)){const{data:t}=c(this,Fn)[e];t!==Xd&&(yield[e,t])}}}Fn=new WeakMap,Uf=new WeakSet,Tx=function(e){var t;return(t=c(this,Fn))[e]||(t[e]={...Promise.withResolvers(),data:Xd})};const L5=1e5,kE=30;var HE,Ro,An,Vf,Wf,dl,gi,Gf,qf,hl,Iu,Du,Lo,Ou,Xf,ju,fl,Kf,Yf,Fu,pl,Qf,Mo,Bu,qi,h2,f2,kx,rs,yg,Px,p2,m2;const ht=class ht{constructor({textContentSource:e,container:t,viewport:s}){S(this,qi);S(this,Ro,Promise.withResolvers());S(this,An,null);S(this,Vf,!1);S(this,Wf,!!((HE=globalThis.FontInspector)!=null&&HE.enabled));S(this,dl,null);S(this,gi,null);S(this,Gf,0);S(this,qf,0);S(this,hl,null);S(this,Iu,null);S(this,Du,0);S(this,Lo,0);S(this,Ou,Object.create(null));S(this,Xf,[]);S(this,ju,null);S(this,fl,[]);S(this,Kf,new WeakMap);S(this,Yf,null);var l;if(e instanceof ReadableStream)A(this,ju,e);else if(typeof e=="object")A(this,ju,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');A(this,An,A(this,Iu,t)),A(this,Lo,s.scale*Wr.pixelRatio),A(this,Du,s.rotation),A(this,gi,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:i,pageX:o,pageY:a}=s.rawDims;A(this,Yf,[1,0,0,-1,-o,a+i]),A(this,qf,r),A(this,Gf,i),E(l=ht,rs,p2).call(l),lc(t,s),c(this,Ro).promise.finally(()=>{c(ht,Bu).delete(this),A(this,gi,null),A(this,Ou,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=zt.platform;return pe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{c(this,hl).read().then(({value:t,done:s})=>{if(s){c(this,Ro).resolve();return}c(this,dl)??A(this,dl,t.lang),Object.assign(c(this,Ou),t.styles),E(this,qi,h2).call(this,t.items),e()},c(this,Ro).reject)};return A(this,hl,c(this,ju).getReader()),c(ht,Bu).add(this),e(),c(this,Ro).promise}update({viewport:e,onBefore:t=null}){var i;const s=e.scale*Wr.pixelRatio,r=e.rotation;if(r!==c(this,Du)&&(t==null||t(),A(this,Du,r),lc(c(this,Iu),{rotation:r})),s!==c(this,Lo)){t==null||t(),A(this,Lo,s);const o={div:null,properties:null,ctx:E(i=ht,rs,yg).call(i,c(this,dl))};for(const a of c(this,fl))o.properties=c(this,Kf).get(a),o.div=a,E(this,qi,kx).call(this,o)}}cancel(){var t;const e=new ga("TextLayer task cancelled.");(t=c(this,hl))==null||t.cancel(e).catch(()=>{}),A(this,hl,null),c(this,Ro).reject(e)}get textDivs(){return c(this,fl)}get textContentItemsStr(){return c(this,Xf)}static cleanup(){if(!(c(this,Bu).size>0)){c(this,Fu).clear();for(const{canvas:e}of c(this,pl).values())e.remove();c(this,pl).clear()}}};Ro=new WeakMap,An=new WeakMap,Vf=new WeakMap,Wf=new WeakMap,dl=new WeakMap,gi=new WeakMap,Gf=new WeakMap,qf=new WeakMap,hl=new WeakMap,Iu=new WeakMap,Du=new WeakMap,Lo=new WeakMap,Ou=new WeakMap,Xf=new WeakMap,ju=new WeakMap,fl=new WeakMap,Kf=new WeakMap,Yf=new WeakMap,Fu=new WeakMap,pl=new WeakMap,Qf=new WeakMap,Mo=new WeakMap,Bu=new WeakMap,qi=new WeakSet,h2=function(e){var r,i;if(c(this,Vf))return;(i=c(this,gi)).ctx??(i.ctx=E(r=ht,rs,yg).call(r,c(this,dl)));const t=c(this,fl),s=c(this,Xf);for(const o of e){if(t.length>L5){ie("Ignoring additional textDivs for performance reasons."),A(this,Vf,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=c(this,An);A(this,An,document.createElement("span")),c(this,An).classList.add("markedContent"),o.id!==null&&c(this,An).setAttribute("id",`${o.id}`),a.append(c(this,An))}else o.type==="endMarkedContent"&&A(this,An,c(this,An).parentNode);continue}s.push(o.str),E(this,qi,f2).call(this,o)}},f2=function(e){var p;const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,fl).push(t);const r=te.transform(c(this,Yf),e.transform);let i=Math.atan2(r[1],r[0]);const o=c(this,Ou)[e.fontName];o.vertical&&(i+=Math.PI/2);let a=c(this,Wf)&&o.fontSubstitution||o.fontFamily;a=ht.fontFamilyMap.get(a)||a;const l=Math.hypot(r[2],r[3]),u=l*E(p=ht,rs,m2).call(p,a,o,c(this,dl));let d,h;i===0?(d=r[4],h=r[5]-u):(d=r[4]+u*Math.sin(i),h=r[5]-u*Math.cos(i));const f="calc(var(--total-scale-factor) *",m=t.style;c(this,An)===c(this,Iu)?(m.left=`${(100*d/c(this,qf)).toFixed(2)}%`,m.top=`${(100*h/c(this,Gf)).toFixed(2)}%`):(m.left=`${f}${d.toFixed(2)}px)`,m.top=`${f}${h.toFixed(2)}px)`),m.fontSize=`${f}${(c(ht,Mo)*l).toFixed(2)}px)`,m.fontFamily=a,s.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,Wf)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),i!==0&&(s.angle=i*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const x=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);x!==v&&Math.max(x,v)/Math.min(x,v)>1.5&&(g=!0)}if(g&&(s.canvasWidth=o.vertical?e.height:e.width),c(this,Kf).set(t,s),c(this,gi).div=t,c(this,gi).properties=s,E(this,qi,kx).call(this,c(this,gi)),s.hasText&&c(this,An).append(t),s.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),c(this,An).append(x)}},kx=function(e){var a;const{div:t,properties:s,ctx:r}=e,{style:i}=t;let o="";if(c(ht,Mo)>1&&(o=`scale(${1/c(ht,Mo)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:l}=i,{canvasWidth:u,fontSize:d}=s;E(a=ht,rs,Px).call(a,r,d*c(this,Lo),l);const{width:h}=r.measureText(t.textContent);h>0&&(o=`scaleX(${u*c(this,Lo)/h}) ${o}`)}s.angle!==0&&(o=`rotate(${s.angle}deg) ${o}`),o.length>0&&(i.transform=o)},rs=new WeakSet,yg=function(e=null){let t=c(this,pl).get(e||(e=""));if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,pl).set(e,t),c(this,Qf).set(t,{size:0,family:""})}return t},Px=function(e,t,s){const r=c(this,Qf).get(e);t===r.size&&s===r.family||(e.font=`${t}px ${s}`,r.size=t,r.family=s)},p2=function(){if(c(this,Mo)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),A(this,Mo,e.getBoundingClientRect().height),e.remove()},m2=function(e,t,s){const r=c(this,Fu).get(e);if(r)return r;const i=E(this,rs,yg).call(this,s);i.canvas.width=i.canvas.height=kE,E(this,rs,Px).call(this,i,kE,e);const o=i.measureText(""),a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let u=.8;return a?u=a/(a+l):(zt.platform.isFirefox&&ie("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),c(this,Fu).set(e,u),u},S(ht,rs),S(ht,Fu,new Map),S(ht,pl,new Map),S(ht,Qf,new WeakMap),S(ht,Mo,null),S(ht,Bu,new Set);let sf=ht;class rf{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function r(i){var l;if(!i)return;let o=null;const a=i.name;if(a==="#text")o=i.value;else if(rf.shouldBuildText(a))(l=i==null?void 0:i.attributes)!=null&&l.textContent?o=i.attributes.textContent:i.value&&(o=i.value);else return;if(o!==null&&t.push({str:o}),!!i.children)for(const u of i.children)r(u)}return r(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const M5=100;function g2(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new Nx,{docId:t}=e,s=n.url?H4(n.url):null,r=n.data?U4(n.data):null,i=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof y2?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof of?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!Pv(n.docBaseUrl)?n.docBaseUrl:null,m=Im(n.cMapUrl),g=n.cMapPacked!==!1,p=n.CMapReaderFactory||(on?Q4:gE),x=Im(n.iccUrl),v=Im(n.standardFontDataUrl),w=n.StandardFontDataFactory||(on?J4:yE),b=Im(n.wasmUrl),C=n.WasmFactory||(on?Z4:vE),_=n.stopAtErrors!==!0,k=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,P=n.isEvalSupported!==!1,N=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!on,L=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!on&&(zt.platform.isFirefox||!globalThis.chrome),M=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,D=typeof n.disableFontFace=="boolean"?n.disableFontFace:on,F=n.fontExtraProperties===!0,G=n.enableXfa===!0,O=n.ownerDocument||globalThis.document,ne=n.disableRange===!0,j=n.disableStream===!0,B=n.disableAutoFetch===!0,R=n.pdfBug===!0,$=n.CanvasFactory||(on?Y4:q4),Y=n.FilterFactory||(on?K4:X4),W=n.enableHWA===!0,q=n.useWasm!==!1,ee=l?l.length:n.length??NaN,Se=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!on&&!D,Ye=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(p===gE&&w===yE&&C===vE&&m&&v&&b&&th(m,document.baseURI)&&th(v,document.baseURI)&&th(b,document.baseURI)),de=null;x4(h);const ge={canvasFactory:new $({ownerDocument:O,enableHWA:W}),filterFactory:new Y({docId:t,ownerDocument:O}),cMapReaderFactory:Ye?null:new p({baseUrl:m,isCompressed:g}),standardFontDataFactory:Ye?null:new w({baseUrl:v}),wasmFactory:Ye?null:new C({baseUrl:b})};d||(d=of.create({verbosity:h,port:Br.workerPort}),e._worker=d);const yn={docId:t,apiVersion:"5.3.93",data:r,password:a,disableAutoFetch:B,rangeChunkSize:u,length:ee,docBaseUrl:f,enableXfa:G,evaluatorOptions:{maxImageSize:k,disableFontFace:D,ignoreErrors:_,isEvalSupported:P,isOffscreenCanvasSupported:N,isImageDecoderSupported:L,canvasMaxAreaInBytes:M,fontExtraProperties:F,useSystemFonts:Se,useWasm:q,useWorkerFetch:Ye,cMapUrl:m,iccUrl:x,standardFontDataUrl:v,wasmUrl:b}},ir={ownerDocument:O,pdfBug:R,styleElement:de,loadingParams:{disableAutoFetch:B,enableXfa:G}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const or=d.messageHandler.sendWithPromise("GetDocRequest",yn,r?[r.buffer]:null);let Ki;if(l)Ki=new m5(l,{disableRange:ne,disableStream:j});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");const ar=th(s)?w5:on?P5:E5;Ki=new ar({url:s,length:ee,httpHeaders:i,withCredentials:o,rangeChunkSize:u,disableRange:ne,disableStream:j})}return or.then(ar=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const lr=new oh(t,ar,d.port),Ca=new O5(lr,e,Ki,ir,ge);e._transport=Ca,lr.send("Ready",null)})}).catch(e._capability.reject),e}var Oy;const jy=class jy{constructor(){H(this,"_capability",Promise.withResolvers());H(this,"_transport",null);H(this,"_worker",null);H(this,"docId",`d${xt(jy,Oy)._++}`);H(this,"destroyed",!1);H(this,"onPassword",null);H(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,s,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,i}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Oy=new WeakMap,S(jy,Oy,0);let Nx=jy;var ml,Jf,Zf,ep,tp;class y2{constructor(e,t,s=!1,r=null){S(this,ml,Promise.withResolvers());S(this,Jf,[]);S(this,Zf,[]);S(this,ep,[]);S(this,tp,[]);this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=r}addRangeListener(e){c(this,tp).push(e)}addProgressListener(e){c(this,ep).push(e)}addProgressiveReadListener(e){c(this,Zf).push(e)}addProgressiveDoneListener(e){c(this,Jf).push(e)}onDataRange(e,t){for(const s of c(this,tp))s(e,t)}onDataProgress(e,t){c(this,ml).promise.then(()=>{for(const s of c(this,ep))s(e,t)})}onDataProgressiveRead(e){c(this,ml).promise.then(()=>{for(const t of c(this,Zf))t(e)})}onDataProgressiveDone(){c(this,ml).promise.then(()=>{for(const e of c(this,Jf))e()})}transportReady(){c(this,ml).resolve()}requestDataRange(e,t){Pe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}ml=new WeakMap,Jf=new WeakMap,Zf=new WeakMap,ep=new WeakMap,tp=new WeakMap;class I5{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return pe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var yi,gl,dh;class D5{constructor(e,t,s,r=!1){S(this,gl);S(this,yi,!1);this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=r?new fE:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new d2,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:i=!1}={}){return new Yp({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:r,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return pe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:s="display",annotationMode:r=ao.ENABLE,transform:i=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:h=!1}){var C,_;(C=this._stats)==null||C.time("Overall");const f=this._transport.getRenderingIntent(s,r,d,h),{renderingIntent:m,cacheKey:g}=f;A(this,yi,!1),a||(a=this._transport.getOptionalContentConfig(m));let p=this._intentStates.get(g);p||(p=Object.create(null),this._intentStates.set(g,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const x=!!(m&Yn.PRINT);p.displayReadyCapability||(p.displayReadyCapability=Promise.withResolvers(),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(_=this._stats)==null||_.time("Page Request"),this._pumpOperatorList(f));const v=k=>{var P;p.renderTasks.delete(w),x&&A(this,yi,!0),E(this,gl,dh).call(this),k?(w.capability.reject(k),this._abortOperatorList({intentState:p,reason:k instanceof Error?k:new Error(k)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(P=globalThis.Stats)!=null&&P.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new Rx({callback:v,params:{canvasContext:e,viewport:t,transform:i,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:u});(p.renderTasks||(p.renderTasks=new Set)).add(w);const b=w.task;return Promise.all([p.displayReadyCapability.promise,a]).then(([k,P])=>{var N;if(this.destroyed){v();return}if((N=this._stats)==null||N.time("Rendering"),!(P.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:k,optionalContentConfig:P}),w.operatorListChanged()}).catch(v),b}getOperatorList({intent:e="display",annotationMode:t=ao.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var u;function i(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,t,s,r,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=i,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>rf.textContent(s));const t=this.streamTextContent(e);return new Promise(function(s,r){function i(){o.read().then(function({value:l,done:u}){if(u){s(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),i()},r)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),A(this,yi,!1),Promise.all(e)}cleanup(e=!1){A(this,yi,!0);const t=E(this,gl,dh).call(this);return e&&t&&this._stats&&(this._stats=new fE),t}_startRenderPage(e,t){var r,i;const s=this._intentStates.get(t);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(i=s.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,t){for(let s=0,r=e.length;s<r;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&E(this,gl,dh).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:s,modifiedIds:r}){const{map:i,transfer:o}=s,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i,modifiedIds:r},o).getReader(),u=this._intentStates.get(t);u.streamReader=l;const d=()=>{l.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();E(this,gl,dh).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(t instanceof O1){let r=M5;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new ga(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,i]of this._intentStates)if(i===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}yi=new WeakMap,gl=new WeakSet,dh=function(){if(!c(this,yi)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),A(this,yi,!1),!0};var Io,Ds,vi,yl,Fy,vl,wl,hn,vg,v2,w2,hh,zu,wg;const ze=class ze{constructor({name:e=null,port:t=null,verbosity:s=b4()}={}){S(this,hn);S(this,Io,Promise.withResolvers());S(this,Ds,null);S(this,vi,null);S(this,yl,null);if(this.name=e,this.destroyed=!1,this.verbosity=s,t){if(c(ze,wl).has(t))throw new Error("Cannot use more than one PDFWorker per port.");c(ze,wl).set(t,this),E(this,hn,v2).call(this,t)}else E(this,hn,w2).call(this)}get promise(){return c(this,Io).promise}get port(){return c(this,vi)}get messageHandler(){return c(this,Ds)}destroy(){var e,t;this.destroyed=!0,(e=c(this,yl))==null||e.terminate(),A(this,yl,null),c(ze,wl).delete(c(this,vi)),A(this,vi,null),(t=c(this,Ds))==null||t.destroy(),A(this,Ds,null)}static create(e){const t=c(this,wl).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new ze(e)}static get workerSrc(){if(Br.workerSrc)return Br.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return pe(this,"_setupFakeWorkerGlobal",(async()=>c(this,zu,wg)?c(this,zu,wg):(await import(this.workerSrc)).WorkerMessageHandler)())}};Io=new WeakMap,Ds=new WeakMap,vi=new WeakMap,yl=new WeakMap,Fy=new WeakMap,vl=new WeakMap,wl=new WeakMap,hn=new WeakSet,vg=function(){c(this,Io).resolve(),c(this,Ds).send("configure",{verbosity:this.verbosity})},v2=function(e){A(this,vi,e),A(this,Ds,new oh("main","worker",e)),c(this,Ds).on("ready",()=>{}),E(this,hn,vg).call(this)},w2=function(){if(c(ze,vl)||c(ze,zu,wg)){E(this,hn,hh).call(this);return}let{workerSrc:e}=ze;try{ze._isSameOrigin(window.location,e)||(e=ze._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new oh("main","worker",t),r=()=>{i.abort(),s.destroy(),t.terminate(),this.destroyed?c(this,Io).reject(new Error("Worker was destroyed")):E(this,hn,hh).call(this)},i=new AbortController;t.addEventListener("error",()=>{c(this,yl)||r()},{signal:i.signal}),s.on("test",a=>{if(i.abort(),this.destroyed||!a){r();return}A(this,Ds,s),A(this,vi,t),A(this,yl,t),E(this,hn,vg).call(this)}),s.on("ready",a=>{if(i.abort(),this.destroyed){r();return}try{o()}catch{E(this,hn,hh).call(this)}});const o=()=>{const a=new Uint8Array;s.send("test",a,[a.buffer])};o();return}catch{kv("The worker has been disabled.")}E(this,hn,hh).call(this)},hh=function(){c(ze,vl)||(ie("Setting up fake worker."),A(ze,vl,!0)),ze._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){c(this,Io).reject(new Error("Worker was destroyed"));return}const t=new G4;A(this,vi,t);const s=`fake${xt(ze,Fy)._++}`,r=new oh(s+"_worker",s,t);e.setup(r,t),A(this,Ds,new oh(s,s+"_worker",t)),E(this,hn,vg).call(this)}).catch(e=>{c(this,Io).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},zu=new WeakSet,wg=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},S(ze,zu),S(ze,Fy,0),S(ze,vl,!1),S(ze,wl,new WeakMap),on&&(A(ze,vl,!0),Br.workerSrc||(Br.workerSrc="./pdf.worker.mjs")),ze._isSameOrigin=(e,t)=>{const s=URL.parse(e);if(!(s!=null&&s.origin)||s.origin==="null")return!1;const r=new URL(t,s);return s.origin===r.origin},ze._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},ze.fromPort=e=>{if(M4("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ze.create(e)};let of=ze;var wi,Nr,$u,Hu,xi,xl,fh;class O5{constructor(e,t,s,r,i){S(this,xl);S(this,wi,new Map);S(this,Nr,new Map);S(this,$u,new Map);S(this,Hu,new Map);S(this,xi,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new d2,this.fontLoader=new z4({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return pe(this,"annotationStorage",new z1)}getRenderingIntent(e,t=ao.ENABLE,s=null,r=!1,i=!1){let o=Yn.DISPLAY,a=yx;switch(e){case"any":o=Yn.ANY;break;case"display":break;case"print":o=Yn.PRINT;break;default:ie(`getRenderingIntent - invalid intent: ${e}`)}const l=o&Yn.PRINT&&s instanceof KP?s:this.annotationStorage;switch(t){case ao.DISABLE:o+=Yn.ANNOTATIONS_DISABLE;break;case ao.ENABLE:break;case ao.ENABLE_FORMS:o+=Yn.ANNOTATIONS_FORMS;break;case ao.ENABLE_STORAGE:o+=Yn.ANNOTATIONS_STORAGE,a=l.serializable;break;default:ie(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(o+=Yn.IS_EDITING),i&&(o+=Yn.OPLIST);const{ids:u,hash:d}=l.modifiedIds,h=[o,a.hash,d];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:a,modifiedIds:u}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=c(this,xi))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of c(this,Nr).values())e.push(r._destroy());c(this,Nr).clear(),c(this,$u).clear(),c(this,Hu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,i;this.commonObjs.clear(),this.fontLoader.clear(),c(this,wi).clear(),this.filterFactory.destroy(),sf.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new ga("Worker was terminated.")),(i=this.messageHandler)==null||i.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(s,r)=>{ct(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},r.onPull=()=>{this._fullReader.read().then(function({value:i,done:o}){if(o){r.close();return}ct(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{r.error(i)})},r.onCancel=i=>{this._fullReader.cancel(i),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async s=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:i,contentLength:o}=this._fullReader;return(!r||!i)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:r,isRangeSupported:i,contentLength:o}}),e.on("GetRangeReader",(s,r)=>{ct(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(s.begin,s.end);if(!i){r.close();return}r.onPull=()=>{i.read().then(function({value:o,done:a}){if(a){r.close();return}ct(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{i.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new I5(s,this))}),e.on("DocException",s=>{t._capability.reject(wn(s))}),e.on("PasswordRequest",s=>{A(this,xi,Promise.withResolvers());try{if(!t.onPassword)throw wn(s);const r=i=>{i instanceof Error?c(this,xi).reject(i):c(this,xi).resolve({password:i})};t.onPassword(r,s.code)}catch(r){c(this,xi).reject(r)}return c(this,xi).promise}),e.on("DataLoaded",s=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;c(this,Nr).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,r,i])=>{var o;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":if("error"in i){const d=i.error;ie(`Error during font loading: ${d}`),this.commonObjs.resolve(s,d);break}const a=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(d,h)=>globalThis.FontInspector.fontAdded(d,h):null,l=new $4(i,a);this.fontLoader.bind(l).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!l.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(s,l)});break;case"CopyLocalImage":const{imageRef:u}=i;ct(u,"The imageRef must be defined.");for(const d of c(this,Nr).values())for(const[,h]of d.objs)if((h==null?void 0:h.ref)===u)return h.dataLen?(this.commonObjs.resolve(s,structuredClone(h)),h.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,i);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([s,r,i,o])=>{var l;if(this.destroyed)return;const a=c(this,Nr).get(r);if(!a.objs.has(s)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(i){case"Image":case"Pattern":a.objs.resolve(s,o);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",s=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:s.loaded,total:s.total})}),e.on("FetchBinaryData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[s.type];if(!r)throw new Error(`${s.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&ie("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((s=this._fullReader)==null?void 0:s.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=c(this,$u).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&c(this,Hu).set(i.refStr,e);const o=new D5(t,i,this,this._params.pdfBug);return c(this,Nr).set(t,o),o});return c(this,$u).set(t,r),r}getPageIndex(e){return vx(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return E(this,xl,fh).call(this,"GetFieldObjects")}hasJSActions(){return E(this,xl,fh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return E(this,xl,fh).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return E(this,xl,fh).call(this,"GetOptionalContentConfig").then(t=>new p5(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,wi).get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(r=>{var i,o;return{info:r[0],metadata:r[1]?new h5(r[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return c(this,wi).set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,Nr).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,wi).clear(),this.filterFactory.destroy(!0),sf.cleanup()}}cachedPageNumber(e){if(!vx(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,Hu).get(t)??null}}wi=new WeakMap,Nr=new WeakMap,$u=new WeakMap,Hu=new WeakMap,xi=new WeakMap,xl=new WeakSet,fh=function(e,t=null){const s=c(this,wi).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise(e,t);return c(this,wi).set(e,r),r};var Do;class j5{constructor(e){S(this,Do,null);H(this,"onContinue",null);H(this,"onError",null);A(this,Do,e)}get promise(){return c(this,Do).capability.promise}cancel(e=0){c(this,Do).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,Do).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,Do);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Do=new WeakMap;var Oo,bl;const La=class La{constructor({callback:e,params:t,objs:s,commonObjs:r,annotationCanvasMap:i,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null}){S(this,Oo,null);this.callback=e,this.params=t,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new j5(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(c(La,bl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(La,bl).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:i,background:o}=this.params;this.gfx=new nu(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var s,r,i;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),c(this,Oo)&&(window.cancelAnimationFrame(c(this,Oo)),A(this,Oo,null)),c(La,bl).delete(this._canvas),e||(e=new O1(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(i=(r=this.task).onError)==null||i.call(r,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?A(this,Oo,window.requestAnimationFrame(()=>{A(this,Oo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(La,bl).delete(this._canvas),this.callback())))}};Oo=new WeakMap,bl=new WeakMap,S(La,bl,new WeakSet);let Rx=La;const x2="5.3.93",F5="cbeef3233";function PE(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Kd(n){return Math.max(0,Math.min(255,255*n))}class NE{static CMYK_G([e,t,s,r]){return["G",1-Math.min(1,.3*e+.59*s+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Kd(e),[e,e,e]}static G_HTML([e]){const t=PE(e);return`#${t}${t}${t}`}static RGB_G([e,t,s]){return["G",.3*e+.59*t+.11*s]}static RGB_rgb(e){return e.map(Kd)}static RGB_HTML(e){return`#${e.map(PE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,s,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,s+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,s,r]){return[Kd(1-Math.min(1,e+r)),Kd(1-Math.min(1,s+r)),Kd(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,s]){const r=1-e,i=1-t,o=1-s,a=Math.min(r,i,o);return["CMYK",r,i,o,a]}}class B5{create(e,t,s=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Pe("Abstract method `_createSVG` called.")}}class by extends B5{_createSVG(e){return document.createElementNS(Qr,e)}}class b2{static setupStorage(e,t,s,r,i){const o=r.getValue(t,{value:null});switch(s.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),i==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(o.value===s.attributes.xfaOn?e.setAttribute("checked",!0):o.value===s.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",a=>{r.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),i==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of s.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:s=null,intent:r,linkService:i}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[l,u]of Object.entries(o))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&i.addLinkAttributes(e,o.href,o.newWindow),s&&o.dataId&&this.setupStorage(e,o.dataId,t,s)}static render(e){var h,f;const t=e.annotationStorage,s=e.linkService,r=e.xfaHtml,i=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:i,linkService:s});const a=i!=="richText",l=e.div;if(l.append(o),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=m}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const m=document.createTextNode(r.value);o.append(m),a&&rf.shouldBuildText(r.name)&&u.push(m)}return{textDivs:u}}const d=[[r,-1,o]];for(;d.length>0;){const[m,g,p]=d.at(-1);if(g+1===m.children.length){d.pop();continue}const x=m.children[++d.at(-1)[1]];if(x===null)continue;const{name:v}=x;if(v==="#text"){const b=document.createTextNode(x.value);u.push(b),p.append(b);continue}const w=(h=x==null?void 0:x.attributes)!=null&&h.xmlns?document.createElementNS(x.attributes.xmlns,v):document.createElement(v);if(p.append(w),x.attributes&&this.setAttributes({html:w,element:x,storage:t,intent:i,linkService:s}),((f=x.children)==null?void 0:f.length)>0)d.push([x,-1,w]);else if(x.value){const b=document.createTextNode(x.value);a&&rf.shouldBuildText(v)&&u.push(b),w.append(b)}}for(const m of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const z5=9,uc=new WeakSet;class RE{static create(e){switch(e.data.annotationType){case ot.LINK:return new A2(e);case ot.TEXT:return new $5(e);case ot.WIDGET:switch(e.data.fieldType){case"Tx":return new H5(e);case"Btn":return e.data.radioButton?new C2(e):e.data.checkBox?new V5(e):new W5(e);case"Ch":return new G5(e);case"Sig":return new U5(e)}return new vc(e);case ot.POPUP:return new Mx(e);case ot.FREETEXT:return new N2(e);case ot.LINE:return new X5(e);case ot.SQUARE:return new K5(e);case ot.CIRCLE:return new Y5(e);case ot.POLYLINE:return new R2(e);case ot.CARET:return new J5(e);case ot.INK:return new U1(e);case ot.POLYGON:return new Q5(e);case ot.HIGHLIGHT:return new L2(e);case ot.UNDERLINE:return new Z5(e);case ot.SQUIGGLY:return new eB(e);case ot.STRIKEOUT:return new tB(e);case ot.STAMP:return new M2(e);case ot.FILEATTACHMENT:return new nB(e);default:return new st(e)}}}var Al,Uu,Vu,np,Lx;const K1=class K1{constructor(e,{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){S(this,np);S(this,Al,null);S(this,Uu,!1);S(this,Vu,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return K1._hasPopupData(this.data)}updateEdited(e){var s;if(!this.container)return;c(this,Al)||A(this,Al,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&E(this,np,Lx).call(this,t),(s=c(this,Vu))==null||s.popup.updateEdited(e)}resetEdited(){var e;c(this,Al)&&(E(this,np,Lx).call(this,c(this,Al).rect),(e=c(this,Vu))==null||e.popup.resetEdited(),A(this,Al,null))}_createContainer(e){const{data:t,parent:{page:s,viewport:r}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof vc||(i.tabIndex=0);const{style:o}=i;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof Mx){const{rotation:p}=t;return!t.hasOwnCanvas&&p!==0&&this.setRotation(p,i),i}const{width:a,height:l}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const p=t.borderStyle.horizontalCornerRadius,x=t.borderStyle.verticalCornerRadius;if(p>0||x>0){const w=`calc(${p}px * var(--total-scale-factor)) / calc(${x}px * var(--total-scale-factor))`;o.borderRadius=w}else if(this instanceof C2){const w=`calc(${a}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;o.borderRadius=w}switch(t.borderStyle.style){case Cc.SOLID:o.borderStyle="solid";break;case Cc.DASHED:o.borderStyle="dashed";break;case Cc.BEVELED:ie("Unimplemented border style: beveled");break;case Cc.INSET:ie("Unimplemented border style: inset");break;case Cc.UNDERLINE:o.borderBottomStyle="solid";break}const v=t.borderColor||null;v?(A(this,Uu,!0),o.borderColor=te.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):o.borderWidth=0}const u=te.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:m}=r.rawDims;o.left=`${100*(u[0]-f)/d}%`,o.top=`${100*(u[1]-m)/h}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(o.width=`${100*a/d}%`,o.height=`${100*l/h}%`):this.setRotation(g,i),i}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims;let{width:i,height:o}=this;e%180!==0&&([i,o]=[o,i]),t.style.width=`${100*i/s}%`,t.style.height=`${100*o/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,s,r)=>{const i=r.detail[t],o=i[0],a=i.slice(1);r.target.style[s]=NE[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[s]:NE[`${o}_rgb`](a)})};return pe(this,"_commonActions",{display:t=>{const{display:s}=t.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:s}=t.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const s=t.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||s[r];i==null||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[r,i]of Object.entries(t)){const o=s[r];if(o){const a={detail:{[r]:i},target:e};o(a),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,r,i]=this.data.rect.map(p=>Math.fround(p));if(e.length===8){const[p,x,v,w]=e.subarray(2,6);if(r===p&&i===x&&t===v&&s===w)return}const{style:o}=this.container;let a;if(c(this,Uu)){const{borderColor:p,borderWidth:x}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${p}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const l=r-t,u=i-s,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const f=d.createElement("defs");h.append(f);const m=d.createElement("clipPath"),g=`clippath_${this.data.id}`;m.setAttribute("id",g),m.setAttribute("clipPathUnits","objectBoundingBox"),f.append(m);for(let p=2,x=e.length;p<x;p+=8){const v=e[p],w=e[p+1],b=e[p+2],C=e[p+3],_=d.createElement("rect"),k=(b-t)/l,P=(i-w)/u,N=(v-b)/l,L=(w-C)/u;_.setAttribute("x",k),_.setAttribute("y",P),_.setAttribute("width",N),_.setAttribute("height",L),m.append(_),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${P}" width="${N}" height="${L}"/>`)}c(this,Uu)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{data:e}=this,t=A(this,Vu,new Mx({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Pe("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:i,id:o,exportValues:a}of r){if(i===-1||o===t)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!uc.has(u)){ie(`_getElementsByName - element not allowed: ${o}`);continue}s.push({id:o,exportValue:l,domElement:u})}return s}for(const r of document.getElementsByName(e)){const{exportValue:i}=r,o=r.getAttribute("data-element-id");o!==t&&uc.has(r)&&s.push({id:o,exportValue:i,domElement:r})}return s}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Al=new WeakMap,Uu=new WeakMap,Vu=new WeakMap,np=new WeakSet,Lx=function(e){const{container:{style:t},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:o,pageX:a,pageY:l}}}}=this;s==null||s.splice(0,4,...e),t.left=`${100*(e[0]-a)/i}%`,t.top=`${100*(o-e[3]+l)/o}%`,r===0?(t.width=`${100*(e[2]-e[0])/i}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(r)};let st=K1;var es,ka,S2,E2;class A2 extends st{constructor(t,s=null){super(t,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});S(this,es);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let i=!1;return t.url?(s.addLinkAttributes(r,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(r,t.action),i=!0):t.attachment?(E(this,es,S2).call(this,r,t.attachment,t.attachmentDest),i=!0):t.setOCGState?(E(this,es,E2).call(this,r,t.setOCGState),i=!0):t.dest?(this._bindLink(r,t.dest),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),i=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(r),this.container}_bindLink(t,s){t.href=this.linkService.getDestinationHash(s),t.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&E(this,es,ka).call(this)}_bindNamedAction(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(s),!1),E(this,es,ka).call(this)}_bindJSAction(t,s){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(s.actions)){const o=r.get(i);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:i}}),!1})}t.onclick||(t.onclick=()=>!1),E(this,es,ka).call(this)}_bindResetFormAction(t,s){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),E(this,es,ka).call(this),!this._fieldObjects){ie('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var h;r==null||r();const{fields:i,refs:o,include:a}=s,l=[];if(i.length!==0||o.length!==0){const f=new Set(o);for(const m of i){const g=this._fieldObjects[m]||[];for(const{id:p}of g)f.add(p)}for(const m of Object.values(this._fieldObjects))for(const g of m)f.has(g.id)===a&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,d=[];for(const f of l){const{id:m}=f;switch(d.push(m),f.type){case"text":{const p=f.defaultValue||"";u.setValue(m,{value:p});break}case"checkbox":case"radiobutton":{const p=f.defaultValue===f.exportValues;u.setValue(m,{value:p});break}case"combobox":case"listbox":{const p=f.defaultValue||"";u.setValue(m,{value:p});break}default:continue}const g=document.querySelector(`[data-element-id="${m}"]`);if(g){if(!uc.has(g)){ie(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}es=new WeakSet,ka=function(){this.container.setAttribute("data-internal-link","")},S2=function(t,s,r=null){t.href=this.linkService.getAnchorUrl(""),s.description&&(t.title=s.description),t.onclick=()=>{var i;return(i=this.downloadManager)==null||i.openOrDownloadData(s.content,s.filename,r),!1},E(this,es,ka).call(this)},E2=function(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(s),!1),E(this,es,ka).call(this)};class $5 extends st{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class vc extends st{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return zt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,r,i){s.includes("mouse")?e.addEventListener(s,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(s,o=>{var a;if(s==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(s==="focus"){if(t.focused)return;t.focused=!0}i&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(o)}}))})}_setEventListeners(e,t,s,r){var i,o,a;for(const[l,u]of s)(u==="Action"||(i=this.data.actions)!=null&&i[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,r),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":te.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||z5,i=e.style;let o;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),d=Math.round(u/(_0*r))||1,h=u/d;o=Math.min(r,l(h/_0))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,l(u/_0))}i.fontSize=`calc(${o}px * var(--total-scale-factor))`,i.color=te.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class H5 extends vc{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,s,r){const i=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=s),i.setValue(o.id,{[r]:s})}render(){var r,i;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=u??a,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type=this.data.password?"password":"text",s.setAttribute("value",u??a),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),uc.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=0;const h=this.data.dateFormat||this.data.timeFormat;h&&(s.title=h),this._setRequired(s,this.data.required),l&&(s.maxLength=l),s.addEventListener("input",m=>{e.setValue(t,{value:m.target.value}),this.setPropertyOnSiblings(s,"value",m.target.value,"value"),d.formattedValue=null}),s.addEventListener("resetform",m=>{const g=this.data.defaultFieldValue??"";s.value=d.userValue=g,d.formattedValue=null});let f=m=>{const{formattedValue:g}=d;g!=null&&(m.target.value=g),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",g=>{var x;if(d.focused)return;const{target:p}=g;d.userValue&&(p.value=d.userValue),d.lastCommittedValue=p.value,d.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(d.focused=!0)}),s.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const p={value(x){d.userValue=x.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),x.target.value=d.userValue},formattedValue(x){const{formattedValue:v}=x.detail;d.formattedValue=v,v!=null&&x.target!==document.activeElement&&(x.target.value=v),e.setValue(t,{formattedValue:v})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var C;const{charLimit:v}=x.detail,{target:w}=x;if(v===0){w.removeAttribute("maxLength");return}w.setAttribute("maxLength",v);let b=d.userValue;!b||b.length<=v||(b=b.slice(0,v),w.value=d.userValue=b,e.setValue(t,{value:b}),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:1,selStart:w.selectionStart,selEnd:w.selectionEnd}}))}};this._dispatchEventFromSandbox(p,g)}),s.addEventListener("keydown",g=>{var v;d.commitKey=1;let p=-1;if(g.key==="Escape"?p=0:g.key==="Enter"&&!this.data.multiLine?p=2:g.key==="Tab"&&(d.commitKey=3),p===-1)return;const{value:x}=g.target;d.lastCommittedValue!==x&&(d.lastCommittedValue=x,d.userValue=x,(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:p,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const m=f;f=null,s.addEventListener("blur",g=>{var x,v;if(!d.focused||!g.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(d.focused=!1);const{value:p}=g.target;d.userValue=p,d.lastCommittedValue!==p&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:p,willCommit:!0,commitKey:d.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}})),m(g)}),(i=this.data.actions)!=null&&i.Keystroke&&s.addEventListener("beforeinput",g=>{var k;d.lastCommittedValue=null;const{data:p,target:x}=g,{value:v,selectionStart:w,selectionEnd:b}=x;let C=w,_=b;switch(g.inputType){case"deleteWordBackward":{const P=v.substring(0,w).match(/\w*[^\w]*$/);P&&(C-=P[0].length);break}case"deleteWordForward":{const P=v.substring(w).match(/^[^\w]*\w*/);P&&(_+=P[0].length);break}case"deleteContentBackward":w===b&&(C-=1);break;case"deleteContentForward":w===b&&(_+=1);break}g.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,change:p||"",willCommit:!1,selStart:C,selEnd:_}})}),this._setEventListeners(s,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(f&&s.addEventListener("blur",f),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/l;s.classList.add("comb"),s.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class U5 extends vc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class V5 extends vc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let r=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return uc.add(i),i.setAttribute("data-element-id",s),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=0,i.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,s)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(s,{value:l})}),i.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(s,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class C2 extends vc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let r=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(s,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,s))e.setValue(o.id,{value:!1});const i=document.createElement("input");if(uc.add(i),i.setAttribute("data-element-id",s),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,s))e.setValue(u.id,{value:!1});e.setValue(s,{value:l})}),i.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;i.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const d=o===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===s;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class W5 extends A2{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class G5 extends vc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");uc.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of r.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,s.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),i=!1),r.append(h)}let o=null;if(i){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),o=()=>{d.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=d=>{const h=d?"value":"textContent",{options:f,multiple:m}=r;return m?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let l=a(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{const h={value(f){o==null||o();const m=f.detail.value,g=new Set(Array.isArray(m)?m:[m]);for(const p of r.options)p.selected=g.has(p.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(f){r.multiple=!0},remove(f){const m=r.options,g=f.detail.remove;m[g].selected=!1,r.remove(g),m.length>0&&Array.prototype.findIndex.call(m,x=>x.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},clear(f){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(f){const{index:m,displayValue:g,exportValue:p}=f.detail.insert,x=r.children[m],v=document.createElement("option");v.textContent=g,v.value=p,x?x.before(v):r.append(v),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},items(f){const{items:m}=f.detail;for(;r.length!==0;)r.remove(0);for(const g of m){const{displayValue:p,exportValue:x}=g,v=document.createElement("option");v.textContent=p,v.value=x,r.append(v)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},indices(f){const m=new Set(f.detail.indices);for(const g of f.target.options)g.selected=m.has(g.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),r.addEventListener("input",d=>{var m;const h=a(!0),f=a(!1);e.setValue(t,{value:h}),d.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Mx extends st{constructor(e){const{data:t,elements:s}=e;super(e,{isRenderable:st._hasPopupData(t)}),this.elements=s,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new q5({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),s=[];for(const r of this.elements)r.popup=t,r.container.ariaHasPopup="dialog",s.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(r=>`${D1}${r}`).join(",")),this.container}}var Wu,By,zy,Gu,qu,Je,bi,Sl,sp,rp,Xu,Ai,Os,Si,ip,Ei,op,El,Cl,Ne,xg,Ix,_2,T2,k2,P2,bg,Ag,Dx;class q5{constructor({container:e,color:t,elements:s,titleObj:r,modificationDate:i,contentsObj:o,richText:a,parent:l,rect:u,parentRect:d,open:h}){S(this,Ne);S(this,Wu,E(this,Ne,k2).bind(this));S(this,By,E(this,Ne,Dx).bind(this));S(this,zy,E(this,Ne,Ag).bind(this));S(this,Gu,E(this,Ne,bg).bind(this));S(this,qu,null);S(this,Je,null);S(this,bi,null);S(this,Sl,null);S(this,sp,null);S(this,rp,null);S(this,Xu,null);S(this,Ai,!1);S(this,Os,null);S(this,Si,null);S(this,ip,null);S(this,Ei,null);S(this,op,null);S(this,El,null);S(this,Cl,!1);var f;A(this,Je,e),A(this,op,r),A(this,bi,o),A(this,Ei,a),A(this,rp,l),A(this,qu,t),A(this,ip,u),A(this,Xu,d),A(this,sp,s),A(this,Sl,F1.toDateObject(i)),this.trigger=s.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",c(this,Gu)),m.addEventListener("mouseenter",c(this,zy)),m.addEventListener("mouseleave",c(this,By)),m.classList.add("popupTriggerArea");for(const m of s)(f=m.container)==null||f.addEventListener("keydown",c(this,Wu));c(this,Je).hidden=!0,h&&E(this,Ne,bg).call(this)}render(){if(c(this,Os))return;const e=A(this,Os,document.createElement("div"));if(e.className="popup",c(this,qu)){const i=e.style.outlineColor=te.makeHexColor(...c(this,qu));e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const t=document.createElement("span");t.className="header";const s=document.createElement("h1");if(t.append(s),{dir:s.dir,str:s.textContent}=c(this,op),e.append(t),c(this,Sl)){const i=document.createElement("time");i.classList.add("popupDate"),i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:c(this,Sl).valueOf()})),i.dateTime=c(this,Sl).toISOString(),t.append(i)}const r=c(this,Ne,xg);if(r)b2.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const i=this._formatContents(c(this,bi));e.append(i)}c(this,Je).append(e)}_formatContents({str:e,dir:t}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let i=0,o=r.length;i<o;++i){const a=r[i];s.append(document.createTextNode(a)),i<o-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:e,popupContent:t}){var s;c(this,El)||A(this,El,{contentsObj:c(this,bi),richText:c(this,Ei)}),e&&A(this,Si,null),t&&(A(this,Ei,E(this,Ne,T2).call(this,t)),A(this,bi,null)),(s=c(this,Os))==null||s.remove(),A(this,Os,null)}resetEdited(){var e;c(this,El)&&({contentsObj:xt(this,bi)._,richText:xt(this,Ei)._}=c(this,El),A(this,El,null),(e=c(this,Os))==null||e.remove(),A(this,Os,null),A(this,Si,null))}forceHide(){A(this,Cl,this.isVisible),c(this,Cl)&&(c(this,Je).hidden=!0)}maybeShow(){c(this,Cl)&&(c(this,Os)||E(this,Ne,Ag).call(this),A(this,Cl,!1),c(this,Je).hidden=!1)}get isVisible(){return c(this,Je).hidden===!1}}Wu=new WeakMap,By=new WeakMap,zy=new WeakMap,Gu=new WeakMap,qu=new WeakMap,Je=new WeakMap,bi=new WeakMap,Sl=new WeakMap,sp=new WeakMap,rp=new WeakMap,Xu=new WeakMap,Ai=new WeakMap,Os=new WeakMap,Si=new WeakMap,ip=new WeakMap,Ei=new WeakMap,op=new WeakMap,El=new WeakMap,Cl=new WeakMap,Ne=new WeakSet,xg=function(){const e=c(this,Ei),t=c(this,bi);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,Ei).html||null},Ix=function(){var e,t,s;return((s=(t=(e=c(this,Ne,xg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.fontSize)||0},_2=function(){var e,t,s;return((s=(t=(e=c(this,Ne,xg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.color)||null},T2=function(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:c(this,Ne,_2),fontSize:c(this,Ne,Ix)?`calc(${c(this,Ne,Ix)}px * var(--total-scale-factor))`:""}};for(const i of e.split(`
`))t.push({name:"span",value:i,attributes:r});return s},k2=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,Ai))&&E(this,Ne,bg).call(this)},P2=function(){if(c(this,Si)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:r,pageY:i}}}=c(this,rp);let o=!!c(this,Xu),a=o?c(this,Xu):c(this,ip);for(const g of c(this,sp))if(!a||te.intersect(g.data.rect,a)!==null){a=g.data.rect,o=!0;break}const l=te.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),d=o?a[2]-a[0]+5:0,h=l[0]+d,f=l[1];A(this,Si,[100*(h-r)/t,100*(f-i)/s]);const{style:m}=c(this,Je);m.left=`${c(this,Si)[0]}%`,m.top=`${c(this,Si)[1]}%`},bg=function(){A(this,Ai,!c(this,Ai)),c(this,Ai)?(E(this,Ne,Ag).call(this),c(this,Je).addEventListener("click",c(this,Gu)),c(this,Je).addEventListener("keydown",c(this,Wu))):(E(this,Ne,Dx).call(this),c(this,Je).removeEventListener("click",c(this,Gu)),c(this,Je).removeEventListener("keydown",c(this,Wu)))},Ag=function(){c(this,Os)||this.render(),this.isVisible?c(this,Ai)&&c(this,Je).classList.add("focused"):(E(this,Ne,P2).call(this),c(this,Je).hidden=!1,c(this,Je).style.zIndex=parseInt(c(this,Je).style.zIndex)+1e3)},Dx=function(){c(this,Je).classList.remove("focused"),!(c(this,Ai)||!this.isVisible)&&(c(this,Je).hidden=!0,c(this,Je).style.zIndex=parseInt(c(this,Je).style.zIndex)-1e3)};class N2 extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=re.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ap;class X5 extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,ap,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:s,height:r}=this,i=this.svgFactory.create(s,r,!0),o=A(this,ap,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,ap)}addHighlightArea(){this.container.classList.add("highlightArea")}}ap=new WeakMap;var lp;class K5 extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,lp,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:s,height:r}=this,i=this.svgFactory.create(s,r,!0),o=t.borderStyle.width,a=A(this,lp,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",s-o),a.setAttribute("height",r-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,lp)}addHighlightArea(){this.container.classList.add("highlightArea")}}lp=new WeakMap;var cp;class Y5 extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,cp,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:s,height:r}=this,i=this.svgFactory.create(s,r,!0),o=t.borderStyle.width,a=A(this,cp,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",s/2),a.setAttribute("cy",r/2),a.setAttribute("rx",s/2-o/2),a.setAttribute("ry",r/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,cp)}addHighlightArea(){this.container.classList.add("highlightArea")}}cp=new WeakMap;var up;class R2 extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,up,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:s,borderStyle:r,popupRef:i},width:o,height:a}=this;if(!s)return this.container;const l=this.svgFactory.create(o,a,!0);let u=[];for(let h=0,f=s.length;h<f;h+=2){const m=s[h]-t[0],g=t[3]-s[h+1];u.push(`${m},${g}`)}u=u.join(" ");const d=A(this,up,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,up)}addHighlightArea(){this.container.classList.add("highlightArea")}}up=new WeakMap;class Q5 extends R2{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class J5 extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var dp,_l,hp,Ox;class U1 extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,hp);S(this,dp,null);S(this,_l,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?re.HIGHLIGHT:re.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:s,inkLists:r,borderStyle:i,popupRef:o}}=this,{transform:a,width:l,height:u}=E(this,hp,Ox).call(this,s,t),d=this.svgFactory.create(l,u,!0),h=A(this,dp,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",a);for(let f=0,m=r.length;f<m;f++){const g=this.svgFactory.createElement(this.svgElementName);c(this,_l).push(g),g.setAttribute("points",r[f].join(",")),h.append(g)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:s,points:r,rect:i}=t,o=c(this,dp);if(s>=0&&o.setAttribute("stroke-width",s||1),r)for(let a=0,l=c(this,_l).length;a<l;a++)c(this,_l)[a].setAttribute("points",r[a].join(","));if(i){const{transform:a,width:l,height:u}=E(this,hp,Ox).call(this,this.data.rotation,i);o.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return c(this,_l)}addHighlightArea(){this.container.classList.add("highlightArea")}}dp=new WeakMap,_l=new WeakMap,hp=new WeakSet,Ox=function(t,s){switch(t){case 90:return{transform:`rotate(90) translate(${-s[0]},${s[1]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};case 180:return{transform:`rotate(180) translate(${-s[2]},${s[1]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]};case 270:return{transform:`rotate(270) translate(${-s[2]},${s[3]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};default:return{transform:`translate(${-s[0]},${s[3]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]}}};class L2 extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=re.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const s=document.createElement("mark");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class Z5 extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class eB extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class tB extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const s=document.createElement("s");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class M2 extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=re.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var fp,pp,jx;class nB extends st{constructor(t){var r;super(t,{isRenderable:!0});S(this,pp);S(this,fp,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",E(this,pp,jx).bind(this)),A(this,fp,r);const{isMac:i}=zt.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(i?o.metaKey:o.ctrlKey)&&E(this,pp,jx).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return c(this,fp)}addHighlightArea(){this.container.classList.add("highlightArea")}}fp=new WeakMap,pp=new WeakSet,jx=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var mp,Tl,jo,gp,xa,Bx,zx;const Y1=class Y1{constructor({div:e,accessibilityManager:t,annotationCanvasMap:s,annotationEditorUIManager:r,page:i,viewport:o,structTreeLayer:a}){S(this,xa);S(this,mp,null);S(this,Tl,null);S(this,jo,new Map);S(this,gp,null);this.div=e,A(this,mp,t),A(this,Tl,s),A(this,gp,a||null),this.page=i,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return c(this,jo).size>0}async render(e){var o;const{annotations:t}=e,s=this.div;lc(s,this.viewport);const r=new Map,i={data:null,layer:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new by,annotationStorage:e.annotationStorage||new z1,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===ot.POPUP;if(l){const h=r.get(a.id);if(!h)continue;i.elements=h}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;i.data=a;const u=RE.create(i);if(!u.isRenderable)continue;if(!l&&a.popupRef){const h=r.get(a.popupRef);h?h.push(u):r.set(a.popupRef,[u])}const d=u.render();a.hidden&&(d.style.visibility="hidden"),await E(this,xa,Bx).call(this,d,a.id,i.elements),u._isEditable&&(c(this,jo).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}E(this,xa,zx).call(this)}async addLinkAnnotations(e,t){const s={data:null,layer:this.div,linkService:t,svgFactory:new by,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=Y1._defaultBorderStyle),s.data=r;const i=RE.create(s);if(!i.isRenderable)continue;const o=i.render();await E(this,xa,Bx).call(this,o,r.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,lc(t,{rotation:e.rotation}),E(this,xa,zx).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,jo).values())}getEditableAnnotation(e){return c(this,jo).get(e)}static get _defaultBorderStyle(){return pe(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Cc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};mp=new WeakMap,Tl=new WeakMap,jo=new WeakMap,gp=new WeakMap,xa=new WeakSet,Bx=async function(e,t,s){var a,l;const r=e.firstChild||e,i=r.id=`${D1}${t}`,o=await((a=c(this,gp))==null?void 0:a.getAriaAttributes(i));if(o)for(const[u,d]of o)r.setAttribute(u,d);s?s.at(-1).container.after(e):(this.div.append(e),(l=c(this,mp))==null||l.moveElementInDOM(this.div,e,r,!1))},zx=function(){var t;if(!c(this,Tl))return;const e=this.div;for(const[s,r]of c(this,Tl)){const i=e.querySelector(`[data-annotation-id="${s}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:o}=i;o?o.nodeName==="CANVAS"?o.replaceWith(r):o.classList.contains("annotationContent")?o.after(r):o.before(r):i.append(r);const a=c(this,jo).get(s);a&&(a._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(s,i.id,r),a._hasNoCanvas=!1):a.canvas=r)}c(this,Tl).clear()};let Fx=Y1;const Fm=/\r\n?|\n/g;var js,Bn,yp,kl,zn,dt,I2,D2,O2,Sg,Bi,Eg,Cg,j2,Hx,F2;const Me=class Me extends De{constructor(t){super({...t,name:"freeTextEditor"});S(this,dt);S(this,js);S(this,Bn,"");S(this,yp,`${this.id}-editor`);S(this,kl,null);S(this,zn);A(this,js,t.color||Me._defaultColor||De._defaultLineColor),A(this,zn,t.fontSize||Me._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=Me.prototype,s=o=>o.isEmpty(),r=cc.TRANSLATE_SMALL,i=cc.TRANSLATE_BIG;return pe(this,"_keyboardManager",new Qp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:s}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:s}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:s}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:s}]]))}static initialize(t,s){De.initialize(t,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,s){switch(t){case me.FREETEXT_SIZE:Me._defaultFontSize=s;break;case me.FREETEXT_COLOR:Me._defaultColor=s;break}}updateParams(t,s){switch(t){case me.FREETEXT_SIZE:E(this,dt,I2).call(this,s);break;case me.FREETEXT_COLOR:E(this,dt,D2).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[me.FREETEXT_SIZE,Me._defaultFontSize],[me.FREETEXT_COLOR,Me._defaultColor||De._defaultLineColor]]}get propertiesToUpdate(){return[[me.FREETEXT_SIZE,c(this,zn)],[me.FREETEXT_COLOR,c(this,js)]]}_translateEmpty(t,s){this._uiManager.translateSelectedEditors(t,s,!0)}getInitialTranslation(){const t=this.parentScale;return[-Me._internalPadding*t,-(Me._internalPadding+c(this,zn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),A(this,kl,new AbortController);const t=this._uiManager.combinedSignal(c(this,kl));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,yp)),this._isDraggable=!0,(t=c(this,kl))==null||t.abort(),A(this,kl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var s;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(s=this._initialOptions)!=null&&s.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,Bn),s=A(this,Bn,E(this,dt,O2).call(this).trimEnd());if(t===s)return;const r=i=>{if(A(this,Bn,i),!i){this.remove();return}E(this,dt,Cg).call(this),this._uiManager.rebuild(this),E(this,dt,Sg).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(t)},mustExec:!1}),E(this,dt,Sg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Me._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,s;(this._isCopy||this.annotationElementId)&&(t=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,yp)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${c(this,zn)}px * var(--total-scale-factor))`,r.color=c(this,js),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[f,m]=this.pageTranslation;let g,p;switch(this.rotation){case 0:g=t+(a[0]-f)/d,p=s+this.height-(a[1]-m)/h;break;case 90:g=t+(a[0]-f)/d,p=s-(a[1]-m)/h,[l,u]=[u,-l];break;case 180:g=t-this.width+(a[0]-f)/d,p=s-(a[1]-m)/h,[l,u]=[-l,-u];break;case 270:g=t+(a[0]-f-this.height*h)/d,p=s+(a[1]-m-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(g*i,p*o,l,u)}else this._moveAfterPaste(t,s);E(this,dt,Cg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,p,x;const s=t.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const i=E(g=Me,Bi,Hx).call(g,s.getData("text")||"").replaceAll(Fm,`
`);if(!i)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!i.includes(`
`)){a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:u}=a,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const v=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(Fm,"")),v!==this.editorDiv){let w=d;for(const b of this.editorDiv.childNodes){if(b===v){w=h;continue}w.push(E(p=Me,Bi,Eg).call(p,b))}}d.push(l.nodeValue.slice(0,u).replaceAll(Fm,""))}else if(l===this.editorDiv){let v=d,w=0;for(const b of this.editorDiv.childNodes)w++===u&&(v=h),v.push(E(x=Me,Bi,Eg).call(x,b))}A(this,Bn,`${d.join(`
`)}${i}${h.join(`
`)}`),E(this,dt,Cg).call(this);const f=new Range;let m=Math.sumPrecise(d.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const w=v.nodeValue.length;if(m<=w){f.setStart(v,m),f.setEnd(v,m);break}m-=w}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(t,s,r){var a;let i=null;if(t instanceof N2){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:f,popupRef:m},textContent:g,textPosition:p,parent:{page:{pageNumber:x}}}=t;if(!g||g.length===0)return null;i=t={annotationType:re.FREETEXT,color:Array.from(u),fontSize:l,value:g.join(`
`),position:p,pageIndex:x-1,rect:d.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:m}}const o=await super.deserialize(t,s,r);return A(o,zn,t.fontSize),A(o,js,te.makeHexColor(...t.color)),A(o,Bn,E(a=Me,Bi,Hx).call(a,t.value)),o._initialData=i,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Me._internalPadding*this.parentScale,r=this.getRect(s,s),i=De._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,js)),o={annotationType:re.FREETEXT,color:i,fontSize:c(this,zn),value:E(this,dt,j2).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(o.isCopy=!0,o):this.annotationElementId&&!E(this,dt,F2).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const s=super.renderAnnotationElement(t);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${c(this,zn)}px * var(--total-scale-factor))`,r.color=c(this,js),s.replaceChildren();for(const o of c(this,Bn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),s.append(a)}const i=Me._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(i,i),popupContent:c(this,Bn)}),s}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};js=new WeakMap,Bn=new WeakMap,yp=new WeakMap,kl=new WeakMap,zn=new WeakMap,dt=new WeakSet,I2=function(t){const s=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-c(this,zn))*this.parentScale),A(this,zn,i),E(this,dt,Sg).call(this)},r=c(this,zn);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:me.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},D2=function(t){const s=i=>{A(this,js,this.editorDiv.style.color=i)},r=c(this,js);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:me.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},O2=function(){var r;const t=[];this.editorDiv.normalize();let s=null;for(const i of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(E(r=Me,Bi,Eg).call(r,i)),s=i);return t.join(`
`)},Sg=function(){const[t,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",i.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/s):(this.width=r.height/t,this.height=r.width/s),this.fixAndSetPosition()},Bi=new WeakSet,Eg=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Fm,"")},Cg=function(){if(this.editorDiv.replaceChildren(),!!c(this,Bn))for(const t of c(this,Bn).split(`
`)){const s=document.createElement("div");s.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(s)}},j2=function(){return c(this,Bn).replaceAll(" "," ")},Hx=function(t){return t.replaceAll(" "," ")},F2=function(t){const{value:s,fontSize:r,color:i,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==s||t.fontSize!==r||t.color.some((a,l)=>a!==i[l])||t.pageIndex!==o},S(Me,Bi),H(Me,"_freeTextDefaultContent",""),H(Me,"_internalPadding",0),H(Me,"_defaultColor",null),H(Me,"_defaultFontSize",10),H(Me,"_type","freetext"),H(Me,"_editorType",re.FREETEXT);let $x=Me;class K{toSVGPath(){Pe("Abstract method `toSVGPath` must be implemented.")}get box(){Pe("Abstract getter `box` must be implemented.")}serialize(e,t){Pe("Abstract method `serialize` must be implemented.")}static _rescale(e,t,s,r,i,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a]*r,o[a+1]=s+e[a+1]*i;return o}static _rescaleAndSwap(e,t,s,r,i,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a+1]*r,o[a+1]=s+e[a]*i;return o}static _translate(e,t,s,r){r||(r=new Float32Array(e.length));for(let i=0,o=e.length;i<o;i+=2)r[i]=t+e[i],r[i+1]=s+e[i+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,s,r,i){switch(i){case 90:return[1-t/s,e/r];case 180:return[1-e/s,1-t/r];case 270:return[t/s,1-e/r];default:return[e/s,t/r]}}static _normalizePagePoint(e,t,s){switch(s){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,s,r,i,o){return[(e+5*s)/6,(t+5*r)/6,(5*s+i)/6,(5*r+o)/6,(s+i)/2,(r+o)/2]}}H(K,"PRECISION",1e-4);var $n,Fs,Ku,Yu,Rr,he,Pl,Nl,vp,wp,Qu,Ju,Fo,xp,$y,Hy,wt,ph,B2,z2,$2,H2,U2,V2;const ni=class ni{constructor({x:e,y:t},s,r,i,o,a=0){S(this,wt);S(this,$n);S(this,Fs,[]);S(this,Ku);S(this,Yu);S(this,Rr,[]);S(this,he,new Float32Array(18));S(this,Pl);S(this,Nl);S(this,vp);S(this,wp);S(this,Qu);S(this,Ju);S(this,Fo,[]);A(this,$n,s),A(this,Ju,i*r),A(this,Yu,o),c(this,he).set([NaN,NaN,NaN,NaN,e,t],6),A(this,Ku,a),A(this,wp,c(ni,xp)*r),A(this,vp,c(ni,Hy)*r),A(this,Qu,r),c(this,Fo).push(e,t)}isEmpty(){return isNaN(c(this,he)[8])}add({x:e,y:t}){var L;A(this,Pl,e),A(this,Nl,t);const[s,r,i,o]=c(this,$n);let[a,l,u,d]=c(this,he).subarray(8,12);const h=e-u,f=t-d,m=Math.hypot(h,f);if(m<c(this,vp))return!1;const g=m-c(this,wp),p=g/m,x=p*h,v=p*f;let w=a,b=l;a=u,l=d,u+=x,d+=v,(L=c(this,Fo))==null||L.push(e,t);const C=-v/g,_=x/g,k=C*c(this,Ju),P=_*c(this,Ju);return c(this,he).set(c(this,he).subarray(2,8),0),c(this,he).set([u+k,d+P],4),c(this,he).set(c(this,he).subarray(14,18),12),c(this,he).set([u-k,d-P],16),isNaN(c(this,he)[6])?(c(this,Rr).length===0&&(c(this,he).set([a+k,l+P],2),c(this,Rr).push(NaN,NaN,NaN,NaN,(a+k-s)/i,(l+P-r)/o),c(this,he).set([a-k,l-P],14),c(this,Fs).push(NaN,NaN,NaN,NaN,(a-k-s)/i,(l-P-r)/o)),c(this,he).set([w,b,a,l,u,d],6),!this.isEmpty()):(c(this,he).set([w,b,a,l,u,d],6),Math.abs(Math.atan2(b-l,w-a)-Math.atan2(v,x))<Math.PI/2?([a,l,u,d]=c(this,he).subarray(2,6),c(this,Rr).push(NaN,NaN,NaN,NaN,((a+u)/2-s)/i,((l+d)/2-r)/o),[a,l,w,b]=c(this,he).subarray(14,18),c(this,Fs).push(NaN,NaN,NaN,NaN,((w+a)/2-s)/i,((b+l)/2-r)/o),!0):([w,b,a,l,u,d]=c(this,he).subarray(0,6),c(this,Rr).push(((w+5*a)/6-s)/i,((b+5*l)/6-r)/o,((5*a+u)/6-s)/i,((5*l+d)/6-r)/o,((a+u)/2-s)/i,((l+d)/2-r)/o),[u,d,a,l,w,b]=c(this,he).subarray(12,18),c(this,Fs).push(((w+5*a)/6-s)/i,((b+5*l)/6-r)/o,((5*a+u)/6-s)/i,((5*l+d)/6-r)/o,((a+u)/2-s)/i,((l+d)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,Rr),t=c(this,Fs);if(isNaN(c(this,he)[6])&&!this.isEmpty())return E(this,wt,B2).call(this);const s=[];s.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);E(this,wt,$2).call(this,s);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return E(this,wt,z2).call(this,s),s.join(" ")}newFreeDrawOutline(e,t,s,r,i,o){return new W2(e,t,s,r,i,o)}getOutlines(){var h;const e=c(this,Rr),t=c(this,Fs),s=c(this,he),[r,i,o,a]=c(this,$n),l=new Float32Array((((h=c(this,Fo))==null?void 0:h.length)??0)+2);for(let f=0,m=l.length-2;f<m;f+=2)l[f]=(c(this,Fo)[f]-r)/o,l[f+1]=(c(this,Fo)[f+1]-i)/a;if(l[l.length-2]=(c(this,Pl)-r)/o,l[l.length-1]=(c(this,Nl)-i)/a,isNaN(s[6])&&!this.isEmpty())return E(this,wt,H2).call(this,l);const u=new Float32Array(c(this,Rr).length+24+c(this,Fs).length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}d=E(this,wt,V2).call(this,u,d);for(let f=t.length-6;f>=6;f-=6)for(let m=0;m<6;m+=2){if(isNaN(t[f+m])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[f+m],u[d+1]=t[f+m+1],d+=2}return E(this,wt,U2).call(this,u,d),this.newFreeDrawOutline(u,l,c(this,$n),c(this,Qu),c(this,Ku),c(this,Yu))}};$n=new WeakMap,Fs=new WeakMap,Ku=new WeakMap,Yu=new WeakMap,Rr=new WeakMap,he=new WeakMap,Pl=new WeakMap,Nl=new WeakMap,vp=new WeakMap,wp=new WeakMap,Qu=new WeakMap,Ju=new WeakMap,Fo=new WeakMap,xp=new WeakMap,$y=new WeakMap,Hy=new WeakMap,wt=new WeakSet,ph=function(){const e=c(this,he).subarray(4,6),t=c(this,he).subarray(16,18),[s,r,i,o]=c(this,$n);return[(c(this,Pl)+(e[0]-t[0])/2-s)/i,(c(this,Nl)+(e[1]-t[1])/2-r)/o,(c(this,Pl)+(t[0]-e[0])/2-s)/i,(c(this,Nl)+(t[1]-e[1])/2-r)/o]},B2=function(){const[e,t,s,r]=c(this,$n),[i,o,a,l]=E(this,wt,ph).call(this);return`M${(c(this,he)[2]-e)/s} ${(c(this,he)[3]-t)/r} L${(c(this,he)[4]-e)/s} ${(c(this,he)[5]-t)/r} L${i} ${o} L${a} ${l} L${(c(this,he)[16]-e)/s} ${(c(this,he)[17]-t)/r} L${(c(this,he)[14]-e)/s} ${(c(this,he)[15]-t)/r} Z`},z2=function(e){const t=c(this,Fs);e.push(`L${t[4]} ${t[5]} Z`)},$2=function(e){const[t,s,r,i]=c(this,$n),o=c(this,he).subarray(4,6),a=c(this,he).subarray(16,18),[l,u,d,h]=E(this,wt,ph).call(this);e.push(`L${(o[0]-t)/r} ${(o[1]-s)/i} L${l} ${u} L${d} ${h} L${(a[0]-t)/r} ${(a[1]-s)/i}`)},H2=function(e){const t=c(this,he),[s,r,i,o]=c(this,$n),[a,l,u,d]=E(this,wt,ph).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-s)/i,(t[3]-r)/o,NaN,NaN,NaN,NaN,(t[4]-s)/i,(t[5]-r)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-s)/i,(t[17]-r)/o,NaN,NaN,NaN,NaN,(t[14]-s)/i,(t[15]-r)/o],0),this.newFreeDrawOutline(h,e,c(this,$n),c(this,Qu),c(this,Ku),c(this,Yu))},U2=function(e,t){const s=c(this,Fs);return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+=6},V2=function(e,t){const s=c(this,he).subarray(4,6),r=c(this,he).subarray(16,18),[i,o,a,l]=c(this,$n),[u,d,h,f]=E(this,wt,ph).call(this);return e.set([NaN,NaN,NaN,NaN,(s[0]-i)/a,(s[1]-o)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(r[0]-i)/a,(r[1]-o)/l],t),t+=24},S(ni,xp,8),S(ni,$y,2),S(ni,Hy,c(ni,xp)+c(ni,$y));let Ay=ni;var Zu,Rl,Ci,bp,Hn,Ap,tt,Uy,G2;class W2 extends K{constructor(t,s,r,i,o,a){super();S(this,Uy);S(this,Zu);S(this,Rl,new Float32Array(4));S(this,Ci);S(this,bp);S(this,Hn);S(this,Ap);S(this,tt);A(this,tt,t),A(this,Hn,s),A(this,Zu,r),A(this,Ap,i),A(this,Ci,o),A(this,bp,a),this.lastPoint=[NaN,NaN],E(this,Uy,G2).call(this,a);const[l,u,d,h]=c(this,Rl);for(let f=0,m=t.length;f<m;f+=2)t[f]=(t[f]-l)/d,t[f+1]=(t[f+1]-u)/h;for(let f=0,m=s.length;f<m;f+=2)s[f]=(s[f]-l)/d,s[f+1]=(s[f+1]-u)/h}toSVGPath(){const t=[`M${c(this,tt)[4]} ${c(this,tt)[5]}`];for(let s=6,r=c(this,tt).length;s<r;s+=6){if(isNaN(c(this,tt)[s])){t.push(`L${c(this,tt)[s+4]} ${c(this,tt)[s+5]}`);continue}t.push(`C${c(this,tt)[s]} ${c(this,tt)[s+1]} ${c(this,tt)[s+2]} ${c(this,tt)[s+3]} ${c(this,tt)[s+4]} ${c(this,tt)[s+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,s,r,i],o){const a=r-t,l=i-s;let u,d;switch(o){case 0:u=K._rescale(c(this,tt),t,i,a,-l),d=K._rescale(c(this,Hn),t,i,a,-l);break;case 90:u=K._rescaleAndSwap(c(this,tt),t,s,a,l),d=K._rescaleAndSwap(c(this,Hn),t,s,a,l);break;case 180:u=K._rescale(c(this,tt),r,s,-a,l),d=K._rescale(c(this,Hn),r,s,-a,l);break;case 270:u=K._rescaleAndSwap(c(this,tt),r,i,-a,-l),d=K._rescaleAndSwap(c(this,Hn),r,i,-a,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return c(this,Rl)}newOutliner(t,s,r,i,o,a=0){return new Ay(t,s,r,i,o,a)}getNewOutline(t,s){const[r,i,o,a]=c(this,Rl),[l,u,d,h]=c(this,Zu),f=o*d,m=a*h,g=r*d+l,p=i*h+u,x=this.newOutliner({x:c(this,Hn)[0]*f+g,y:c(this,Hn)[1]*m+p},c(this,Zu),c(this,Ap),t,c(this,bp),s??c(this,Ci));for(let v=2;v<c(this,Hn).length;v+=2)x.add({x:c(this,Hn)[v]*f+g,y:c(this,Hn)[v+1]*m+p});return x.getOutlines()}}Zu=new WeakMap,Rl=new WeakMap,Ci=new WeakMap,bp=new WeakMap,Hn=new WeakMap,Ap=new WeakMap,tt=new WeakMap,Uy=new WeakSet,G2=function(t){const s=c(this,tt);let r=s[4],i=s[5];const o=[r,i,r,i];let a=r,l=i;const u=t?Math.max:Math.min;for(let h=6,f=s.length;h<f;h+=6){const m=s[h+4],g=s[h+5];if(isNaN(s[h]))te.pointBoundingBox(m,g,o),l<g?(a=m,l=g):l===g&&(a=u(a,m));else{const p=[1/0,1/0,-1/0,-1/0];te.bezierBoundingBox(r,i,...s.slice(h,h+6),p),te.rectBoundingBox(...p,o),l<p[3]?(a=p[2],l=p[3]):l===p[3]&&(a=u(a,p[2]))}r=m,i=g}const d=c(this,Rl);d[0]=o[0]-c(this,Ci),d[1]=o[1]-c(this,Ci),d[2]=o[2]-o[0]+2*c(this,Ci),d[3]=o[3]-o[1]+2*c(this,Ci),this.lastPoint=[a,l]};var Sp,Ep,Bo,Bs,pn,q2,_g,X2,K2,Vx;class Ux{constructor(e,t=0,s=0,r=!0){S(this,pn);S(this,Sp);S(this,Ep);S(this,Bo,[]);S(this,Bs,[]);const i=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:g,y:p,width:x,height:v}of e){const w=Math.floor((g-t)/a)*a,b=Math.ceil((g+x+t)/a)*a,C=Math.floor((p-t)/a)*a,_=Math.ceil((p+v+t)/a)*a,k=[w,C,_,!0],P=[b,C,_,!1];c(this,Bo).push(k,P),te.rectBoundingBox(w,C,b,_,i)}const l=i[2]-i[0]+2*s,u=i[3]-i[1]+2*s,d=i[0]-s,h=i[1]-s,f=c(this,Bo).at(r?-1:-2),m=[f[0],f[2]];for(const g of c(this,Bo)){const[p,x,v]=g;g[0]=(p-d)/l,g[1]=(x-h)/u,g[2]=(v-h)/u}A(this,Sp,new Float32Array([d,h,l,u])),A(this,Ep,m)}getOutlines(){c(this,Bo).sort((t,s)=>t[0]-s[0]||t[1]-s[1]||t[2]-s[2]);const e=[];for(const t of c(this,Bo))t[3]?(e.push(...E(this,pn,Vx).call(this,t)),E(this,pn,X2).call(this,t)):(E(this,pn,K2).call(this,t),e.push(...E(this,pn,Vx).call(this,t)));return E(this,pn,q2).call(this,e)}}Sp=new WeakMap,Ep=new WeakMap,Bo=new WeakMap,Bs=new WeakMap,pn=new WeakSet,q2=function(e){const t=[],s=new Set;for(const o of e){const[a,l,u]=o;t.push([a,l,o],[a,u,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],u=t[o+1][2];l.push(u),u.push(l),s.add(l),s.add(u)}const r=[];let i;for(;s.size>0;){const o=s.values().next().value;let[a,l,u,d,h]=o;s.delete(o);let f=a,m=l;for(i=[a,u],r.push(i);;){let g;if(s.has(d))g=d;else if(s.has(h))g=h;else break;s.delete(g),[a,l,u,d,h]=g,f!==a&&(i.push(f,m,a,m===l?l:u),f=a),m=m===l?u:l}i.push(f,m)}return new sB(r,c(this,Sp),c(this,Ep))},_g=function(e){const t=c(this,Bs);let s=0,r=t.length-1;for(;s<=r;){const i=s+r>>1,o=t[i][0];if(o===e)return i;o<e?s=i+1:r=i-1}return r+1},X2=function([,e,t]){const s=E(this,pn,_g).call(this,e);c(this,Bs).splice(s,0,[e,t])},K2=function([,e,t]){const s=E(this,pn,_g).call(this,e);for(let r=s;r<c(this,Bs).length;r++){const[i,o]=c(this,Bs)[r];if(i!==e)break;if(i===e&&o===t){c(this,Bs).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[i,o]=c(this,Bs)[r];if(i!==e)break;if(i===e&&o===t){c(this,Bs).splice(r,1);return}}},Vx=function(e){const[t,s,r]=e,i=[[t,s,r]],o=E(this,pn,_g).call(this,r);for(let a=0;a<o;a++){const[l,u]=c(this,Bs)[a];for(let d=0,h=i.length;d<h;d++){const[,f,m]=i[d];if(!(u<=f||m<=l)){if(f>=l){if(m>u)i[d][1]=u;else{if(h===1)return[];i.splice(d,1),d--,h--}continue}i[d][2]=l,m>u&&i.push([t,u,m])}}}return i};var Cp,ed;class sB extends K{constructor(t,s,r){super();S(this,Cp);S(this,ed);A(this,ed,t),A(this,Cp,s),this.lastPoint=r}toSVGPath(){const t=[];for(const s of c(this,ed)){let[r,i]=s;t.push(`M${r} ${i}`);for(let o=2;o<s.length;o+=2){const a=s[o],l=s[o+1];a===r?(t.push(`V${l}`),i=l):l===i&&(t.push(`H${a}`),r=a)}t.push("Z")}return t.join(" ")}serialize([t,s,r,i],o){const a=[],l=r-t,u=i-s;for(const d of c(this,ed)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*l,h[f+1]=i-d[f+1]*u;a.push(h)}return a}get box(){return c(this,Cp)}get classNamesForOutlining(){return["highlightOutline"]}}Cp=new WeakMap,ed=new WeakMap;class Wx extends Ay{newFreeDrawOutline(e,t,s,r,i,o){return new rB(e,t,s,r,i,o)}}class rB extends W2{newOutliner(e,t,s,r,i,o=0){return new Wx(e,t,s,r,i,o)}}var Un,Ll,td,mt,_p,nd,_i,Tp,zo,zs,sd,kp,ke,Gx,qx,Xx,Pa,Y2,no;const xn=class xn{constructor({editor:e=null,uiManager:t=null}){S(this,ke);S(this,Un,null);S(this,Ll,null);S(this,td);S(this,mt,null);S(this,_p,!1);S(this,nd,!1);S(this,_i,null);S(this,Tp);S(this,zo,null);S(this,zs,null);S(this,sd);var s,r;e?(A(this,nd,!1),A(this,sd,me.HIGHLIGHT_COLOR),A(this,_i,e)):(A(this,nd,!0),A(this,sd,me.HIGHLIGHT_DEFAULT_COLOR)),A(this,zs,(e==null?void 0:e._uiManager)||t),A(this,Tp,c(this,zs)._eventBus),A(this,td,((s=e==null?void 0:e.color)==null?void 0:s.toUpperCase())||((r=c(this,zs))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),c(xn,kp)||A(xn,kp,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return pe(this,"_keyboardManager",new Qp([[["Escape","mac+Escape"],xn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],xn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],xn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],xn.prototype._moveToPrevious],[["Home","mac+Home"],xn.prototype._moveToBeginning],[["End","mac+End"],xn.prototype._moveToEnd]]))}renderButton(){const e=A(this,Un,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",c(this,_i)&&(e.ariaControls=`${c(this,_i).id}_colorpicker_dropdown`);const t=c(this,zs)._signal;e.addEventListener("click",E(this,ke,Pa).bind(this),{signal:t}),e.addEventListener("keydown",E(this,ke,Xx).bind(this),{signal:t});const s=A(this,Ll,document.createElement("span"));return s.className="swatch",s.ariaHidden="true",s.style.backgroundColor=c(this,td),e.append(s),e}renderMainDropdown(){const e=A(this,mt,E(this,ke,Gx).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===c(this,Un)){E(this,ke,Pa).call(this,e);return}const t=e.target.getAttribute("data-color");t&&E(this,ke,qx).call(this,t,e)}_moveToNext(e){var t,s;if(!c(this,ke,no)){E(this,ke,Pa).call(this,e);return}if(e.target===c(this,Un)){(t=c(this,mt).firstChild)==null||t.focus();return}(s=e.target.nextSibling)==null||s.focus()}_moveToPrevious(e){var t,s;if(e.target===((t=c(this,mt))==null?void 0:t.firstChild)||e.target===c(this,Un)){c(this,ke,no)&&this._hideDropdownFromKeyboard();return}c(this,ke,no)||E(this,ke,Pa).call(this,e),(s=e.target.previousSibling)==null||s.focus()}_moveToBeginning(e){var t;if(!c(this,ke,no)){E(this,ke,Pa).call(this,e);return}(t=c(this,mt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,ke,no)){E(this,ke,Pa).call(this,e);return}(t=c(this,mt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=c(this,mt))==null||e.classList.add("hidden"),c(this,Un).ariaExpanded="false",(t=c(this,zo))==null||t.abort(),A(this,zo,null)}_hideDropdownFromKeyboard(){var e;if(!c(this,nd)){if(!c(this,ke,no)){(e=c(this,_i))==null||e.unselect();return}this.hideDropdown(),c(this,Un).focus({preventScroll:!0,focusVisible:c(this,_p)})}}updateColor(e){if(c(this,Ll)&&(c(this,Ll).style.backgroundColor=e),!c(this,mt))return;const t=c(this,zs).highlightColors.values();for(const s of c(this,mt).children)s.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=c(this,Un))==null||e.remove(),A(this,Un,null),A(this,Ll,null),(t=c(this,mt))==null||t.remove(),A(this,mt,null)}};Un=new WeakMap,Ll=new WeakMap,td=new WeakMap,mt=new WeakMap,_p=new WeakMap,nd=new WeakMap,_i=new WeakMap,Tp=new WeakMap,zo=new WeakMap,zs=new WeakMap,sd=new WeakMap,kp=new WeakMap,ke=new WeakSet,Gx=function(){const e=document.createElement("div"),t=c(this,zs)._signal;e.addEventListener("contextmenu",er,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),c(this,_i)&&(e.id=`${c(this,_i).id}_colorpicker_dropdown`);for(const[s,r]of c(this,zs).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=s,i.setAttribute("data-l10n-id",c(xn,kp)[s]);const o=document.createElement("span");i.append(o),o.className="swatch",o.style.backgroundColor=r,i.ariaSelected=r===c(this,td),i.addEventListener("click",E(this,ke,qx).bind(this,r),{signal:t}),e.append(i)}return e.addEventListener("keydown",E(this,ke,Xx).bind(this),{signal:t}),e},qx=function(e,t){t.stopPropagation(),c(this,Tp).dispatch("switchannotationeditorparams",{source:this,type:c(this,sd),value:e})},Xx=function(e){xn._keyboardManager.exec(this,e)},Pa=function(e){if(c(this,ke,no)){this.hideDropdown();return}if(A(this,_p,e.detail===0),c(this,zo)||(A(this,zo,new AbortController),window.addEventListener("pointerdown",E(this,ke,Y2).bind(this),{signal:c(this,zs).combinedSignal(c(this,zo))})),c(this,Un).ariaExpanded="true",c(this,mt)){c(this,mt).classList.remove("hidden");return}const t=A(this,mt,E(this,ke,Gx).call(this));c(this,Un).append(t)},Y2=function(e){var t;(t=c(this,mt))!=null&&t.contains(e.target)||this.hideDropdown()},no=function(){return c(this,mt)&&!c(this,mt).classList.contains("hidden")},S(xn,kp,null);let Sy=xn;var rd,Pp,Ti,Ml,Np,Sn,Rp,Lp,Il,ms,Vn,It,id,ki,Kt,od,gs,Mp,ae,Kx,Tg,Q2,J2,Z2,Yx,Na,xs,Nc,eN,kg,mh,tN,nN,sN,rN,iN;const be=class be extends De{constructor(t){super({...t,name:"highlightEditor"});S(this,ae);S(this,rd,null);S(this,Pp,0);S(this,Ti);S(this,Ml,null);S(this,Np,null);S(this,Sn,null);S(this,Rp,null);S(this,Lp,0);S(this,Il,null);S(this,ms,null);S(this,Vn,null);S(this,It,!1);S(this,id,null);S(this,ki);S(this,Kt,null);S(this,od,"");S(this,gs);S(this,Mp,"");this.color=t.color||be._defaultColor,A(this,gs,t.thickness||be._defaultThickness),A(this,ki,t.opacity||be._defaultOpacity),A(this,Ti,t.boxes||null),A(this,Mp,t.methodOfCreation||""),A(this,od,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(A(this,It,!0),E(this,ae,Tg).call(this,t),E(this,ae,Na).call(this)):c(this,Ti)&&(A(this,rd,t.anchorNode),A(this,Pp,t.anchorOffset),A(this,Rp,t.focusNode),A(this,Lp,t.focusOffset),E(this,ae,Kx).call(this),E(this,ae,Na).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=be.prototype;return pe(this,"_keyboardManager",new Qp([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,It)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,gs),methodOfCreation:c(this,Mp)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,s){var r;De.initialize(t,s),be._defaultColor||(be._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,s){switch(t){case me.HIGHLIGHT_DEFAULT_COLOR:be._defaultColor=s;break;case me.HIGHLIGHT_THICKNESS:be._defaultThickness=s;break}}translateInPage(t,s){}get toolbarPosition(){return c(this,id)}updateParams(t,s){switch(t){case me.HIGHLIGHT_COLOR:E(this,ae,Q2).call(this,s);break;case me.HIGHLIGHT_THICKNESS:E(this,ae,J2).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[me.HIGHLIGHT_DEFAULT_COLOR,be._defaultColor],[me.HIGHLIGHT_THICKNESS,be._defaultThickness]]}get propertiesToUpdate(){return[[me.HIGHLIGHT_COLOR,this.color||be._defaultColor],[me.HIGHLIGHT_THICKNESS,c(this,gs)||be._defaultThickness],[me.HIGHLIGHT_FREE,c(this,It)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",A(this,Np,new Sy({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(E(this,ae,mh).call(this))}getBaseTranslation(){return[0,0]}getRect(t,s){return super.getRect(t,s,E(this,ae,mh).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){E(this,ae,Yx).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,ae,Na).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let s=!1;this.parent&&!t?E(this,ae,Yx).call(this):t&&(E(this,ae,Na).call(this,t),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),s&&this.select()}rotate(t){var i,o,a;const{drawLayer:s}=this.parent;let r;c(this,It)?(t=(t-this.rotation+360)%360,r=E(i=be,xs,Nc).call(i,c(this,ms).box,t)):r=E(o=be,xs,Nc).call(o,[this.x,this.y,this.width,this.height],t),s.updateProperties(c(this,Vn),{bbox:r,root:{"data-main-rotation":t}}),s.updateProperties(c(this,Kt),{bbox:E(a=be,xs,Nc).call(a,c(this,Sn).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();c(this,od)&&(t.setAttribute("aria-label",c(this,od)),t.setAttribute("role","mark")),c(this,It)?t.classList.add("free"):this.div.addEventListener("keydown",E(this,ae,eN).bind(this),{signal:this._uiManager._signal});const s=A(this,Il,document.createElement("div"));t.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=c(this,Ml);const[r,i]=this.parentDimensions;return this.setDims(this.width*r,this.height*i),SP(this,c(this,Il),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(c(this,Kt),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(c(this,Kt),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:E(this,ae,kg).call(this,!0);break;case 1:case 3:E(this,ae,kg).call(this,!1);break}}select(){var t;super.select(),c(this,Kt)&&((t=this.parent)==null||t.drawLayer.updateProperties(c(this,Kt),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),c(this,Kt)&&((t=this.parent)==null||t.drawLayer.updateProperties(c(this,Kt),{rootClass:{selected:!1}}),c(this,It)||E(this,ae,kg).call(this,!1))}get _mustFixPosition(){return!c(this,It)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(c(this,Vn),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(c(this,Kt),{rootClass:{hidden:!t}}))}static startHighlighting(t,s,{target:r,x:i,y:o}){const{x:a,y:l,width:u,height:d}=r.getBoundingClientRect(),h=new AbortController,f=t.combinedSignal(h),m=g=>{h.abort(),E(this,xs,rN).call(this,t,g)};window.addEventListener("blur",m,{signal:f}),window.addEventListener("pointerup",m,{signal:f}),window.addEventListener("pointerdown",at,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",er,{signal:f}),r.addEventListener("pointermove",E(this,xs,sN).bind(this,t),{signal:f}),this._freeHighlight=new Wx({x:i,y:o},[a,l,u,d],t.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,s,r){var p,x,v,w;let i=null;if(t instanceof L2){const{data:{quadPoints:b,rect:C,rotation:_,id:k,color:P,opacity:N,popupRef:L},parent:{page:{pageNumber:M}}}=t;i=t={annotationType:re.HIGHLIGHT,color:Array.from(P),opacity:N,quadPoints:b,boxes:null,pageIndex:M-1,rect:C.slice(0),rotation:_,annotationElementId:k,id:k,deleted:!1,popupRef:L}}else if(t instanceof U1){const{data:{inkLists:b,rect:C,rotation:_,id:k,color:P,borderStyle:{rawWidth:N},popupRef:L},parent:{page:{pageNumber:M}}}=t;i=t={annotationType:re.HIGHLIGHT,color:Array.from(P),thickness:N,inkLists:b,boxes:null,pageIndex:M-1,rect:C.slice(0),rotation:_,annotationElementId:k,id:k,deleted:!1,popupRef:L}}const{color:o,quadPoints:a,inkLists:l,opacity:u}=t,d=await super.deserialize(t,s,r);d.color=te.makeHexColor(...o),A(d,ki,u||1),l&&A(d,gs,t.thickness),d._initialData=i;const[h,f]=d.pageDimensions,[m,g]=d.pageTranslation;if(a){const b=A(d,Ti,[]);for(let C=0;C<a.length;C+=8)b.push({x:(a[C]-m)/h,y:1-(a[C+1]-g)/f,width:(a[C+2]-a[C])/h,height:(a[C+1]-a[C+5])/f});E(p=d,ae,Kx).call(p),E(x=d,ae,Na).call(x),d.rotate(d.rotation)}else if(l){A(d,It,!0);const b=l[0],C={x:b[0]-m,y:f-(b[1]-g)},_=new Wx(C,[0,0,h,f],1,c(d,gs)/2,!0,.001);for(let N=0,L=b.length;N<L;N+=2)C.x=b[N]-m,C.y=f-(b[N+1]-g),_.add(C);const{id:k,clipPathId:P}=s.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:_.toSVGPath()}},!0,!0);E(v=d,ae,Tg).call(v,{highlightOutlines:_.getOutlines(),highlightId:k,clipPathId:P}),E(w=d,ae,Na).call(w),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=De._colorManager.convert(this.color),i={annotationType:re.HIGHLIGHT,color:r,opacity:c(this,ki),thickness:c(this,gs),quadPoints:E(this,ae,tN).call(this),outlines:E(this,ae,nN).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:E(this,ae,mh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!E(this,ae,iN).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};rd=new WeakMap,Pp=new WeakMap,Ti=new WeakMap,Ml=new WeakMap,Np=new WeakMap,Sn=new WeakMap,Rp=new WeakMap,Lp=new WeakMap,Il=new WeakMap,ms=new WeakMap,Vn=new WeakMap,It=new WeakMap,id=new WeakMap,ki=new WeakMap,Kt=new WeakMap,od=new WeakMap,gs=new WeakMap,Mp=new WeakMap,ae=new WeakSet,Kx=function(){const t=new Ux(c(this,Ti),.001);A(this,ms,t.getOutlines()),[this.x,this.y,this.width,this.height]=c(this,ms).box;const s=new Ux(c(this,Ti),.0025,.001,this._uiManager.direction==="ltr");A(this,Sn,s.getOutlines());const{lastPoint:r}=c(this,Sn);A(this,id,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Tg=function({highlightOutlines:t,highlightId:s,clipPathId:r}){var h,f;if(A(this,ms,t),A(this,Sn,t.getNewOutline(c(this,gs)/2+1.5,.0025)),s>=0)A(this,Vn,s),A(this,Ml,r),this.parent.drawLayer.finalizeDraw(s,{bbox:t.box,path:{d:t.toSVGPath()}}),A(this,Kt,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:c(this,Sn).box,path:{d:c(this,Sn).toSVGPath()}},!0));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(c(this,Vn),{bbox:E(h=be,xs,Nc).call(h,c(this,ms).box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(c(this,Kt),{bbox:E(f=be,xs,Nc).call(f,c(this,Sn).box,m),path:{d:c(this,Sn).toSVGPath()}})}const[o,a,l,u]=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=u;break;case 90:{const[m,g]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*g/m,this.height=u*m/g;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[m,g]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*g/m,this.height=u*m/g;break}}const{lastPoint:d}=c(this,Sn);A(this,id,[(d[0]-o)/l,(d[1]-a)/u])},Q2=function(t){const s=(o,a)=>{var l,u;this.color=o,A(this,ki,a),(l=this.parent)==null||l.drawLayer.updateProperties(c(this,Vn),{root:{fill:o,"fill-opacity":a}}),(u=c(this,Np))==null||u.updateColor(o)},r=this.color,i=c(this,ki);this.addCommands({cmd:s.bind(this,t,be._defaultOpacity),undo:s.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:me.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},J2=function(t){const s=c(this,gs),r=i=>{A(this,gs,i),E(this,ae,Z2).call(this,i)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:me.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},Z2=function(t){if(!c(this,It))return;E(this,ae,Tg).call(this,{highlightOutlines:c(this,ms).getNewOutline(t/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},Yx=function(){c(this,Vn)===null||!this.parent||(this.parent.drawLayer.remove(c(this,Vn)),A(this,Vn,null),this.parent.drawLayer.remove(c(this,Kt)),A(this,Kt,null))},Na=function(t=this.parent){c(this,Vn)===null&&({id:xt(this,Vn)._,clipPathId:xt(this,Ml)._}=t.drawLayer.draw({bbox:c(this,ms).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":c(this,ki)},rootClass:{highlight:!0,free:c(this,It)},path:{d:c(this,ms).toSVGPath()}},!1,!0),A(this,Kt,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:c(this,It)},bbox:c(this,Sn).box,path:{d:c(this,Sn).toSVGPath()}},c(this,It))),c(this,Il)&&(c(this,Il).style.clipPath=c(this,Ml)))},xs=new WeakSet,Nc=function([t,s,r,i],o){switch(o){case 90:return[1-s-i,t,i,r];case 180:return[1-t-r,1-s-i,r,i];case 270:return[s,1-t-r,i,r]}return[t,s,r,i]},eN=function(t){be._keyboardManager.exec(this,t)},kg=function(t){if(!c(this,rd))return;const s=window.getSelection();t?s.setPosition(c(this,rd),c(this,Pp)):s.setPosition(c(this,Rp),c(this,Lp))},mh=function(){return c(this,It)?this.rotation:0},tN=function(){if(c(this,It))return null;const[t,s]=this.pageDimensions,[r,i]=this.pageTranslation,o=c(this,Ti),a=new Float32Array(o.length*8);let l=0;for(const{x:u,y:d,width:h,height:f}of o){const m=u*t+r,g=(1-d)*s+i;a[l]=a[l+4]=m,a[l+1]=a[l+3]=g,a[l+2]=a[l+6]=m+h*t,a[l+5]=a[l+7]=g-f*s,l+=8}return a},nN=function(t){return c(this,ms).serialize(t,E(this,ae,mh).call(this))},sN=function(t,s){this._freeHighlight.add(s)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},rN=function(t,s){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},iN=function(t){const{color:s}=this._initialData;return t.color.some((r,i)=>r!==s[i])},S(be,xs),H(be,"_defaultColor",null),H(be,"_defaultOpacity",1),H(be,"_defaultThickness",12),H(be,"_type","highlight"),H(be,"_editorType",re.HIGHLIGHT),H(be,"_freeHighlightId",-1),H(be,"_freeHighlight",null),H(be,"_freeHighlightClipId","");let Ey=be;var Dl;class oN{constructor(){S(this,Dl,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,s]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,s)}updateSVGProperty(e,t){c(this,Dl)[e]=t}toSVGProperties(){const e=c(this,Dl);return A(this,Dl,Object.create(null)),{root:e}}reset(){A(this,Dl,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Pe("Not implemented")}}Dl=new WeakMap;var Wn,ad,St,Ol,jl,$o,Ho,Uo,Fl,ve,Qx,Jx,Zx,gh,aN,Pg,yh,Rc;const J=class J extends De{constructor(t){super(t);S(this,ve);S(this,Wn,null);S(this,ad);H(this,"_drawId",null);A(this,ad,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(E(this,ve,Qx).call(this,t),E(this,ve,gh).call(this))}static _mergeSVGProperties(t,s){const r=new Set(Object.keys(t));for(const[i,o]of Object.entries(s))r.has(i)?Object.assign(t[i],o):t[i]=o;return t}static getDefaultDrawingOptions(t){Pe("Not implemented")}static get typesMap(){Pe("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,s){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,s),this._currentParent&&(c(J,St).updateProperty(r,s),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,s){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,s)}static get defaultPropertiesToUpdate(){const t=[],s=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)t.push([r,s[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:s}=this;for(const[r,i]of this.constructor.typesMap)t.push([r,s[i]]);return t}_updateProperty(t,s,r){const i=this._drawingOptions,o=i[s],a=l=>{var d;i.updateProperty(s,l);const u=c(this,Wn).updateProperty(s,l);u&&E(this,ve,yh).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,i.toSVGProperties())};this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties(c(this,Wn).getPathResizingSVGProperties(E(this,ve,Pg).call(this)),{bbox:E(this,ve,Rc).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties(c(this,Wn).getPathResizedSVGProperties(E(this,ve,Pg).call(this)),{bbox:E(this,ve,Rc).call(this)}))}_onTranslating(t,s){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:E(this,ve,Rc).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties(c(this,Wn).getPathTranslatedSVGProperties(E(this,ve,Pg).call(this),this.parentDimensions),{bbox:E(this,ve,Rc).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,c(this,ad)&&(A(this,ad,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){E(this,ve,Zx).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,ve,gh).call(this),E(this,ve,yh).call(this,c(this,Wn).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let s=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),E(this,ve,Zx).call(this)):t&&(this._uiManager.addShouldRescale(this),E(this,ve,gh).call(this,t),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),s&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties({bbox:E(this,ve,Rc).call(this)},c(this,Wn).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&E(this,ve,yh).call(this,c(this,Wn).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,s;this._isCopy&&(t=this.x,s=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[o,a]=this.parentDimensions;return this.setDims(this.width*o,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,s),r}static createDrawerInstance(t,s,r,i,o){Pe("Not implemented")}static startDrawing(t,s,r,i){var x;const{target:o,offsetX:a,offsetY:l,pointerId:u,pointerType:d}=i;if(c(J,Ho)&&c(J,Ho)!==d)return;const{viewport:{rotation:h}}=t,{width:f,height:m}=o.getBoundingClientRect(),g=A(J,Ol,new AbortController),p=t.combinedSignal(g);if(c(J,$o)||A(J,$o,u),c(J,Ho)??A(J,Ho,d),window.addEventListener("pointerup",v=>{var w;c(J,$o)===v.pointerId?this._endDraw(v):(w=c(J,Uo))==null||w.delete(v.pointerId)},{signal:p}),window.addEventListener("pointercancel",v=>{var w;c(J,$o)===v.pointerId?this._currentParent.endDrawingSession():(w=c(J,Uo))==null||w.delete(v.pointerId)},{signal:p}),window.addEventListener("pointerdown",v=>{c(J,Ho)===v.pointerType&&((c(J,Uo)||A(J,Uo,new Set)).add(v.pointerId),c(J,St).isCancellable()&&(c(J,St).removeLastElement(),c(J,St).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",er,{signal:p}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:p}),o.addEventListener("touchmove",v=>{v.timeStamp===c(J,Fl)&&at(v)},{signal:p}),t.toggleDrawing(),(x=s._editorUndoBar)==null||x.hide(),c(J,St)){t.drawLayer.updateProperties(this._currentDrawId,c(J,St).startNew(a,l,f,m,h));return}s.updateUIForDefaultProperties(this),A(J,St,this.createDrawerInstance(a,l,f,m,h)),A(J,jl,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(c(J,jl).toSVGProperties(),c(J,St).defaultSVGProperties),!0,!1)}static _drawMove(t){var o;if(A(J,Fl,-1),!c(J,St))return;const{offsetX:s,offsetY:r,pointerId:i}=t;if(c(J,$o)===i){if(((o=c(J,Uo))==null?void 0:o.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,c(J,St).add(s,r)),A(J,Fl,t.timeStamp),at(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,A(J,St,null),A(J,jl,null),A(J,Ho,null),A(J,Fl,NaN)),c(J,Ol)&&(c(J,Ol).abort(),A(J,Ol,null),A(J,$o,NaN),A(J,Uo,null))}static _endDraw(t){const s=this._currentParent;if(s){if(s.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===s.div&&s.drawLayer.updateProperties(this._currentDrawId,c(J,St).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=c(J,St),i=this._currentDrawId,o=r.getLastElement();s.addCommands({cmd:()=>{s.drawLayer.updateProperties(i,r.setLastElement(o))},undo:()=>{s.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:me.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const s=this._currentParent;if(!s)return null;if(s.toggleDrawing(!0),s.cleanUndoStack(me.DRAW_STEP),!c(J,St).isEmpty()){const{pageDimensions:[r,i],scale:o}=s,a=s.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:c(J,St).getOutlines(r*o,i*o,o,this._INNER_MARGIN),drawingOptions:c(J,jl),mustBeCommitted:!t});return this._cleanup(!0),a}return s.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,s,r,i,o,a){Pe("Not implemented")}static async deserialize(t,s,r){var h,f;const{rawDims:{pageWidth:i,pageHeight:o,pageX:a,pageY:l}}=s.viewport,u=this.deserializeDraw(a,l,i,o,this._INNER_MARGIN,t),d=await super.deserialize(t,s,r);return d.createDrawingOptions(t),E(h=d,ve,Qx).call(h,{drawOutlines:u}),E(f=d,ve,gh).call(f),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[s,r]=this.pageTranslation,[i,o]=this.pageDimensions;return c(this,Wn).serialize([s,r,i,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Wn=new WeakMap,ad=new WeakMap,St=new WeakMap,Ol=new WeakMap,jl=new WeakMap,$o=new WeakMap,Ho=new WeakMap,Uo=new WeakMap,Fl=new WeakMap,ve=new WeakSet,Qx=function({drawOutlines:t,drawId:s,drawingOptions:r}){A(this,Wn,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),s>=0?(this._drawId=s,this.parent.drawLayer.finalizeDraw(s,t.defaultProperties)):this._drawId=E(this,ve,Jx).call(this,t,this.parent),E(this,ve,yh).call(this,t.box)},Jx=function(t,s){const{id:r}=s.drawLayer.draw(J._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},Zx=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},gh=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=E(this,ve,Jx).call(this,c(this,Wn),t)}},aN=function([t,s,r,i]){const{parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[s,1-t,r*(a/o),i*(o/a)];case 180:return[1-t,1-s,r,i];case 270:return[1-s,t,r*(a/o),i*(o/a)];default:return[t,s,r,i]}},Pg=function(){const{x:t,y:s,width:r,height:i,parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[1-s,t,r*(o/a),i*(a/o)];case 180:return[1-t,1-s,r,i];case 270:return[s,1-t,r*(o/a),i*(a/o)];default:return[t,s,r,i]}},yh=function(t){if([this.x,this.y,this.width,this.height]=E(this,ve,aN).call(this,t),this.div){this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)}this._onResized()},Rc=function(){const{x:t,y:s,width:r,height:i,rotation:o,parentRotation:a,parentDimensions:[l,u]}=this;switch((o*4+a)/90){case 1:return[1-s-i,t,i,r];case 2:return[1-t-r,1-s-i,r,i];case 3:return[s,1-t-r,i,r];case 4:return[t,s-r*(l/u),i*(u/l),r*(l/u)];case 5:return[1-s,t,r*(l/u),i*(u/l)];case 6:return[1-t-i*(u/l),1-s,i*(u/l),r*(l/u)];case 7:return[s-r*(l/u),1-t-i*(u/l),r*(l/u),i*(u/l)];case 8:return[t-r,s-i,r,i];case 9:return[1-s,t-r,i,r];case 10:return[1-t,1-s,r,i];case 11:return[s-i,1-t,i,r];case 12:return[t-i*(u/l),s,i*(u/l),r*(l/u)];case 13:return[1-s-r*(l/u),t-i*(u/l),r*(l/u),i*(u/l)];case 14:return[1-t,1-s-r*(l/u),i*(u/l),r*(l/u)];case 15:return[s,1-t,r*(l/u),i*(u/l)];default:return[t,s,r,i]}},H(J,"_currentDrawId",-1),H(J,"_currentParent",null),S(J,St,null),S(J,Ol,null),S(J,jl,null),S(J,$o,NaN),S(J,Ho,null),S(J,Uo,null),S(J,Fl,NaN),H(J,"_INNER_MARGIN",3);let Cy=J;var Lr,Et,Ct,Bl,ld,nn,Dt,ys,zl,$l,Hl,cd,Ng;class iB{constructor(e,t,s,r,i,o){S(this,cd);S(this,Lr,new Float64Array(6));S(this,Et);S(this,Ct);S(this,Bl);S(this,ld);S(this,nn);S(this,Dt,"");S(this,ys,0);S(this,zl,new Zp);S(this,$l);S(this,Hl);A(this,$l,s),A(this,Hl,r),A(this,Bl,i),A(this,ld,o),[e,t]=E(this,cd,Ng).call(this,e,t);const a=A(this,Et,[NaN,NaN,NaN,NaN,e,t]);A(this,nn,[e,t]),A(this,Ct,[{line:a,points:c(this,nn)}]),c(this,Lr).set(a,0)}updateProperty(e,t){e==="stroke-width"&&A(this,ld,t)}isEmpty(){return!c(this,Ct)||c(this,Ct).length===0}isCancellable(){return c(this,nn).length<=10}add(e,t){[e,t]=E(this,cd,Ng).call(this,e,t);const[s,r,i,o]=c(this,Lr).subarray(2,6),a=e-i,l=t-o;return Math.hypot(c(this,$l)*a,c(this,Hl)*l)<=2?null:(c(this,nn).push(e,t),isNaN(s)?(c(this,Lr).set([i,o,e,t],2),c(this,Et).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(c(this,Lr)[0])&&c(this,Et).splice(6,6),c(this,Lr).set([s,r,i,o,e,t],0),c(this,Et).push(...K.createBezierPoints(s,r,i,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const s=this.add(e,t);return s||(c(this,nn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,s,r,i){A(this,$l,s),A(this,Hl,r),A(this,Bl,i),[e,t]=E(this,cd,Ng).call(this,e,t);const o=A(this,Et,[NaN,NaN,NaN,NaN,e,t]);A(this,nn,[e,t]);const a=c(this,Ct).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),c(this,Ct).push({line:o,points:c(this,nn)}),c(this,Lr).set(o,0),A(this,ys,0),this.toSVGPath(),null}getLastElement(){return c(this,Ct).at(-1)}setLastElement(e){return c(this,Ct)?(c(this,Ct).push(e),A(this,Et,e.line),A(this,nn,e.points),A(this,ys,0),{path:{d:this.toSVGPath()}}):c(this,zl).setLastElement(e)}removeLastElement(){if(!c(this,Ct))return c(this,zl).removeLastElement();c(this,Ct).pop(),A(this,Dt,"");for(let e=0,t=c(this,Ct).length;e<t;e++){const{line:s,points:r}=c(this,Ct)[e];A(this,Et,s),A(this,nn,r),A(this,ys,0),this.toSVGPath()}return{path:{d:c(this,Dt)}}}toSVGPath(){const e=K.svgRound(c(this,Et)[4]),t=K.svgRound(c(this,Et)[5]);if(c(this,nn).length===2)return A(this,Dt,`${c(this,Dt)} M ${e} ${t} Z`),c(this,Dt);if(c(this,nn).length<=6){const r=c(this,Dt).lastIndexOf("M");A(this,Dt,`${c(this,Dt).slice(0,r)} M ${e} ${t}`),A(this,ys,6)}if(c(this,nn).length===4){const r=K.svgRound(c(this,Et)[10]),i=K.svgRound(c(this,Et)[11]);return A(this,Dt,`${c(this,Dt)} L ${r} ${i}`),A(this,ys,12),c(this,Dt)}const s=[];c(this,ys)===0&&(s.push(`M ${e} ${t}`),A(this,ys,6));for(let r=c(this,ys),i=c(this,Et).length;r<i;r+=6){const[o,a,l,u,d,h]=c(this,Et).slice(r,r+6).map(K.svgRound);s.push(`C${o} ${a} ${l} ${u} ${d} ${h}`)}return A(this,Dt,c(this,Dt)+s.join(" ")),A(this,ys,c(this,Et).length),c(this,Dt)}getOutlines(e,t,s,r){const i=c(this,Ct).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),c(this,zl).build(c(this,Ct),e,t,s,c(this,Bl),c(this,ld),r),A(this,Lr,null),A(this,Et,null),A(this,Ct,null),A(this,Dt,null),c(this,zl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Lr=new WeakMap,Et=new WeakMap,Ct=new WeakMap,Bl=new WeakMap,ld=new WeakMap,nn=new WeakMap,Dt=new WeakMap,ys=new WeakMap,zl=new WeakMap,$l=new WeakMap,Hl=new WeakMap,cd=new WeakSet,Ng=function(e,t){return K._normalizePoint(e,t,c(this,$l),c(this,Hl),c(this,Bl))};var sn,Ip,Dp,Gn,Mr,Ir,ud,dd,Ul,Ft,Zr,lN,cN,uN;class Zp extends K{constructor(){super(...arguments);S(this,Ft);S(this,sn);S(this,Ip,0);S(this,Dp);S(this,Gn);S(this,Mr);S(this,Ir);S(this,ud);S(this,dd);S(this,Ul)}build(t,s,r,i,o,a,l){A(this,Mr,s),A(this,Ir,r),A(this,ud,i),A(this,dd,o),A(this,Ul,a),A(this,Dp,l??0),A(this,Gn,t),E(this,Ft,cN).call(this)}get thickness(){return c(this,Ul)}setLastElement(t){return c(this,Gn).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return c(this,Gn).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:s}of c(this,Gn)){if(t.push(`M${K.svgRound(s[4])} ${K.svgRound(s[5])}`),s.length===6){t.push("Z");continue}if(s.length===12&&isNaN(s[6])){t.push(`L${K.svgRound(s[10])} ${K.svgRound(s[11])}`);continue}for(let r=6,i=s.length;r<i;r+=6){const[o,a,l,u,d,h]=s.subarray(r,r+6).map(K.svgRound);t.push(`C${o} ${a} ${l} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,s,r,i],o){const a=[],l=[],[u,d,h,f]=E(this,Ft,lN).call(this);let m,g,p,x,v,w,b,C,_;switch(c(this,dd)){case 0:_=K._rescale,m=t,g=s+i,p=r,x=-i,v=t+u*r,w=s+(1-d-f)*i,b=t+(u+h)*r,C=s+(1-d)*i;break;case 90:_=K._rescaleAndSwap,m=t,g=s,p=r,x=i,v=t+d*r,w=s+u*i,b=t+(d+f)*r,C=s+(u+h)*i;break;case 180:_=K._rescale,m=t+r,g=s,p=-r,x=i,v=t+(1-u-h)*r,w=s+d*i,b=t+(1-u)*r,C=s+(d+f)*i;break;case 270:_=K._rescaleAndSwap,m=t+r,g=s+i,p=-r,x=-i,v=t+(1-d-f)*r,w=s+(1-u-h)*i,b=t+(1-d)*r,C=s+(1-u)*i;break}for(const{line:k,points:P}of c(this,Gn))a.push(_(k,m,g,p,x,o?new Array(k.length):null)),l.push(_(P,m,g,p,x,o?new Array(P.length):null));return{lines:a,points:l,rect:[v,w,b,C]}}static deserialize(t,s,r,i,o,{paths:{lines:a,points:l},rotation:u,thickness:d}){const h=[];let f,m,g,p,x;switch(u){case 0:x=K._rescale,f=-t/r,m=s/i+1,g=1/r,p=-1/i;break;case 90:x=K._rescaleAndSwap,f=-s/i,m=-t/r,g=1/i,p=1/r;break;case 180:x=K._rescale,f=t/r+1,m=-s/i,g=-1/r,p=1/i;break;case 270:x=K._rescaleAndSwap,f=s/i+1,m=t/r+1,g=-1/i,p=-1/r;break}if(!a){a=[];for(const w of l){const b=w.length;if(b===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(b===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const C=new Float32Array(3*(b-2));a.push(C);let[_,k,P,N]=w.subarray(0,4);C.set([NaN,NaN,NaN,NaN,_,k],0);for(let L=4;L<b;L+=2){const M=w[L],D=w[L+1];C.set(K.createBezierPoints(_,k,P,N,M,D),(L-2)*3),[_,k,P,N]=[P,N,M,D]}}}for(let w=0,b=a.length;w<b;w++)h.push({line:x(a[w].map(C=>C??NaN),f,m,g,p),points:x(l[w].map(C=>C??NaN),f,m,g,p)});const v=new this.prototype.constructor;return v.build(h,r,i,1,u,d,o),v}get box(){return c(this,sn)}updateProperty(t,s){return t==="stroke-width"?E(this,Ft,uN).call(this,s):null}updateParentDimensions([t,s],r){const[i,o]=E(this,Ft,Zr).call(this);A(this,Mr,t),A(this,Ir,s),A(this,ud,r);const[a,l]=E(this,Ft,Zr).call(this),u=a-i,d=l-o,h=c(this,sn);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return A(this,Ip,t),{path:{transform:this.rotationTransform}}}get viewBox(){return c(this,sn).map(K.svgRound).join(" ")}get defaultProperties(){const[t,s]=c(this,sn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${K.svgRound(t)} ${K.svgRound(s)}`}}}get rotationTransform(){const[,,t,s]=c(this,sn);let r=0,i=0,o=0,a=0,l=0,u=0;switch(c(this,Ip)){case 90:i=s/t,o=-t/s,l=t;break;case 180:r=-1,a=-1,l=t,u=s;break;case 270:i=-s/t,o=t/s,u=s;break;default:return""}return`matrix(${r} ${i} ${o} ${a} ${K.svgRound(l)} ${K.svgRound(u)})`}getPathResizingSVGProperties([t,s,r,i]){const[o,a]=E(this,Ft,Zr).call(this),[l,u,d,h]=c(this,sn);if(Math.abs(d-o)<=K.PRECISION||Math.abs(h-a)<=K.PRECISION){const x=t+r/2-(l+d/2),v=s+i/2-(u+h/2);return{path:{"transform-origin":`${K.svgRound(t)} ${K.svgRound(s)}`,transform:`${this.rotationTransform} translate(${x} ${v})`}}}const f=(r-2*o)/(d-2*o),m=(i-2*a)/(h-2*a),g=d/r,p=h/i;return{path:{"transform-origin":`${K.svgRound(l)} ${K.svgRound(u)}`,transform:`${this.rotationTransform} scale(${g} ${p}) translate(${K.svgRound(o)} ${K.svgRound(a)}) scale(${f} ${m}) translate(${K.svgRound(-o)} ${K.svgRound(-a)})`}}}getPathResizedSVGProperties([t,s,r,i]){const[o,a]=E(this,Ft,Zr).call(this),l=c(this,sn),[u,d,h,f]=l;if(l[0]=t,l[1]=s,l[2]=r,l[3]=i,Math.abs(h-o)<=K.PRECISION||Math.abs(f-a)<=K.PRECISION){const v=t+r/2-(u+h/2),w=s+i/2-(d+f/2);for(const{line:b,points:C}of c(this,Gn))K._translate(b,v,w,b),K._translate(C,v,w,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${K.svgRound(t)} ${K.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(r-2*o)/(h-2*o),g=(i-2*a)/(f-2*a),p=-m*(u+o)+t+o,x=-g*(d+a)+s+a;if(m!==1||g!==1||p!==0||x!==0)for(const{line:v,points:w}of c(this,Gn))K._rescale(v,p,x,m,g,v),K._rescale(w,p,x,m,g,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${K.svgRound(t)} ${K.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,s],r){const[i,o]=r,a=c(this,sn),l=t-a[0],u=s-a[1];if(c(this,Mr)===i&&c(this,Ir)===o)for(const{line:d,points:h}of c(this,Gn))K._translate(d,l,u,d),K._translate(h,l,u,h);else{const d=c(this,Mr)/i,h=c(this,Ir)/o;A(this,Mr,i),A(this,Ir,o);for(const{line:f,points:m}of c(this,Gn))K._rescale(f,l,u,d,h,f),K._rescale(m,l,u,d,h,m);a[2]*=d,a[3]*=h}return a[0]=t,a[1]=s,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${K.svgRound(t)} ${K.svgRound(s)}`}}}get defaultSVGProperties(){const t=c(this,sn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${K.svgRound(t[0])} ${K.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}sn=new WeakMap,Ip=new WeakMap,Dp=new WeakMap,Gn=new WeakMap,Mr=new WeakMap,Ir=new WeakMap,ud=new WeakMap,dd=new WeakMap,Ul=new WeakMap,Ft=new WeakSet,Zr=function(t=c(this,Ul)){const s=c(this,Dp)+t/2*c(this,ud);return c(this,dd)%180===0?[s/c(this,Mr),s/c(this,Ir)]:[s/c(this,Ir),s/c(this,Mr)]},lN=function(){const[t,s,r,i]=c(this,sn),[o,a]=E(this,Ft,Zr).call(this,0);return[t+o,s+a,r-2*o,i-2*a]},cN=function(){const t=A(this,sn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of c(this,Gn)){if(i.length<=12){for(let l=4,u=i.length;l<u;l+=6)te.pointBoundingBox(i[l],i[l+1],t);continue}let o=i[4],a=i[5];for(let l=6,u=i.length;l<u;l+=6){const[d,h,f,m,g,p]=i.subarray(l,l+6);te.bezierBoundingBox(o,a,d,h,f,m,g,p,t),o=g,a=p}}const[s,r]=E(this,Ft,Zr).call(this);t[0]=an(t[0]-s,0,1),t[1]=an(t[1]-r,0,1),t[2]=an(t[2]+s,0,1),t[3]=an(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},uN=function(t){const[s,r]=E(this,Ft,Zr).call(this);A(this,Ul,t);const[i,o]=E(this,Ft,Zr).call(this),[a,l]=[i-s,o-r],u=c(this,sn);return u[0]-=a,u[1]-=l,u[2]+=2*a,u[3]+=2*l,u};class Rv extends oN{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:De._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Rv(this._viewParameters);return e.updateAll(this),e}}var Vy,dN;const qc=class qc extends Cy{constructor(t){super({...t,name:"inkEditor"});S(this,Vy);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,s){De.initialize(t,s),this._defaultDrawingOptions=new Rv(s.viewParameters)}static getDefaultDrawingOptions(t){const s=this._defaultDrawingOptions.clone();return s.updateProperties(t),s}static get supportMultipleDrawings(){return!0}static get typesMap(){return pe(this,"typesMap",new Map([[me.INK_THICKNESS,"stroke-width"],[me.INK_COLOR,"stroke"],[me.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,s,r,i,o){return new iB(t,s,r,i,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,s,r,i,o,a){return Zp.deserialize(t,s,r,i,o,a)}static async deserialize(t,s,r){let i=null;if(t instanceof U1){const{data:{inkLists:a,rect:l,rotation:u,id:d,color:h,opacity:f,borderStyle:{rawWidth:m},popupRef:g},parent:{page:{pageNumber:p}}}=t;i=t={annotationType:re.INK,color:Array.from(h),thickness:m,opacity:f,paths:{points:a},boxes:null,pageIndex:p-1,rect:l.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:g}}const o=await super.deserialize(t,s,r);return o._initialData=i,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:s,parent:r}=this;s.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,s.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:s,opacity:r}){this._drawingOptions=qc.getDefaultDrawingOptions({stroke:te.makeHexColor(...t),"stroke-width":s,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:s,points:r,rect:i}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":a,"stroke-width":l}}=this,u={annotationType:re.INK,color:De._colorManager.convert(o),opacity:a,thickness:l,paths:{lines:s,points:r},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(u.isCopy=!0,u):this.annotationElementId&&!E(this,Vy,dN).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(t){const{points:s,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:s}),null}};Vy=new WeakSet,dN=function(t){const{color:s,thickness:r,opacity:i,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((a,l)=>a!==s[l])||t.thickness!==r||t.opacity!==i||t.pageIndex!==o},H(qc,"_type","ink"),H(qc,"_editorType",re.INK),H(qc,"_defaultDrawingOptions",null);let eb=qc;class tb extends Zp{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Bm=8,Yd=3;var Vl,Ee,nb,$s,hN,fN,sb,Rg,pN,mN,gN,rb,ib,yN;class Ii{static extractContoursFromText(e,{fontFamily:t,fontStyle:s,fontWeight:r},i,o,a,l){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,f=d.font=`${s} ${r} ${h}px ${t}`,{actualBoundingBoxLeft:m,actualBoundingBoxRight:g,actualBoundingBoxAscent:p,actualBoundingBoxDescent:x,fontBoundingBoxAscent:v,fontBoundingBoxDescent:w,width:b}=d.measureText(e),C=1.5,_=Math.ceil(Math.max(Math.abs(m)+Math.abs(g)||0,b)*C),k=Math.ceil(Math.max(Math.abs(p)+Math.abs(x)||h,Math.abs(v)+Math.abs(w)||h)*C);u=new OffscreenCanvas(_,k),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=f,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,_,k),d.fillStyle="black",d.fillText(e,_*(C-1)/2,k*(3-C)/2);const P=E(this,Ee,rb).call(this,d.getImageData(0,0,_,k).data),N=E(this,Ee,gN).call(this,P),L=E(this,Ee,ib).call(this,N),M=E(this,Ee,sb).call(this,P,_,k,L);return this.processDrawnLines({lines:{curves:M,width:_,height:k},pageWidth:i,pageHeight:o,rotation:a,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,s,r,i){const[o,a,l]=E(this,Ee,yN).call(this,e),[u,d]=E(this,Ee,mN).call(this,o,a,l,Math.hypot(a,l)*c(this,Vl).sigmaSFactor,c(this,Vl).sigmaR,c(this,Vl).kernelSize),h=E(this,Ee,ib).call(this,d),f=E(this,Ee,sb).call(this,u,a,l,h);return this.processDrawnLines({lines:{curves:f,width:a,height:l},pageWidth:t,pageHeight:s,rotation:r,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:s,rotation:r,innerMargin:i,mustSmooth:o,areContours:a}){r%180!==0&&([t,s]=[s,t]);const{curves:l,width:u,height:d}=e,h=e.thickness??0,f=[],m=Math.min(t/u,s/d),g=m/t,p=m/s,x=[];for(const{points:w}of l){const b=o?E(this,Ee,pN).call(this,w):w;if(!b)continue;x.push(b);const C=b.length,_=new Float32Array(C),k=new Float32Array(3*(C===2?2:C-2));if(f.push({line:k,points:_}),C===2){_[0]=b[0]*g,_[1]=b[1]*p,k.set([NaN,NaN,NaN,NaN,_[0],_[1]],0);continue}let[P,N,L,M]=b;P*=g,N*=p,L*=g,M*=p,_.set([P,N,L,M],0),k.set([NaN,NaN,NaN,NaN,P,N],0);for(let D=4;D<C;D+=2){const F=_[D]=b[D]*g,G=_[D+1]=b[D+1]*p;k.set(K.createBezierPoints(P,N,L,M,F,G),(D-2)*3),[P,N,L,M]=[L,M,F,G]}}if(f.length===0)return null;const v=a?new tb:new Zp;return v.build(f,t,s,1,r,a?0:h,i),{outline:v,newCurves:x,areContours:a,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:s,width:r,height:i}){let o=1/0,a=-1/0,l=0;for(const b of e){l+=b.length;for(let C=2,_=b.length;C<_;C++){const k=b[C]-b[C-2];o=Math.min(o,k),a=Math.max(a,k)}}let u;o>=-128&&a<=127?u=Int8Array:o>=-32768&&a<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=Bm+Yd*d,f=new Uint32Array(h);let m=0;f[m++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*u.BYTES_PER_ELEMENT,f[m++]=0,f[m++]=r,f[m++]=i,f[m++]=t?0:1,f[m++]=Math.max(0,Math.floor(s??0)),f[m++]=d,f[m++]=u.BYTES_PER_ELEMENT;for(const b of e)f[m++]=b.length-2,f[m++]=b[0],f[m++]=b[1];const g=new CompressionStream("deflate-raw"),p=g.writable.getWriter();await p.ready,p.write(f);const x=u.prototype.constructor;for(const b of e){const C=new x(b.length-2);for(let _=2,k=b.length;_<k;_++)C[_-2]=b[_]-b[_-2];p.write(C)}p.close();const v=await new Response(g.readable).arrayBuffer(),w=new Uint8Array(v);return gP(w)}static async decompressSignature(e){try{const t=N4(e),{readable:s,writable:r}=new DecompressionStream("deflate-raw"),i=r.getWriter();await i.ready,i.write(t).then(async()=>{await i.ready,await i.close()}).catch(()=>{});let o=null,a=0;for await(const b of s)o||(o=new Uint8Array(new Uint32Array(b.buffer,0,4)[0])),o.set(b,a),a+=b.length;const l=new Uint32Array(o.buffer,0,o.length>>2),u=l[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=l[2],h=l[3],f=l[4]===0,m=l[5],g=l[6],p=l[7],x=[],v=(Bm+Yd*g)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(p){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(o.buffer,v);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(o.buffer,v);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(o.buffer,v);break}a=0;for(let b=0;b<g;b++){const C=l[Yd*b+Bm],_=new Float32Array(C+2);x.push(_);for(let k=0;k<Yd-1;k++)_[k]=l[Yd*b+Bm+k+1];for(let k=0;k<C;k++)_[k+2]=_[k]+w[a++]}return{areContours:f,thickness:m,outlines:x,width:d,height:h}}catch(t){return ie(`decompressSignature: ${t}`),null}}}Vl=new WeakMap,Ee=new WeakSet,nb=function(e,t,s,r){return s-=e,r-=t,s===0?r>0?0:4:s===1?r+6:2-r},$s=new WeakMap,hN=function(e,t,s,r,i,o,a){const l=E(this,Ee,nb).call(this,s,r,i,o);for(let u=0;u<8;u++){const d=(-u+l-a+16)%8,h=c(this,$s)[2*d],f=c(this,$s)[2*d+1];if(e[(s+h)*t+(r+f)]!==0)return d}return-1},fN=function(e,t,s,r,i,o,a){const l=E(this,Ee,nb).call(this,s,r,i,o);for(let u=0;u<8;u++){const d=(u+l+a+16)%8,h=c(this,$s)[2*d],f=c(this,$s)[2*d+1];if(e[(s+h)*t+(r+f)]!==0)return d}return-1},sb=function(e,t,s,r){const i=e.length,o=new Int32Array(i);for(let d=0;d<i;d++)o[d]=e[d]<=r?1:0;for(let d=1;d<s-1;d++)o[d*t]=o[d*t+t-1]=0;for(let d=0;d<t;d++)o[d]=o[t*s-1-d]=0;let a=1,l;const u=[];for(let d=1;d<s-1;d++){l=1;for(let h=1;h<t-1;h++){const f=d*t+h,m=o[f];if(m===0)continue;let g=d,p=h;if(m===1&&o[f-1]===0)a+=1,p-=1;else if(m>=1&&o[f+1]===0)a+=1,p+=1,m>1&&(l=m);else{m!==1&&(l=Math.abs(m));continue}const x=[h,d],v=p===h+1,w={isHole:v,points:x,id:a,parent:0};u.push(w);let b;for(const D of u)if(D.id===l){b=D;break}b?b.isHole?w.parent=v?b.parent:l:w.parent=v?l:b.parent:w.parent=v?l:0;const C=E(this,Ee,hN).call(this,o,t,d,h,g,p,0);if(C===-1){o[f]=-a,o[f]!==1&&(l=Math.abs(o[f]));continue}let _=c(this,$s)[2*C],k=c(this,$s)[2*C+1];const P=d+_,N=h+k;g=P,p=N;let L=d,M=h;for(;;){const D=E(this,Ee,fN).call(this,o,t,L,M,g,p,1);_=c(this,$s)[2*D],k=c(this,$s)[2*D+1];const F=L+_,G=M+k;x.push(G,F);const O=L*t+M;if(o[O+1]===0?o[O]=-a:o[O]===1&&(o[O]=a),F===d&&G===h&&L===P&&M===N){o[f]!==1&&(l=Math.abs(o[f]));break}else g=L,p=M,L=F,M=G}}}return u},Rg=function(e,t,s,r){if(s-t<=4){for(let P=t;P<s-2;P+=2)r.push(e[P],e[P+1]);return}const i=e[t],o=e[t+1],a=e[s-4]-i,l=e[s-3]-o,u=Math.hypot(a,l),d=a/u,h=l/u,f=d*o-h*i,m=l/a,g=1/u,p=Math.atan(m),x=Math.cos(p),v=Math.sin(p),w=g*(Math.abs(x)+Math.abs(v)),b=g*(1-w+w**2),C=Math.max(Math.atan(Math.abs(v+x)*b),Math.atan(Math.abs(v-x)*b));let _=0,k=t;for(let P=t+2;P<s-2;P+=2){const N=Math.abs(f-d*e[P+1]+h*e[P]);N>_&&(k=P,_=N)}_>(u*C)**2?(E(this,Ee,Rg).call(this,e,t,k+2,r),E(this,Ee,Rg).call(this,e,k,s,r)):r.push(i,o)},pN=function(e){const t=[],s=e.length;return E(this,Ee,Rg).call(this,e,0,s,t),t.push(e[s-2],e[s-1]),t.length<=4?null:t},mN=function(e,t,s,r,i,o){const a=new Float32Array(o**2),l=-2*r**2,u=o>>1;for(let p=0;p<o;p++){const x=(p-u)**2;for(let v=0;v<o;v++)a[p*o+v]=Math.exp((x+(v-u)**2)/l)}const d=new Float32Array(256),h=-2*i**2;for(let p=0;p<256;p++)d[p]=Math.exp(p**2/h);const f=e.length,m=new Uint8Array(f),g=new Uint32Array(256);for(let p=0;p<s;p++)for(let x=0;x<t;x++){const v=p*t+x,w=e[v];let b=0,C=0;for(let k=0;k<o;k++){const P=p+k-u;if(!(P<0||P>=s))for(let N=0;N<o;N++){const L=x+N-u;if(L<0||L>=t)continue;const M=e[P*t+L],D=a[k*o+N]*d[Math.abs(M-w)];b+=M*D,C+=D}}const _=m[v]=Math.round(b/C);g[_]++}return[m,g]},gN=function(e){const t=new Uint32Array(256);for(const s of e)t[s]++;return t},rb=function(e){const t=e.length,s=new Uint8ClampedArray(t>>2);let r=-1/0,i=1/0;for(let a=0,l=s.length;a<l;a++){if(e[(a<<2)+3]===0){r=s[a]=255;continue}const d=s[a]=e[a<<2];d>r&&(r=d),d<i&&(i=d)}const o=255/(r-i);for(let a=0;a<t;a++)s[a]=(s[a]-i)*o;return s},ib=function(e){let t,s=-1/0,r=-1/0;const i=e.findIndex(l=>l!==0);let o=i,a=i;for(t=i;t<256;t++){const l=e[t];l>s&&(t-o>r&&(r=t-o,a=t-1),s=l,o=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t},yN=function(e){const t=e,{width:s,height:r}=e,{maxDim:i}=c(this,Vl);let o=s,a=r;if(s>i||r>i){let f=s,m=r,g=Math.log2(Math.max(s,r)/i);const p=Math.floor(g);g=g===p?p-1:p;for(let v=0;v<g;v++){o=Math.ceil(f/2),a=Math.ceil(m/2);const w=new OffscreenCanvas(o,a);w.getContext("2d").drawImage(e,0,0,f,m,0,0,o,a),f=o,m=a,e!==t&&e.close(),e=w.transferToImageBitmap()}const x=Math.min(i/o,i/a);o=Math.round(o*x),a=Math.round(a*x)}const u=new OffscreenCanvas(o,a).getContext("2d",{willReadFrequently:!0});u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,o,a);const d=u.getImageData(0,0,o,a).data;return[E(this,Ee,rb).call(this,d),o,a]},S(Ii,Ee),S(Ii,Vl,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),S(Ii,$s,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class V1 extends oN{constructor(){super(),super.updateProperties({fill:De._defaultLineColor,"stroke-width":0})}clone(){const e=new V1;return e.updateAll(this),e}}class W1 extends Rv{constructor(e){super(e),super.updateProperties({stroke:De._defaultLineColor,"stroke-width":1})}clone(){const e=new W1(this._viewParameters);return e.updateAll(this),e}}var Vo,Dr,Wo,Wl;const Mn=class Mn extends Cy{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});S(this,Vo,!1);S(this,Dr,null);S(this,Wo,null);S(this,Wl,null);this._willKeepAspectRatio=!0,A(this,Wo,t.signatureData||null),A(this,Dr,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,s){De.initialize(t,s),this._defaultDrawingOptions=new V1,this._defaultDrawnSignatureOptions=new W1(s.viewParameters)}static getDefaultDrawingOptions(t){const s=this._defaultDrawingOptions.clone();return s.updateProperties(t),s}static get supportMultipleDrawings(){return!1}static get typesMap(){return pe(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!c(this,Dr)}}static computeTelemetryFinalData(t){const s=t.get("hasDescription");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,s;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,s=this.y),super.render(),this._drawId===null)if(c(this,Wo)){const{lines:i,mustSmooth:o,areContours:a,description:l,uuid:u,heightInPage:d}=c(this,Wo),{rawDims:{pageWidth:h,pageHeight:f},rotation:m}=this.parent.viewport,g=Ii.processDrawnLines({lines:i,pageWidth:h,pageHeight:f,rotation:m,innerMargin:Mn._INNER_MARGIN,mustSmooth:o,areContours:a});this.addSignature(g,d,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return r&&(this._isCopy=!0,this._moveAfterPaste(t,s)),this.div}setUuid(t){A(this,Wl,t),this.addEditToolbar()}getUuid(){return c(this,Wl)}get description(){return c(this,Dr)}set description(t){A(this,Dr,t),super.addEditToolbar().then(s=>{s==null||s.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:s,thickness:r,width:i,height:o}=c(this,Wo),a=Math.max(i,o),l=Ii.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:r,width:i,height:o},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:s});return{areContours:s,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,s,r,i){const{x:o,y:a}=this,{outline:l}=A(this,Wo,t);A(this,Vo,l instanceof tb),this.description=r,this.div.setAttribute("data-l10n-args",JSON.stringify({description:r}));let u;c(this,Vo)?u=Mn.getDefaultDrawingOptions():(u=Mn._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[d,h]=this.parentDimensions,[,f]=this.pageDimensions;let m=s/f;m=m>=1?.5:m,this.width*=m/this.height,this.width>=1&&(m*=.9/this.width,this.width=.9),this.height=m,this.setDims(d*this.width,h*this.height),this.x=o,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:s,pageHeight:r},rotation:i}=this.parent.viewport;return Ii.process(t,s,r,i,Mn._INNER_MARGIN)}getFromText(t,s){const{rawDims:{pageWidth:r,pageHeight:i},rotation:o}=this.parent.viewport;return Ii.extractContoursFromText(t,s,r,i,o,Mn._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:s,pageHeight:r},rotation:i}=this.parent.viewport;return Ii.processDrawnLines({lines:t,pageWidth:s,pageHeight:r,rotation:i,innerMargin:Mn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:s}){t?this._drawingOptions=Mn.getDefaultDrawingOptions():(this._drawingOptions=Mn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":s}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:s,points:r,rect:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":o}}=this,a={annotationType:re.SIGNATURE,isSignature:!0,areContours:c(this,Vo),color:[0,0,0],thickness:c(this,Vo)?0:o,pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(a.paths={lines:s,points:r},a.uuid=c(this,Wl),a.isCopy=!0):a.lines=s,c(this,Dr)&&(a.accessibilityData={type:"Figure",alt:c(this,Dr)}),a}static deserializeDraw(t,s,r,i,o,a){return a.areContours?tb.deserialize(t,s,r,i,o,a):Zp.deserialize(t,s,r,i,o,a)}static async deserialize(t,s,r){var o;const i=await super.deserialize(t,s,r);return A(i,Vo,t.areContours),A(i,Dr,((o=t.accessibilityData)==null?void 0:o.alt)||""),A(i,Wl,t.uuid),i}};Vo=new WeakMap,Dr=new WeakMap,Wo=new WeakMap,Wl=new WeakMap,H(Mn,"_type","signature"),H(Mn,"_editorType",re.SIGNATURE),H(Mn,"_defaultDrawingOptions",null);let ob=Mn;var He,_t,Go,Pi,qo,hd,Ni,Gl,Or,qn,fd,we,vh,wh,Lg,Mg,Ig,lb,Dg,vN;class ab extends De{constructor(t){super({...t,name:"stampEditor"});S(this,we);S(this,He,null);S(this,_t,null);S(this,Go,null);S(this,Pi,null);S(this,qo,null);S(this,hd,"");S(this,Ni,null);S(this,Gl,!1);S(this,Or,null);S(this,qn,!1);S(this,fd,!1);A(this,Pi,t.bitmapUrl),A(this,qo,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,s){De.initialize(t,s)}static isHandlingMimeForPasting(t){return ex.includes(t)}static paste(t,s){s.pasteEditor({mode:re.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const s=t.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(t=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,l=await r.guess({name:"altText",request:{data:i,width:o,height:a,channels:i.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),s&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;c(this,_t)&&(A(this,He,null),this._uiManager.imageManager.deleteId(c(this,_t)),(t=c(this,Ni))==null||t.remove(),A(this,Ni,null),c(this,Or)&&(clearTimeout(c(this,Or)),A(this,Or,null))),super.remove()}rebuild(){if(!this.parent){c(this,_t)&&E(this,we,Lg).call(this);return}super.rebuild(),this.div!==null&&(c(this,_t)&&c(this,Ni)===null&&E(this,we,Lg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(c(this,Go)||c(this,He)||c(this,Pi)||c(this,qo)||c(this,_t)||c(this,Gl))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,s;return this._isCopy&&(t=this.x,s=this.y),super.render(),this.div.hidden=!0,this.createAltText(),c(this,Gl)||(c(this,He)?E(this,we,Mg).call(this):E(this,we,Lg).call(this)),this._isCopy&&this._moveAfterPaste(t,s),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,s){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,s);s.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(A(this,_t,r),i&&A(this,He,i),A(this,Gl,!1),E(this,we,Mg).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;c(this,Or)!==null&&clearTimeout(c(this,Or)),A(this,Or,setTimeout(()=>{A(this,Or,null),E(this,we,lb).call(this)},200))}copyCanvas(t,s,r=!1){var m;t||(t=224);const{width:i,height:o}=c(this,He),a=new Wr;let l=c(this,He),u=i,d=o,h=null;if(s){if(i>s||o>s){const N=Math.min(s/i,s/o);u=Math.floor(i*N),d=Math.floor(o*N)}h=document.createElement("canvas");const g=h.width=Math.ceil(u*a.sx),p=h.height=Math.ceil(d*a.sy);c(this,qn)||(l=E(this,we,Ig).call(this,g,p));const x=h.getContext("2d");x.filter=this._uiManager.hcmFilter;let v="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":(m=window.matchMedia)!=null&&m.call(window,"(prefers-color-scheme: dark)").matches&&(v="#8f8f9d",w="#42414d");const b=15,C=b*a.sx,_=b*a.sy,k=new OffscreenCanvas(C*2,_*2),P=k.getContext("2d");P.fillStyle=v,P.fillRect(0,0,C*2,_*2),P.fillStyle=w,P.fillRect(0,0,C,_),P.fillRect(C,_,C,_),x.fillStyle=x.createPattern(k,"repeat"),x.fillRect(0,0,g,p),x.drawImage(l,0,0,l.width,l.height,0,0,g,p)}let f=null;if(r){let g,p;if(a.symmetric&&l.width<t&&l.height<t)g=l.width,p=l.height;else if(l=c(this,He),i>t||o>t){const w=Math.min(t/i,t/o);g=Math.floor(i*w),p=Math.floor(o*w),c(this,qn)||(l=E(this,we,Ig).call(this,g,p))}const v=new OffscreenCanvas(g,p).getContext("2d",{willReadFrequently:!0});v.drawImage(l,0,0,l.width,l.height,0,0,g,p),f={width:g,height:p,data:v.getImageData(0,0,g,p).data}}return{canvas:h,width:u,height:d,imageData:f}}static async deserialize(t,s,r){var x;let i=null,o=!1;if(t instanceof M2){const{data:{rect:v,rotation:w,id:b,structParent:C,popupRef:_},container:k,parent:{page:{pageNumber:P}},canvas:N}=t;let L,M;N?(delete t.canvas,{id:L,bitmap:M}=r.imageManager.getFromCanvas(k.id,N),N.remove()):(o=!0,t._hasNoCanvas=!0);const D=((x=await s._structTree.getAriaAttributes(`${D1}${b}`))==null?void 0:x.get("aria-label"))||"";i=t={annotationType:re.STAMP,bitmapId:L,bitmap:M,pageIndex:P-1,rect:v.slice(0),rotation:w,annotationElementId:b,id:b,deleted:!1,accessibilityData:{decorative:!1,altText:D},isSvg:!1,structParent:C,popupRef:_}}const a=await super.deserialize(t,s,r),{rect:l,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:f,accessibilityData:m}=t;o?(r.addMissingCanvas(t.id,a),A(a,Gl,!0)):h&&r.imageManager.isValidId(h)?(A(a,_t,h),u&&A(a,He,u)):A(a,Pi,d),A(a,qn,f);const[g,p]=a.pageDimensions;return a.width=(l[2]-l[0])/g,a.height=(l[3]-l[1])/p,m&&(a.altTextData=m),a._initialData=i,A(a,fd,!!i),a}serialize(t=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:re.STAMP,bitmapId:c(this,_t),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,qn),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=E(this,we,Dg).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:o}=this.serializeAltText(!1);if(!i&&o&&(r.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=E(this,we,vN).call(this,r);if(l.isSame)return null;l.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const a=c(this,qn)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(c(this,_t)))s.stamps.set(c(this,_t),{area:a,serialized:r}),r.bitmap=E(this,we,Dg).call(this,!1);else if(c(this,qn)){const l=s.stamps.get(c(this,_t));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=E(this,we,Dg).call(this,!1))}return r}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}He=new WeakMap,_t=new WeakMap,Go=new WeakMap,Pi=new WeakMap,qo=new WeakMap,hd=new WeakMap,Ni=new WeakMap,Gl=new WeakMap,Or=new WeakMap,qn=new WeakMap,fd=new WeakMap,we=new WeakSet,vh=function(t,s=!1){if(!t){this.remove();return}A(this,He,t.bitmap),s||(A(this,_t,t.id),A(this,qn,t.isSvg)),t.file&&A(this,hd,t.file.name),E(this,we,Mg).call(this)},wh=function(){if(A(this,Go,null),this._uiManager.enableWaiting(!1),!!c(this,Ni)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,He)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,He)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Lg=function(){if(c(this,_t)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,_t)).then(r=>E(this,we,vh).call(this,r,!0)).finally(()=>E(this,we,wh).call(this));return}if(c(this,Pi)){const r=c(this,Pi);A(this,Pi,null),this._uiManager.enableWaiting(!0),A(this,Go,this._uiManager.imageManager.getFromUrl(r).then(i=>E(this,we,vh).call(this,i)).finally(()=>E(this,we,wh).call(this)));return}if(c(this,qo)){const r=c(this,qo);A(this,qo,null),this._uiManager.enableWaiting(!0),A(this,Go,this._uiManager.imageManager.getFromFile(r).then(i=>E(this,we,vh).call(this,i)).finally(()=>E(this,we,wh).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=ex.join(",");const s=this._uiManager._signal;A(this,Go,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),E(this,we,vh).call(this,i)}r()},{signal:s}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>E(this,we,wh).call(this))),t.click()},Mg=function(){var h;const{div:t}=this;let{width:s,height:r}=c(this,He);const[i,o]=this.pageDimensions,a=.75;if(this.width)s=this.width*i,r=this.height*o;else if(s>a*i||r>a*o){const f=Math.min(a*i/s,a*o/r);s*=f,r*=f}const[l,u]=this.parentDimensions;this.setDims(s*l/i,r*u/o),this._uiManager.enableWaiting(!1);const d=A(this,Ni,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),this.width=s/i,this.height=r/o,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),E(this,we,lb).call(this),c(this,fd)||(this.parent.addUndoableEditor(this),A(this,fd,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,hd)&&this.div.setAttribute("aria-description",c(this,hd)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Ig=function(t,s){const{width:r,height:i}=c(this,He);let o=r,a=i,l=c(this,He);for(;o>2*t||a>2*s;){const u=o,d=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*s&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(l,0,0,u,d,0,0,o,a),l=h.transferToImageBitmap()}return l},lb=function(){const[t,s]=this.parentDimensions,{width:r,height:i}=this,o=new Wr,a=Math.ceil(r*t*o.sx),l=Math.ceil(i*s*o.sy),u=c(this,Ni);if(!u||u.width===a&&u.height===l)return;u.width=a,u.height=l;const d=c(this,qn)?c(this,He):E(this,we,Ig).call(this,a,l),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,a,l)},Dg=function(t){if(t){if(c(this,qn)){const i=this._uiManager.imageManager.getSvgUrl(c(this,_t));if(i)return i}const s=document.createElement("canvas");return{width:s.width,height:s.height}=c(this,He),s.getContext("2d").drawImage(c(this,He),0,0),s.toDataURL()}if(c(this,qn)){const[s,r]=this.pageDimensions,i=Math.round(this.width*s*ya.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*ya.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(i,o);return a.getContext("2d").drawImage(c(this,He),0,0,c(this,He).width,c(this,He).height,0,0,i,o),a.transferToImageBitmap()}return structuredClone(c(this,He))},vN=function(t){var a;const{pageIndex:s,accessibilityData:{altText:r}}=this._initialData,i=t.pageIndex===s,o=(((a=t.accessibilityData)==null?void 0:a.alt)||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&i&&o,isSameAltText:o}},H(ab,"_type","stamp"),H(ab,"_editorType",re.STAMP);var ql,pd,jr,Xo,Ri,Xn,Ko,md,Xl,Hs,Li,Tt,Mi,Yo,gd,Z,Qo,Ue,wN,mr,ub,db,Og;const ks=class ks{constructor({uiManager:e,pageIndex:t,div:s,structTreeLayer:r,accessibilityManager:i,annotationLayer:o,drawLayer:a,textLayer:l,viewport:u,l10n:d}){S(this,Ue);S(this,ql);S(this,pd,!1);S(this,jr,null);S(this,Xo,null);S(this,Ri,null);S(this,Xn,new Map);S(this,Ko,!1);S(this,md,!1);S(this,Xl,!1);S(this,Hs,null);S(this,Li,null);S(this,Tt,null);S(this,Mi,null);S(this,Yo,null);S(this,gd,-1);S(this,Z);const h=[...c(ks,Qo).values()];if(!ks._initialized){ks._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),A(this,Z,e),this.pageIndex=t,this.div=s,A(this,ql,i),A(this,jr,o),this.viewport=u,A(this,Tt,l),this.drawLayer=a,this._structTree=r,c(this,Z).addLayer(this)}get isEmpty(){return c(this,Xn).size===0}get isInvisible(){return this.isEmpty&&c(this,Z).getMode()===re.NONE}updateToolbar(e){c(this,Z).updateToolbar(e)}updateMode(e=c(this,Z).getMode()){switch(E(this,Ue,Og).call(this),e){case re.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case re.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case re.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const s of c(ks,Qo).values())t.toggle(`${s._type}Editing`,e===s._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,Tt))==null?void 0:t.div)}setEditingState(e){c(this,Z).setEditingState(e)}addCommands(e){c(this,Z).addCommands(e)}cleanUndoStack(e){c(this,Z).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,jr))==null||t.div.classList.toggle("disabled",!e)}async enable(){var s;A(this,Xl,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(s=c(this,Yo))==null||s.abort(),A(this,Yo,null);const e=new Set;for(const r of c(this,Xn).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(c(this,Z).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!c(this,jr)){A(this,Xl,!1);return}const t=c(this,jr).getEditableAnnotations();for(const r of t){if(r.hide(),c(this,Z).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}A(this,Xl,!1)}disable(){var r;if(A(this,md,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),c(this,Tt)&&!c(this,Yo)){A(this,Yo,new AbortController);const i=c(this,Z).combinedSignal(c(this,Yo));c(this,Tt).div.addEventListener("pointerdown",o=>{const{clientX:l,clientY:u,timeStamp:d}=o,h=c(this,gd);if(d-h>500){A(this,gd,d);return}A(this,gd,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const m=document.elementsFromPoint(l,u);if(f.toggle("getElements",!1),!this.div.contains(m[0]))return;let g;const p=new RegExp(`^${dP}[0-9]+$`);for(const v of m)if(p.test(v.id)){g=v.id;break}if(!g)return;const x=c(this,Xn).get(g);(x==null?void 0:x.annotationElementId)===null&&(o.stopPropagation(),o.preventDefault(),x.dblclick())},{signal:i,capture:!0})}const e=new Map,t=new Map;for(const i of c(this,Xn).values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else t.set(i.annotationElementId,i);(r=this.getEditableAnnotation(i.annotationElementId))==null||r.show(),i.remove()}if(c(this,jr)){const i=c(this,jr).getEditableAnnotations();for(const o of i){const{id:a}=o.data;if(c(this,Z).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(c(this,Z).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}E(this,Ue,Og).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const i of c(ks,Qo).values())s.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),A(this,md,!1)}getEditableAnnotation(e){var t;return((t=c(this,jr))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,Z).getActive()!==e&&c(this,Z).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=c(this,Tt))!=null&&e.div&&!c(this,Mi)){A(this,Mi,new AbortController);const t=c(this,Z).combinedSignal(c(this,Mi));c(this,Tt).div.addEventListener("pointerdown",E(this,Ue,wN).bind(this),{signal:t}),c(this,Tt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,Tt))!=null&&e.div&&c(this,Mi)&&(c(this,Mi).abort(),A(this,Mi,null),c(this,Tt).div.classList.remove("highlighting"))}enableClick(){if(c(this,Xo))return;A(this,Xo,new AbortController);const e=c(this,Z).combinedSignal(c(this,Xo));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=c(this,Xo))==null||e.abort(),A(this,Xo,null)}attach(e){c(this,Xn).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,Z).isDeletedAnnotationElement(t)&&c(this,Z).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,Xn).delete(e.id),(t=c(this,ql))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,md)&&e.annotationElementId&&c(this,Z).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,Z).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,Z).addDeletedAnnotationElement(e.annotationElementId),De.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,Z).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!c(this,Xl)),c(this,Z).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var s;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,Ri)&&(e._focusEventsAllowed=!1,A(this,Ri,setTimeout(()=>{A(this,Ri,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:c(this,Z)._signal}),t.focus())},0))),e._structTreeParentId=(s=c(this,ql))==null?void 0:s.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:t,undo:s,mustExec:!1})}getNextId(){return c(this,Z).getId()}combinedSignal(e){return c(this,Z).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=c(this,Ue,mr))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await c(this,Z).updateMode(e.mode);const{offsetX:s,offsetY:r}=E(this,Ue,db).call(this),i=this.getNextId(),o=E(this,Ue,ub).call(this,{parent:this,id:i,x:s,y:r,uiManager:c(this,Z),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=c(ks,Qo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,Z)))||null}createAndAddNewEditor(e,t,s={}){const r=this.getNextId(),i=E(this,Ue,ub).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:c(this,Z),isCentered:t,...s});return i&&this.add(i),i}addNewEditor(e={}){this.createAndAddNewEditor(E(this,Ue,db).call(this),!0,e)}setSelected(e){c(this,Z).setSelected(e)}toggleSelected(e){c(this,Z).toggleSelected(e)}unselect(e){c(this,Z).unselect(e)}pointerup(e){var r;const{isMac:t}=zt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!c(this,Ko)||(A(this,Ko,!1),(r=c(this,Ue,mr))!=null&&r.isDrawer&&c(this,Ue,mr).supportMultipleDrawings))return;if(!c(this,pd)){A(this,pd,!0);return}const s=c(this,Z).getMode();if(s===re.STAMP||s===re.SIGNATURE){c(this,Z).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(c(this,Z).getMode()===re.HIGHLIGHT&&this.enableTextSelection(),c(this,Ko)){A(this,Ko,!1);return}const{isMac:t}=zt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(A(this,Ko,!0),(r=c(this,Ue,mr))!=null&&r.isDrawer){this.startDrawingSession(e);return}const s=c(this,Z).getActive();A(this,pd,!s||s.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),c(this,Hs)){c(this,Ue,mr).startDrawing(this,c(this,Z),!1,e);return}c(this,Z).setCurrentDrawingSession(this),A(this,Hs,new AbortController);const t=c(this,Z).combinedSignal(c(this,Hs));this.div.addEventListener("blur",({relatedTarget:s})=>{s&&!this.div.contains(s)&&(A(this,Li,null),this.commitOrRemove())},{signal:t}),c(this,Ue,mr).startDrawing(this,c(this,Z),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&A(this,Li,t);return}c(this,Li)&&setTimeout(()=>{var t;(t=c(this,Li))==null||t.focus(),A(this,Li,null)},0)}endDrawingSession(e=!1){return c(this,Hs)?(c(this,Z).setCurrentDrawingSession(null),c(this,Hs).abort(),A(this,Hs,null),A(this,Li,null),c(this,Ue,mr).endDrawing(e)):null}findNewParent(e,t,s){const r=c(this,Z).findParent(t,s);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return c(this,Hs)?(this.endDrawingSession(),!0):!1}onScaleChanging(){c(this,Hs)&&c(this,Ue,mr).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=c(this,Z).getActive())==null?void 0:e.parent)===this&&(c(this,Z).commitOrRemove(),c(this,Z).setActiveEditor(null)),c(this,Ri)&&(clearTimeout(c(this,Ri)),A(this,Ri,null));for(const s of c(this,Xn).values())(t=c(this,ql))==null||t.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,c(this,Xn).clear(),c(this,Z).removeLayer(this)}render({viewport:e}){this.viewport=e,lc(this.div,e);for(const t of c(this,Z).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,Z).commitOrRemove(),E(this,Ue,Og).call(this);const t=this.viewport.rotation,s=e.rotation;if(this.viewport=e,lc(this.div,{rotation:s}),t!==s)for(const r of c(this,Xn).values())r.rotate(s)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,Z).viewParameters.realScale}};ql=new WeakMap,pd=new WeakMap,jr=new WeakMap,Xo=new WeakMap,Ri=new WeakMap,Xn=new WeakMap,Ko=new WeakMap,md=new WeakMap,Xl=new WeakMap,Hs=new WeakMap,Li=new WeakMap,Tt=new WeakMap,Mi=new WeakMap,Yo=new WeakMap,gd=new WeakMap,Z=new WeakMap,Qo=new WeakMap,Ue=new WeakSet,wN=function(e){c(this,Z).unselectAll();const{target:t}=e;if(t===c(this,Tt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&c(this,Tt).div.contains(t)){const{isMac:s}=zt.platform;if(e.button!==0||e.ctrlKey&&s)return;c(this,Z).showAllEditors("highlight",!0,!0),c(this,Tt).div.classList.add("free"),this.toggleDrawing(),Ey.startHighlighting(this,c(this,Z).direction==="ltr",{target:c(this,Tt).div,x:e.x,y:e.y}),c(this,Tt).div.addEventListener("pointerup",()=>{c(this,Tt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:c(this,Z)._signal}),e.preventDefault()}},mr=function(){return c(ks,Qo).get(c(this,Z).getMode())},ub=function(e){const t=c(this,Ue,mr);return t?new t.prototype.constructor(e):null},db=function(){const{x:e,y:t,width:s,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+s),l=Math.min(window.innerHeight,t+r),u=(i+a)/2-e,d=(o+l)/2-t,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},Og=function(){for(const e of c(this,Xn).values())e.isEmpty()&&e.remove()},H(ks,"_initialized",!1),S(ks,Qo,new Map([$x,eb,ab,Ey,ob].map(e=>[e._editorType,e])));let cb=ks;var Us,rn,Kl,Op,Wy,xN,Gr,fb,bN,pb;const ft=class ft{constructor({pageIndex:e}){S(this,Gr);S(this,Us,null);S(this,rn,new Map);S(this,Kl,new Map);this.pageIndex=e}setParent(e){if(!c(this,Us)){A(this,Us,e);return}if(c(this,Us)!==e){if(c(this,rn).size>0)for(const t of c(this,rn).values())t.remove(),e.append(t);A(this,Us,e)}}static get _svgFactory(){return pe(this,"_svgFactory",new by)}draw(e,t=!1,s=!1){const r=xt(ft,Op)._++,i=E(this,Gr,fb).call(this),o=ft._svgFactory.createElement("defs");i.append(o);const a=ft._svgFactory.createElement("path");o.append(a);const l=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),t&&c(this,Kl).set(r,a);const u=s?E(this,Gr,bN).call(this,o,l):null,d=ft._svgFactory.createElement("use");return i.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(i,e),c(this,rn).set(r,i),{id:r,clipPathId:`url(#${u})`}}drawOutline(e,t){const s=xt(ft,Op)._++,r=E(this,Gr,fb).call(this),i=ft._svgFactory.createElement("defs");r.append(i);const o=ft._svgFactory.createElement("path");i.append(o);const a=`path_p${this.pageIndex}_${s}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const h=ft._svgFactory.createElement("mask");i.append(h),l=`mask_p${this.pageIndex}_${s}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const f=ft._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const m=ft._svgFactory.createElement("use");h.append(m),m.setAttribute("href",`#${a}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const u=ft._svgFactory.createElement("use");r.append(u),u.setAttribute("href",`#${a}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return r.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(r,e),c(this,rn).set(s,r),s}finalizeDraw(e,t){c(this,Kl).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:s,bbox:r,rootClass:i,path:o}=t,a=typeof e=="number"?c(this,rn).get(e):e;if(a){if(s&&E(this,Gr,pb).call(this,a,s),r&&E(l=ft,Wy,xN).call(l,a,r),i){const{classList:u}=a;for(const[d,h]of Object.entries(i))u.toggle(d,h)}if(o){const d=a.firstChild.firstChild;E(this,Gr,pb).call(this,d,o)}}}updateParent(e,t){if(t===this)return;const s=c(this,rn).get(e);s&&(c(t,Us).append(s),c(this,rn).delete(e),c(t,rn).set(e,s))}remove(e){c(this,Kl).delete(e),c(this,Us)!==null&&(c(this,rn).get(e).remove(),c(this,rn).delete(e))}destroy(){A(this,Us,null);for(const e of c(this,rn).values())e.remove();c(this,rn).clear(),c(this,Kl).clear()}};Us=new WeakMap,rn=new WeakMap,Kl=new WeakMap,Op=new WeakMap,Wy=new WeakSet,xN=function(e,[t,s,r,i]){const{style:o}=e;o.top=`${100*s}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*i}%`},Gr=new WeakSet,fb=function(){const e=ft._svgFactory.create(1,1,!0);return c(this,Us).append(e),e.setAttribute("aria-hidden",!0),e},bN=function(e,t){const s=ft._svgFactory.createElement("clipPath");e.append(s);const r=`clip_${t}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const i=ft._svgFactory.createElement("use");return s.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),r},pb=function(e,t){for(const[s,r]of Object.entries(t))r===null?e.removeAttribute(s):e.setAttribute(s,r)},S(ft,Wy),S(ft,Op,0);let hb=ft;globalThis._pdfjsTestingUtils={HighlightOutliner:Ux};globalThis.pdfjsLib={AbortException:ga,AnnotationEditorLayer:cb,AnnotationEditorParamsType:me,AnnotationEditorType:re,AnnotationEditorUIManager:cc,AnnotationLayer:Fx,AnnotationMode:ao,AnnotationType:ot,build:F5,ColorPicker:Sy,createValidAbsoluteUrl:hP,DOMSVGFactory:by,DrawLayer:hb,FeatureTest:zt,fetchData:Kp,getDocument:g2,getFilenameFromUrl:R4,getPdfFilenameFromUrl:L4,getUuid:mP,getXfaPageViewport:I4,GlobalWorkerOptions:Br,ImageKind:og,InvalidPDFException:Jw,isDataScheme:Pv,isPdfFile:j1,isValidExplicitDest:W4,MathClamp:an,noContextMenu:er,normalizeUnicode:k4,OPS:yy,OutputScale:Wr,PasswordResponses:w4,PDFDataRangeTransport:y2,PDFDateString:F1,PDFWorker:of,PermissionFlag:v4,PixelsPerInch:ya,RenderingCancelledException:O1,ResponseException:vy,setLayerDimensions:lc,shadow:pe,SignatureExtractor:Ii,stopEvent:at,SupportedImageMimeTypes:ex,TextLayer:sf,TouchManager:xy,updateUrlHash:fP,Util:te,VerbosityLevel:_v,version:x2,XfaLayer:b2};Br.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${x2}/pdf.worker.min.js`;function oB({url:n}){const e=T.useRef(null);return T.useEffect(()=>{(async()=>{const r=await(await g2(n).promise).getPage(1),i=r.getViewport({scale:1.5}),o=e.current;if(!o)return;const a=o.getContext("2d");o.height=i.height,o.width=i.width,await r.render({canvasContext:a,viewport:i}).promise})()},[n]),y.jsx("canvas",{ref:e,className:"w-full h-auto rounded-t-lg"})}const em=T.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:rt("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));em.displayName="Card";const tm=T.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:rt("flex flex-col space-y-1.5 p-6",n),...e}));tm.displayName="CardHeader";const nm=T.forwardRef(({className:n,...e},t)=>y.jsx("h3",{ref:t,className:rt("text-2xl font-semibold leading-none tracking-tight",n),...e}));nm.displayName="CardTitle";const sm=T.forwardRef(({className:n,...e},t)=>y.jsx("p",{ref:t,className:rt("text-sm text-muted-foreground",n),...e}));sm.displayName="CardDescription";const rm=T.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:rt("p-6 pt-0",n),...e}));rm.displayName="CardContent";const im=T.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:rt("flex items-center p-6 pt-0",n),...e}));im.displayName="CardFooter";const Lv=({className:n,...e})=>y.jsx("nav",{role:"navigation","aria-label":"pagination",className:rt("mx-auto flex w-full justify-center",n),...e});Lv.displayName="Pagination";const Mv=T.forwardRef(({className:n,...e},t)=>y.jsx("ul",{ref:t,className:rt("flex flex-row items-center gap-1",n),...e}));Mv.displayName="PaginationContent";const Hr=T.forwardRef(({className:n,...e},t)=>y.jsx("li",{ref:t,className:rt("",n),...e}));Hr.displayName="PaginationItem";const Dd=({className:n,isActive:e,size:t="icon",...s})=>y.jsx("a",{"aria-current":e?"page":void 0,className:rt(zk({variant:e?"outline":"ghost",size:t}),n),...s});Dd.displayName="PaginationLink";const Iv=({className:n,...e})=>y.jsxs(Dd,{"aria-label":"Go to previous page",size:"default",className:rt("gap-1 pl-2.5",n),...e,children:[y.jsx(DT,{className:"h-4 w-4"}),y.jsx("span",{children:"Previous"})]});Iv.displayName="PaginationPrevious";const Dv=({className:n,...e})=>y.jsxs(Dd,{"aria-label":"Go to next page",size:"default",className:rt("gap-1 pr-2.5",n),...e,children:[y.jsx("span",{children:"Next"}),y.jsx(OT,{className:"h-4 w-4"})]});Dv.displayName="PaginationNext";function aB(){const[n,e]=T.useState([]),[t,s]=T.useState(""),[r,i]=T.useState(1),[o,a]=T.useState(!0),l=6,[u]=Bk(),d=u.get("focusId"),h=T.useRef(null);T.useEffect(()=>{(async()=>{try{const C=await Re.get("http://localhost:3333/books");e(C.data)}catch(C){console.error("Erro ao carregar livros:",C)}finally{a(!1)}})()},[]),T.useEffect(()=>{if(d&&n.length>0){const b=Number(d),C=n.findIndex(_=>_.id===b);if(C!==-1){const _=Math.floor(C/l)+1;i(_),setTimeout(()=>{const k=document.getElementById(`book-card-${b}`);k&&k.scrollIntoView({behavior:"smooth",block:"center"})},300)}}},[d,n]),T.useEffect(()=>{if(d&&n.length>0){const b=Number(d),C=n.find(_=>_.id===b);C&&f({id:C.id,title:C.title,type:"book"})}},[d,n]);const f=b=>{const C=JSON.parse(localStorage.getItem("history")||"[]"),_=[b,...C.filter(k=>k.id!==b.id||k.type!==b.type)];localStorage.setItem("history",JSON.stringify(_))},m=n.filter(b=>b.title.toLowerCase().includes(t.toLowerCase())),g=Math.ceil(m.length/l),p=r*l,x=p-l,v=m.slice(x,p),w=b=>{b>=1&&b<=g&&(i(b),window.scrollTo({top:0,behavior:"smooth"}))};return y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(nr,{}),y.jsxs("main",{className:"container mx-auto px-4 py-12",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 rounded-full text-primary text-sm font-medium mb-4",children:[y.jsx(Ss,{className:"h-4 w-4"}),"Biblioteca Digital"]}),y.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Livros Disponíveis"}),y.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Explore nossa coleção de livros em PDF disponíveis para download gratuito"})]}),y.jsx("div",{className:"max-w-md mx-auto mb-12",children:y.jsxs("div",{className:"relative",children:[y.jsx(y1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),y.jsx(Zs,{type:"text",placeholder:"Pesquisar livros...",value:t,onChange:b=>{s(b.target.value),i(1)},className:"pl-10 h-12 text-base"})]})}),o?y.jsxs("div",{className:"text-center py-20",children:[y.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent"}),y.jsx("p",{className:"text-muted-foreground mt-4",children:"Carregando livros..."})]}):m.length===0?y.jsxs("div",{className:"text-center py-20",children:[y.jsx(Ss,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),y.jsx("p",{className:"text-xl text-muted-foreground",children:t?"Nenhum livro encontrado.":"Nenhum livro disponível."})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:h,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:v.map(b=>y.jsxs(em,{id:`book-card-${b.id}`,className:`group hover:shadow-glow transition-all duration-300 bg-card/80 backdrop-blur-sm border-border/50 ${b.id===Number(d)?"border-4 border-primary":""}`,children:[y.jsx(tm,{className:"p-0",children:b.coverImagePath?y.jsx("div",{className:"aspect-[3/4] overflow-hidden rounded-t-lg",children:y.jsx("img",{src:`http://localhost:3333/files/${b.coverImagePath}`,alt:`Capa do livro ${b.title}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 "})}):y.jsxs("div",{className:"aspect-[3/4] bg-muted/30 rounded-t-lg overflow-hidden",children:[y.jsx(g1,{className:"h-16 w-16 text-muted-foreground"}),y.jsx(oB,{url:`http://localhost:3333/files/${b.filePath}`})]})}),y.jsxs(rm,{className:"p-6",children:[y.jsx(nm,{className:"text-lg mb-2 group-hover:text-primary transition-colors",children:b.title}),y.jsx(sm,{children:b.description})]}),y.jsxs(im,{className:"p-6 pt-0 flex gap-2",children:[y.jsx(xe,{asChild:!0,variant:"outline",className:"w-1/2",children:y.jsxs("a",{href:`http://localhost:3333/files/${b.filePath}`,target:"_blank",rel:"noopener noreferrer",onClick:()=>f({id:b.id,title:b.title,type:"book"}),children:[y.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Visualizar"]})}),y.jsx(xe,{asChild:!0,variant:"hero",className:"w-1/2",children:y.jsxs("a",{href:`http://localhost:3333/downloadBook/${b.filePath}`,download:!0,target:"_blank",rel:"noopener noreferrer",children:[y.jsx(Up,{className:"h-4 w-4 mr-2"}),"Baixar"]})})]})]},b.id))}),g>1&&y.jsx("div",{className:"flex justify-center",children:y.jsx(Lv,{children:y.jsxs(Mv,{children:[y.jsx(Hr,{children:y.jsx(Iv,{href:"#",onClick:b=>{b.preventDefault(),w(r-1)},className:r===1?"pointer-events-none opacity-50":""})}),Array.from({length:g},(b,C)=>C+1).map(b=>y.jsx(Hr,{children:y.jsx(Dd,{href:"#",onClick:C=>{C.preventDefault(),w(b)},isActive:b===r,children:b})},b)),y.jsx(Hr,{children:y.jsx(Dv,{href:"#",onClick:b=>{b.preventDefault(),w(r+1)},className:r===g||g===0?"pointer-events-none opacity-50":""})})]})})})]})]}),y.jsx(sr,{})]})}function lB(){const[n,e]=T.useState([]),[t,s]=T.useState(""),[r,i]=T.useState(1),[o,a]=T.useState(!0),l=6,[u]=Bk(),d=Number(u.get("focusId"));T.useEffect(()=>{(async()=>{try{const b=await Re.get("http://localhost:3333/games");e(b.data)}catch(b){console.error("Erro ao carregar jogos:",b)}finally{a(!1)}})()},[]),T.useEffect(()=>{!o&&d&&setTimeout(()=>{const w=document.getElementById(`game-${d}`);w&&(w.scrollIntoView({behavior:"smooth",block:"center"}),w.classList.add("ring-4","ring-primary","ring-offset-2"),setTimeout(()=>{w.classList.remove("ring-4","ring-primary","ring-offset-2")},3e3))},500)},[o,d]);const h=w=>{const b=JSON.parse(localStorage.getItem("history")||"[]"),C=[w,...b.filter(_=>_.id!==w.id||_.type!==w.type)];localStorage.setItem("history",JSON.stringify(C))},f=n.filter(w=>w.title.toLowerCase().includes(t.toLowerCase())),m=Math.ceil(f.length/l);r>m&&m>0&&i(m);const g=r*l,p=g-l,x=f.slice(p,g),v=w=>{w>=1&&w<=m&&(i(w),window.scrollTo({top:0,behavior:"smooth"}))};return y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(nr,{}),y.jsxs("main",{className:"container mx-auto px-4 py-12",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 rounded-full text-primary text-sm font-medium mb-4",children:[y.jsx(Jl,{className:"h-4 w-4"}),"Jogos Python"]}),y.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Jogos em Python"}),y.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Descubra nossa coleção de jogos desenvolvidos em Python disponíveis para download gratuito"})]}),y.jsx("div",{className:"max-w-md mx-auto mb-12",children:y.jsxs("div",{className:"relative",children:[y.jsx(y1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),y.jsx(Zs,{type:"text",placeholder:"Pesquisar jogos...",value:t,onChange:w=>{s(w.target.value),i(1)},className:"pl-10 h-12 text-base"})]})}),o?y.jsxs("div",{className:"text-center py-20",children:[y.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent"}),y.jsx("p",{className:"text-muted-foreground mt-4",children:"Carregando jogos..."})]}):f.length===0?y.jsxs("div",{className:"text-center py-20",children:[y.jsx(Jl,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),y.jsx("p",{className:"text-xl text-muted-foreground",children:t?"Nenhum jogo encontrado.":"Nenhum jogo disponível."})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:x.map(w=>y.jsxs(em,{id:`game-${w.id}`,className:"group hover:shadow-glow transition-all duration-300 bg-card/80 backdrop-blur-sm border-border/50",children:[y.jsx(tm,{className:"p-0",children:w.coverImagePath?y.jsx("div",{className:"aspect-[3/4] overflow-hidden rounded-t-lg",children:y.jsx("img",{src:`http://localhost:3333/files/${w.coverImagePath}`,alt:`Capa do jogo ${w.title}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}):y.jsx("div",{className:"aspect-[3/4] bg-muted/30 rounded-t-lg flex items-center justify-center",children:y.jsx(Jl,{className:"h-16 w-16 text-muted-foreground"})})}),y.jsxs(rm,{className:"p-6",children:[y.jsx(nm,{className:"text-lg mb-2 group-hover:text-primary transition-colors",children:w.title}),y.jsx(sm,{className:"line-clamp-3",children:w.description})]}),y.jsx(im,{className:"p-6 pt-0",children:y.jsx(xe,{asChild:!0,className:"w-full",variant:"hero",children:y.jsxs("a",{href:`http://localhost:3333/downloadGame/${w.filePath}`,download:!0,target:"_blank",rel:"noopener noreferrer",onClick:()=>h({id:w.id,title:w.title,type:"game"}),children:[y.jsx(Up,{className:"h-4 w-4"}),"Baixar Jogo"]})})})]},w.id))}),m>1&&y.jsx("div",{className:"flex justify-center",children:y.jsx(Lv,{children:y.jsxs(Mv,{children:[y.jsx(Hr,{children:y.jsx(Iv,{href:"#",onClick:w=>{w.preventDefault(),v(r-1)},className:r===1?"pointer-events-none opacity-50":""})}),Array.from({length:m},(w,b)=>b+1).map(w=>y.jsx(Hr,{children:y.jsx(Dd,{href:"#",onClick:b=>{b.preventDefault(),v(w)},isActive:w===r,children:w})},w)),y.jsx(Hr,{children:y.jsx(Dv,{href:"#",onClick:w=>{w.preventDefault(),v(r+1)},className:r===m||m===0?"pointer-events-none opacity-50":""})})]})})})]})]}),y.jsx(sr,{})]})}const cB=()=>{const n=mc();return T.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),y.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),y.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};class xh extends Error{}xh.prototype.name="InvalidTokenError";function uB(n){return decodeURIComponent(atob(n).replace(/(.)/g,(e,t)=>{let s=t.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}function dB(n){let e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return uB(e)}catch{return atob(e)}}function AN(n,e){if(typeof n!="string")throw new xh("Invalid token specified: must be a string");e||(e={});const t=e.header===!0?0:1,s=n.split(".")[t];if(typeof s!="string")throw new xh(`Invalid token specified: missing part #${t+1}`);let r;try{r=dB(s)}catch(i){throw new xh(`Invalid token specified: invalid base64 for part #${t+1} (${i.message})`)}try{return JSON.parse(r)}catch(i){throw new xh(`Invalid token specified: invalid json for part #${t+1} (${i.message})`)}}function hB(){const[n,e]=T.useState(""),[t,s]=T.useState(""),[r,i]=T.useState(""),o=gc(),a=async()=>{try{const u=(await Re.post("http://localhost:3333/auth/login",{email:n,password:t})).data.token;localStorage.setItem("token",u);const d=AN(u);d.owner||d.email!=="mendes@gmail.com"?o("/admin/solicitacoes"):o("/admin/post")}catch(l){console.error(l),i("Login inválido")}};return y.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[y.jsx(nr,{}),y.jsxs("main",{className:"container mx-auto px-4 py-16 flex-grow flex flex-col justify-center max-w-md",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Login do Admin"}),y.jsx("p",{className:"text-muted-foreground",children:"Acesse sua conta para gerenciar o sistema"})]}),y.jsxs("form",{onSubmit:l=>{l.preventDefault(),a()},className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-lg p-8 shadow-md",children:[y.jsx("div",{className:"mb-6",children:y.jsx(Zs,{type:"email",placeholder:"Email",value:n,onChange:l=>e(l.target.value),autoComplete:"username",required:!0})}),y.jsx("div",{className:"mb-6",children:y.jsx(Zs,{type:"password",placeholder:"Senha",value:t,onChange:l=>s(l.target.value),autoComplete:"current-password",required:!0})}),r&&y.jsx("p",{className:"mb-4 text-sm text-red-500 text-center font-medium",children:r}),y.jsx(xe,{variant:"hero",type:"submit",className:"w-full",children:"Entrar"})]})]}),y.jsx(sr,{})]})}function fB(){const n=gc(),[e,t]=T.useState(!1),[s,r]=T.useState("book"),[i,o]=T.useState(""),[a,l]=T.useState(""),[u,d]=T.useState(""),[h,f]=T.useState(null),[m,g]=T.useState(null),[p,x]=T.useState(""),[v,w]=T.useState(""),[b,C]=T.useState(!1),[_,k]=T.useState(0);T.useEffect(()=>{localStorage.getItem("token")?t(!0):n("/admin/login")},[n]);const P=()=>{localStorage.removeItem("token"),t(!1),n("/admin/login")},N=async M=>{M.preventDefault();const D=localStorage.getItem("token");if(!D||!h){x("Você precisa estar logado e selecionar um arquivo."),w("");return}if(s==="movie"&&(u===""||u<0||u>10)){x("Informe uma nota válida entre 0 e 10 para o filme."),w("");return}const F=new FormData;F.append("title",i),F.append("description",a),F.append("type",s),F.append("file",h),m&&F.append("coverImage",m),s==="movie"&&F.append("rating",u.toString());try{C(!0),k(0),await Re.post("http://localhost:3333/admin/post",F,{headers:{Authorization:`Bearer ${D}`},onUploadProgress:G=>{const O=Math.round(G.loaded*100/(G.total||1));k(O)}}),w(`${s==="book"?"Livro":s==="game"?"Jogo":"Filme"} postado com sucesso!`),o(""),l(""),d(""),f(null),g(null),x("")}catch(G){x("Erro ao postar conteúdo"),w(""),console.error(G)}finally{C(!1),k(0)}},L=s==="book"?"Escolha arquivo do livro":s==="game"?"Escolha arquivo do jogo":"Escolha arquivo do filme";return y.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[y.jsx(nr,{}),y.jsx("main",{className:"container mx-auto px-4 py-16 flex-grow flex flex-col justify-center max-w-lg",children:y.jsxs("form",{onSubmit:N,className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-lg p-8 shadow-md flex flex-col gap-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:["Postar ",s==="book"?"Livro":s==="game"?"Jogo":"Filme"]}),e&&y.jsx(xe,{variant:"ghost",size:"sm",onClick:P,children:"Sair"})]}),y.jsxs("div",{className:"flex gap-6",children:[y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[y.jsx("input",{type:"radio",checked:s==="book",onChange:()=>r("book"),className:"cursor-pointer"}),"Livro"]}),y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[y.jsx("input",{type:"radio",checked:s==="game",onChange:()=>r("game"),className:"cursor-pointer"}),"Jogo"]}),y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[y.jsx("input",{type:"radio",checked:s==="movie",onChange:()=>r("movie"),className:"cursor-pointer"}),"Filme"]})]}),y.jsx(Zs,{type:"text",placeholder:"Título",value:i,onChange:M=>o(M.target.value),required:!0}),y.jsx("textarea",{placeholder:"Descrição",value:a,onChange:M=>l(M.target.value),required:!0,className:"resize-none rounded-md border border-border/50 bg-card/70 text-foreground p-3 min-h-[100px] focus:outline-none focus:ring-2 focus:ring-primary"}),s==="movie"&&y.jsx(Zs,{type:"number",placeholder:"Nota (0 a 10)",value:u,min:0,max:10,step:.1,onChange:M=>{const D=M.target.value;d(D===""?"":parseFloat(D))},required:!0}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"fileInput",className:"block mb-1 font-medium text-foreground cursor-pointer",children:h?h.name:L}),y.jsx("input",{id:"fileInput",type:"file",onChange:M=>{var D;return f(((D=M.target.files)==null?void 0:D[0])||null)},required:!0,className:"w-full cursor-pointer"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"coverInput",className:"block mb-1 font-medium text-foreground cursor-pointer",children:m?m.name:"Escolha a imagem da capa"}),y.jsx("input",{id:"coverInput",type:"file",accept:"image/*",onChange:M=>{var D;return g(((D=M.target.files)==null?void 0:D[0])||null)},className:"w-full cursor-pointer"})]}),y.jsx(xe,{variant:"hero",type:"submit",className:"w-full",disabled:b,children:b?`Enviando... (${_}%)`:"Enviar"}),b&&y.jsxs("div",{className:"text-sm text-blue-500 text-center",children:["Carregando arquivo... ",_,"%"]}),p&&y.jsx("p",{className:"text-center text-sm text-red-500",children:p}),v&&y.jsx("p",{className:"text-center text-sm text-green-500",children:v})]})}),y.jsx(sr,{})]})}function pB(){const[n,e]=T.useState([]),[t,s]=T.useState(""),r=gc();T.useEffect(()=>{const o=localStorage.getItem("token");if(!o){r("/admin/login");return}try{const l=AN(o);if(!l.owner||l.email!=="mendes@gmail.com"){s("Acesso negado."),r("/admin/post");return}}catch{r("/admin/login");return}(async()=>{try{const l=await Re.get("http://localhost:3333/admin/pending",{headers:{Authorization:`Bearer ${o}`}});e(l.data)}catch{s("Erro ao buscar usuários."),r("/admin/login")}})()},[r]);const i=async o=>{const a=localStorage.getItem("token");try{await Re.post(`http://localhost:3333/admin/approve/${o}`,null,{headers:{Authorization:`Bearer ${a}`}}),e(l=>l.filter(u=>u.id!==o))}catch{s("Erro ao aprovar usuário.")}};return y.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[y.jsx(nr,{}),y.jsxs("main",{className:"container mx-auto px-4 py-16 flex-grow max-w-3xl",children:[y.jsx("h1",{className:"text-4xl font-bold text-primary mb-8 text-center",children:"Solicitações de Cadastro"}),t&&y.jsx("p",{className:"text-center text-red-500 font-semibold mb-6",children:t}),n.length===0?y.jsx("p",{className:"text-center text-muted-foreground italic",children:"Nenhuma solicitação pendente."}):y.jsx("div",{className:"flex flex-col gap-4",children:n.map(o=>y.jsxs("div",{className:"bg-card/80 backdrop-blur-sm border border-border/50 rounded-lg p-4 flex justify-between items-center shadow-md",children:[y.jsx("span",{className:"text-foreground",children:o.email}),y.jsx(xe,{variant:"hero",size:"sm",onClick:()=>i(o.id),children:"Aprovar"})]},o.id))})]}),y.jsx(sr,{})]})}let mB={data:""},gB=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||mB,yB=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,vB=/\/\*[^]*?\*\/|  +/g,LE=/\n+/g,lo=(n,e)=>{let t="",s="",r="";for(let i in n){let o=n[i];i[0]=="@"?i[1]=="i"?t=i+" "+o+";":s+=i[1]=="f"?lo(o,i):i+"{"+lo(o,i[1]=="k"?"":e)+"}":typeof o=="object"?s+=lo(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=lo.p?lo.p(i,o):i+":"+o+";")}return t+(e&&r?e+"{"+r+"}":r)+s},Kr={},SN=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+SN(n[t]);return e}return n},wB=(n,e,t,s,r)=>{let i=SN(n),o=Kr[i]||(Kr[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Kr[o]){let l=i!==n?n:(u=>{let d,h,f=[{}];for(;d=yB.exec(u.replace(vB,""));)d[4]?f.shift():d[3]?(h=d[3].replace(LE," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(LE," ").trim();return f[0]})(n);Kr[o]=lo(r?{["@keyframes "+o]:l}:l,t?"":"."+o)}let a=t&&Kr.g?Kr.g:null;return t&&(Kr.g=Kr[o]),((l,u,d,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(Kr[o],e,s,a),o},xB=(n,e,t)=>n.reduce((s,r,i)=>{let o=e[i];if(o&&o.call){let a=o(t),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":lo(a,""):a===!1?"":a}return s+r+(o??"")},"");function Ov(n){let e=this||{},t=n.call?n(e.p):n;return wB(t.unshift?t.raw?xB(t,[].slice.call(arguments,1),e.p):t.reduce((s,r)=>Object.assign(s,r&&r.call?r(e.p):r),{}):t,gB(e.target),e.g,e.o,e.k)}let EN,mb,gb;Ov.bind({g:1});let Gi=Ov.bind({k:1});function bB(n,e,t,s){lo.p=e,EN=n,mb=t,gb=s}function Ea(n,e){let t=this||{};return function(){let s=arguments;function r(i,o){let a=Object.assign({},i),l=a.className||r.className;t.p=Object.assign({theme:mb&&mb()},a),t.o=/ *go\d+/.test(l),a.className=Ov.apply(t,s)+(l?" "+l:"");let u=n;return n[0]&&(u=a.as||n,delete a.as),gb&&u[0]&&gb(a),EN(u,a)}return r}}var AB=n=>typeof n=="function",_y=(n,e)=>AB(n)?n(e):n,SB=(()=>{let n=0;return()=>(++n).toString()})(),CN=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),EB=20,_N=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,EB)};case 1:return{...n,toasts:n.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:t}=e;return _N(n,{type:n.toasts.find(i=>i.id===t.id)?1:0,toast:t});case 3:let{toastId:s}=e;return{...n,toasts:n.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let r=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+r}))}}},jg=[],ja={toasts:[],pausedAt:void 0},wc=n=>{ja=_N(ja,n),jg.forEach(e=>{e(ja)})},CB={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},_B=(n={})=>{let[e,t]=T.useState(ja),s=T.useRef(ja);T.useEffect(()=>(s.current!==ja&&t(ja),jg.push(t),()=>{let i=jg.indexOf(t);i>-1&&jg.splice(i,1)}),[]);let r=e.toasts.map(i=>{var o,a,l;return{...n,...n[i.type],...i,removeDelay:i.removeDelay||((o=n[i.type])==null?void 0:o.removeDelay)||(n==null?void 0:n.removeDelay),duration:i.duration||((a=n[i.type])==null?void 0:a.duration)||(n==null?void 0:n.duration)||CB[i.type],style:{...n.style,...(l=n[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:r}},TB=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||SB()}),om=n=>(e,t)=>{let s=TB(e,n,t);return wc({type:2,toast:s}),s.id},un=(n,e)=>om("blank")(n,e);un.error=om("error");un.success=om("success");un.loading=om("loading");un.custom=om("custom");un.dismiss=n=>{wc({type:3,toastId:n})};un.remove=n=>wc({type:4,toastId:n});un.promise=(n,e,t)=>{let s=un.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(r=>{let i=e.success?_y(e.success,r):void 0;return i?un.success(i,{id:s,...t,...t==null?void 0:t.success}):un.dismiss(s),r}).catch(r=>{let i=e.error?_y(e.error,r):void 0;i?un.error(i,{id:s,...t,...t==null?void 0:t.error}):un.dismiss(s)}),n};var kB=(n,e)=>{wc({type:1,toast:{id:n,height:e}})},PB=()=>{wc({type:5,time:Date.now()})},Rh=new Map,NB=1e3,RB=(n,e=NB)=>{if(Rh.has(n))return;let t=setTimeout(()=>{Rh.delete(n),wc({type:4,toastId:n})},e);Rh.set(n,t)},LB=n=>{let{toasts:e,pausedAt:t}=_B(n);T.useEffect(()=>{if(t)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&un.dismiss(a.id);return}return setTimeout(()=>un.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,t]);let s=T.useCallback(()=>{t&&wc({type:6,time:Date.now()})},[t]),r=T.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},d=e.filter(m=>(m.position||u)===(i.position||u)&&m.height),h=d.findIndex(m=>m.id===i.id),f=d.filter((m,g)=>g<h&&m.visible).length;return d.filter(m=>m.visible).slice(...a?[f+1]:[0,f]).reduce((m,g)=>m+(g.height||0)+l,0)},[e]);return T.useEffect(()=>{e.forEach(i=>{if(i.dismissed)RB(i.id,i.removeDelay);else{let o=Rh.get(i.id);o&&(clearTimeout(o),Rh.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:kB,startPause:PB,endPause:s,calculateOffset:r}}},MB=Gi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,IB=Gi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DB=Gi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,OB=Ea("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${MB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${IB} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${DB} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,jB=Gi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,FB=Ea("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${jB} 1s linear infinite;
`,BB=Gi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,zB=Gi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,$B=Ea("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${zB} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,HB=Ea("div")`
  position: absolute;
`,UB=Ea("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,VB=Gi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,WB=Ea("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${VB} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,GB=({toast:n})=>{let{icon:e,type:t,iconTheme:s}=n;return e!==void 0?typeof e=="string"?T.createElement(WB,null,e):e:t==="blank"?null:T.createElement(UB,null,T.createElement(FB,{...s}),t!=="loading"&&T.createElement(HB,null,t==="error"?T.createElement(OB,{...s}):T.createElement($B,{...s})))},qB=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,XB=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,KB="0%{opacity:0;} 100%{opacity:1;}",YB="0%{opacity:1;} 100%{opacity:0;}",QB=Ea("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,JB=Ea("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ZB=(n,e)=>{let t=n.includes("top")?1:-1,[s,r]=CN()?[KB,YB]:[qB(t),XB(t)];return{animation:e?`${Gi(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Gi(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ez=T.memo(({toast:n,position:e,style:t,children:s})=>{let r=n.height?ZB(n.position||e||"top-center",n.visible):{opacity:0},i=T.createElement(GB,{toast:n}),o=T.createElement(JB,{...n.ariaProps},_y(n.message,n));return T.createElement(QB,{className:n.className,style:{...r,...t,...n.style}},typeof s=="function"?s({icon:i,message:o}):T.createElement(T.Fragment,null,i,o))});bB(T.createElement);var tz=({id:n,className:e,style:t,onHeightUpdate:s,children:r})=>{let i=T.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;s(n,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return T.createElement("div",{ref:i,className:e,style:t},r)},nz=(n,e)=>{let t=n.includes("top"),s=t?{top:0}:{bottom:0},r=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:CN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...r}},sz=Ov`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zm=16,rz=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:s,children:r,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=LB(t);return T.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:zm,left:zm,right:zm,bottom:zm,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let d=u.position||e,h=l.calculateOffset(u,{reverseOrder:n,gutter:s,defaultPosition:e}),f=nz(d,h);return T.createElement(tz,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?sz:"",style:f},u.type==="custom"?_y(u.message,u):r?r(u):T.createElement(ez,{toast:u,position:d}))}))},ME=un;function iz(){const[n,e]=T.useState(""),[t,s]=T.useState(""),r=gc(),i=async()=>{var o,a,l;try{await Re.post("http://localhost:3333/auth/register",{email:n,password:t}),ME.success("Cadastro realizado com sucesso!"),setTimeout(()=>{r("/admin/login")},2e3)}catch(u){console.error("Erro no cadastro:",((o=u.response)==null?void 0:o.data)||u.message),ME.error(((l=(a=u.response)==null?void 0:a.data)==null?void 0:l.message)||"Erro ao cadastrar")}};return y.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center px-4 py-12",children:[y.jsx(rz,{position:"top-center",reverseOrder:!1,toastOptions:{duration:4e3,style:{fontSize:"1rem"}}}),y.jsxs("div",{className:"w-full max-w-md bg-card/80 backdrop-blur-sm border border-border/50 rounded-lg p-8 shadow-lg",children:[y.jsx("h1",{className:"text-2xl font-bold text-foreground mb-6 text-center",children:"Cadastro de Admin"}),y.jsx(Zs,{type:"email",placeholder:"Seu email",value:n,onChange:o=>e(o.target.value),className:"mb-4"}),y.jsx(Zs,{type:"password",placeholder:"Sua senha",value:t,onChange:o=>s(o.target.value),className:"mb-6"}),y.jsx(xe,{onClick:i,variant:"hero",className:"w-full",type:"button",children:"Cadastrar"})]})]})}function oz(){const[n,e]=T.useState([]),[t,s]=T.useState(""),[r,i]=T.useState(1),o=6;T.useEffect(()=>{a()},[]);const a=async()=>{try{const p=await fetch("http://localhost:3333/freetogame");if(!p.ok)throw new Error("Erro ao buscar jogos");const x=await p.json();e(x),i(1)}catch(p){console.error("Erro ao buscar jogos:",p),e([])}},l=n.filter(p=>p.title.toLowerCase().includes(t.toLowerCase())),u=Math.ceil(l.length/o),d=r*o,h=d-o,f=l.slice(h,d),m=p=>{p<1||p>u||(i(p),window.scrollTo({top:0,behavior:"smooth"}))},g=p=>{try{const x=JSON.parse(localStorage.getItem("history")||"[]"),v={id:String(p.id),title:p.title,type:"onlineGame",url:p.game_url},w=[v,...x.filter(b=>b.id!==v.id)];localStorage.setItem("history",JSON.stringify(w))}catch{}};return y.jsxs(y.Fragment,{children:[y.jsx(nr,{}),y.jsxs("main",{className:"w-full px-4 py-8 max-w-5xl mx-auto",children:[y.jsxs("div",{className:"mb-10",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium mb-4",children:[y.jsx(xS,{size:16}),"Jogos Online Gratuitos"]}),y.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Encontre seu jogo favorito"}),y.jsx("p",{className:"text-lg text-gray-600 max-w-xl",children:"Explore nossa seleção de jogos gratuitos para jogar online."})]}),y.jsxs("div",{className:"relative max-w-md mx-auto mb-10",children:[y.jsx(xS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),y.jsx(Zs,{placeholder:"Pesquisar jogos...",value:t,onChange:p=>{s(p.target.value),i(1)},className:"pl-10"})]}),n.length===0?y.jsx("p",{className:"text-center",children:"Carregando jogos..."}):l.length===0?y.jsx("p",{className:"text-center",children:"Nenhum jogo encontrado."}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(p=>y.jsxs("div",{className:"border rounded-lg p-4 flex flex-col shadow-sm",children:[y.jsx("img",{src:p.thumbnail,alt:p.title,className:"w-full h-40 object-cover rounded-md mb-4"}),y.jsx("h3",{className:"text-lg font-semibold mb-2",children:p.title}),y.jsx("p",{className:"text-sm text-gray-600 flex-grow",children:p.short_description}),y.jsx("button",{onClick:()=>{g(p),window.open(p.game_url,"_blank")},className:"mt-4 bg-blue-600 text-white text-center py-2 rounded hover:bg-blue-700 transition font-medium",children:"Jogar Agora"})]},p.id))}),y.jsxs("div",{className:"mt-10 flex justify-center flex-wrap gap-2",children:[y.jsx(xe,{variant:"outline",size:"sm",onClick:()=>m(r-1),disabled:r===1,children:"« Anterior"}),Array.from({length:u},(p,x)=>x+1).map(p=>y.jsx(xe,{variant:p===r?"default":"outline",size:"sm",onClick:()=>m(p),children:p},p)),y.jsx(xe,{variant:"outline",size:"sm",onClick:()=>m(r+1),disabled:r===u,children:"Próximo »"})]})]})]}),y.jsx(sr,{})]})}function az(){const[n,e]=T.useState([]),[t,s]=T.useState(""),[r,i]=T.useState(1),o=6;T.useEffect(()=>{const g=t.trim()||"programming";fetch(`https://openlibrary.org/search.json?q=${encodeURIComponent(g)}&limit=100`).then(p=>p.json()).then(p=>{p!=null&&p.docs&&(e(p.docs),i(1))}).catch(console.error)},[t]);const a=Math.ceil(n.length/o),l=r*o,u=l-o,d=n.slice(u,l),h=g=>{g>=1&&g<=a&&(i(g),window.scrollTo({top:0,behavior:"smooth"}))},f=g=>{const p=JSON.parse(localStorage.getItem("history")||"[]"),v=[{id:g.key,title:g.title,type:"onlineBook",url:`https://openlibrary.org${g.key}`},...p.filter(w=>w.id!==g.key)];localStorage.setItem("history",JSON.stringify(v))},m=()=>{const g=[];if(a<=5)for(let p=1;p<=a;p++)g.push(y.jsx("button",{onClick:()=>h(p),style:p===r?$m:cs,children:p},p));else if(r<=2){for(let p=1;p<=3;p++)g.push(y.jsx("button",{onClick:()=>h(p),style:p===r?$m:cs,children:p},p));g.push("...",y.jsx("button",{onClick:()=>h(a),style:cs,children:a},a))}else if(r>=a-1){g.push(y.jsx("button",{onClick:()=>h(1),style:cs,children:"1"},1),"...");for(let p=a-2;p<=a;p++)g.push(y.jsx("button",{onClick:()=>h(p),style:p===r?$m:cs,children:p},p))}else{g.push(y.jsx("button",{onClick:()=>h(1),style:cs,children:"1"},1),"...");for(let p=r-1;p<=r+1;p++)g.push(y.jsx("button",{onClick:()=>h(p),style:p===r?$m:cs,children:p},p));g.push("...",y.jsx("button",{onClick:()=>h(a),style:cs,children:a},a))}return g};return y.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[y.jsx(nr,{}),y.jsxs("main",{style:{flex:1,width:"100%",maxWidth:"1200px",margin:"0 auto",padding:"2rem 1rem"},children:[y.jsx("h1",{style:{fontSize:"2rem",marginBottom:"1.5rem"},children:"Livros na Internet"}),y.jsx("input",{type:"text",placeholder:"Buscar livros...",value:t,onChange:g=>s(g.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",marginBottom:"2rem",border:"1px solid #ccc",borderRadius:"4px"}}),n.length===0?y.jsx("p",{children:"Carregando livros..."}):d.length===0?y.jsx("p",{children:"Nenhum livro encontrado."}):y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:"1.5rem"},children:d.map(g=>{var p;return y.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:"8px",padding:"1rem",background:"#f9f9f9",display:"flex",flexDirection:"column"},children:[y.jsxs("a",{href:`https://openlibrary.org${g.key}`,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"inherit",marginBottom:"0.5rem",flexGrow:1},children:[y.jsx("img",{src:g.cover_i?`https://covers.openlibrary.org/b/id/${g.cover_i}-M.jpg`:"/images/capa-padrao.png",alt:g.title,style:{width:"100%",borderRadius:"4px",marginBottom:"0.5rem"}}),y.jsx("h2",{style:{fontSize:"1.1rem",marginBottom:"0.3rem"},children:g.title}),y.jsx("p",{style:{fontSize:"0.9rem",color:"#555"},children:((p=g.author_name)==null?void 0:p.join(", "))||"Autor desconhecido"}),y.jsx("p",{style:{fontSize:"0.8rem",color:"#777"},children:g.first_publish_year?`Ano: ${g.first_publish_year}`:""})]}),y.jsx("button",{onClick:()=>{f(g),window.open(`https://openlibrary.org${g.key}`,"_blank")},style:{...cs,marginTop:"auto",backgroundColor:"#007bff",color:"#fff"},children:"Visualizar"})]},g.key)})}),y.jsxs("div",{style:{marginTop:"2rem",textAlign:"center"},children:[y.jsx("button",{onClick:()=>h(r-1),disabled:r===1,style:cs,children:"« Anterior"}),m(),y.jsx("button",{onClick:()=>h(r+1),disabled:r===a,style:cs,children:"Próximo »"})]})]}),y.jsx(sr,{})]})}const cs={padding:"6px 12px",margin:"0 4px",background:"#eee",border:"none",borderRadius:"4px",cursor:"pointer"},$m={...cs,background:"#333",color:"#fff"};function lz(){const[n,e]=T.useState([]),[t,s]=T.useState(""),[r,i]=T.useState(1),[o,a]=T.useState(!0),l=6;T.useEffect(()=>{(async()=>{try{const w=await Re.get("http://localhost:3333/movies");e(w.data)}catch(w){console.error("Erro ao carregar filmes:",w)}finally{a(!1)}})()},[]);const u=v=>{try{const w=localStorage.getItem("history");let b=w?JSON.parse(w):[];b=b.filter(C=>!(C.id===v.id&&C.type===v.type)),b.unshift(v),b.length>20&&(b=b.slice(0,20)),localStorage.setItem("history",JSON.stringify(b))}catch(w){console.error("Erro ao salvar histórico:",w)}},d=(v,w)=>{try{const b=localStorage.getItem("history");return(b?JSON.parse(b):[]).some(_=>_.id===v&&_.type===w)}catch{return!1}},h=n.filter(v=>v.title.toLowerCase().includes(t.toLowerCase())),f=Math.ceil(h.length/l);r>f&&f>0&&i(f);const m=r*l,g=m-l,p=h.slice(g,m),x=v=>{v>=1&&v<=f&&(i(v),window.scrollTo({top:0,behavior:"smooth"}))};return y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(nr,{}),y.jsxs("main",{className:"container mx-auto px-4 py-12",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 rounded-full text-primary text-sm font-medium mb-4",children:[y.jsx(Vc,{className:"h-4 w-4"}),"Catálogo de Filmes"]}),y.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Filmes Disponíveis"}),y.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Navegue por nossa coleção de filmes disponíveis para assistir ou baixar"})]}),y.jsx("div",{className:"max-w-md mx-auto mb-12",children:y.jsxs("div",{className:"relative",children:[y.jsx(y1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),y.jsx(Zs,{type:"text",placeholder:"Pesquisar filmes...",value:t,onChange:v=>{s(v.target.value),i(1)},className:"pl-10 h-12 text-base"})]})}),o?y.jsxs("div",{className:"text-center py-20",children:[y.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent"}),y.jsx("p",{className:"text-muted-foreground mt-4",children:"Carregando filmes..."})]}):h.length===0?y.jsxs("div",{className:"text-center py-20",children:[y.jsx(Vc,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),y.jsx("p",{className:"text-xl text-muted-foreground",children:t?"Nenhum filme encontrado.":"Nenhum filme disponível."})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:p.map(v=>y.jsxs(em,{className:"group hover:shadow-glow transition-all duration-300 bg-card/80 backdrop-blur-sm border-border/50",children:[y.jsx(tm,{className:"p-0",children:v.coverImagePath?y.jsx("div",{className:"aspect-[3/4] overflow-hidden rounded-t-lg",children:y.jsx("img",{src:`http://localhost:3333/files/${v.coverImagePath}`,alt:`Capa do filme ${v.title}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}):y.jsx("div",{className:"aspect-[3/4] bg-muted/30 rounded-t-lg flex items-center justify-center",children:y.jsx(Vc,{className:"h-16 w-16 text-muted-foreground"})})}),y.jsxs(rm,{className:"p-6",children:[y.jsx(nm,{className:`text-lg mb-2 group-hover:text-primary transition-colors ${typeof window<"u"&&d(v.id,"movie")?"text-primary":""}`,children:v.title}),y.jsx(sm,{children:v.description}),y.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Nota: ",v.rating,"/10"]})]}),y.jsxs(im,{className:"p-6 pt-0 flex gap-2",children:[y.jsx(xe,{asChild:!0,variant:"outline",className:"w-1/2",children:y.jsxs("a",{href:`http://localhost:3333/watchMovie/${v.filePath}`,target:"_blank",rel:"noopener noreferrer",onClick:()=>u({id:v.id,title:v.title,type:"movie"}),children:[y.jsx(Vc,{className:"h-4 w-4 mr-2"}),"Assistir"]})}),y.jsx(xe,{asChild:!0,variant:"hero",className:"w-1/2",children:y.jsxs("a",{href:`http://localhost:3333/downloadMovie/${v.filePath}`,download:!0,target:"_blank",rel:"noopener noreferrer",onClick:()=>u({id:v.id,title:v.title,type:"movie"}),children:[y.jsx(Up,{className:"h-4 w-4 mr-2"}),"Baixar"]})})]})]},v.id))}),f>1&&y.jsx("div",{className:"flex justify-center",children:y.jsx(Lv,{children:y.jsxs(Mv,{children:[y.jsx(Hr,{children:y.jsx(Iv,{href:"#",onClick:v=>{v.preventDefault(),x(r-1)},className:r===1?"pointer-events-none opacity-50":""})}),Array.from({length:f},(v,w)=>w+1).map(v=>y.jsx(Hr,{children:y.jsx(Dd,{href:"#",onClick:w=>{w.preventDefault(),x(v)},isActive:v===r,children:v})},v)),y.jsx(Hr,{children:y.jsx(Dv,{href:"#",onClick:v=>{v.preventDefault(),x(r+1)},className:r===f||f===0?"pointer-events-none opacity-50":""})})]})})})]})]}),y.jsx(sr,{})]})}function cz(){const[n,e]=T.useState([]);T.useEffect(()=>{const i=localStorage.getItem("history");i&&e(JSON.parse(i))},[]);const t=()=>{localStorage.removeItem("history"),e([])},s=i=>{switch(i){case"book":return y.jsx(Ss,{className:"h-5 w-5 mr-2"});case"movie":return y.jsx(Vc,{className:"h-5 w-5 mr-2"});case"game":return y.jsx(Jl,{className:"h-5 w-5 mr-2"});case"onlineBook":return y.jsx(g1,{className:"h-5 w-5 mr-2"});case"onlineGame":return y.jsx(Jl,{className:"h-5 w-5 mr-2"});default:return y.jsx(y0,{className:"h-5 w-5 mr-2"})}},r=i=>i.type==="onlineBook"||i.type==="onlineGame"?i.url||"#":`/${i.type}s?focusId=${encodeURIComponent(i.id)}`;return y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(nr,{}),y.jsxs("main",{className:"container mx-auto px-4 py-12",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 rounded-full text-primary text-sm font-medium mb-4",children:[y.jsx(y0,{className:"h-4 w-4"}),"Histórico de Acessos"]}),y.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Seus Últimos Acessos"}),y.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Veja os conteúdos que você acessou recentemente"})]}),n.length===0?y.jsxs("div",{className:"text-center py-20",children:[y.jsx(y0,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),y.jsx("p",{className:"text-xl text-muted-foreground",children:"Nenhum item acessado ainda."})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"flex justify-end mb-6",children:y.jsx(xe,{variant:"destructive",onClick:t,children:"Limpar Histórico"})}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(i=>y.jsxs(em,{className:"bg-card/80 backdrop-blur-sm border-border/50 group hover:shadow-glow transition-all duration-300",children:[y.jsx(tm,{children:y.jsxs(nm,{className:"text-lg group-hover:text-primary transition-colors flex items-center",children:[s(i.type),i.title]})}),y.jsx(rm,{children:y.jsxs(sm,{children:["Tipo:"," ",y.jsx("span",{className:"capitalize font-medium text-foreground",children:i.type})]})}),y.jsx(im,{children:y.jsx(xe,{asChild:!0,variant:"outline",className:"w-full",children:y.jsx("a",{href:r(i),target:"_blank",rel:"noopener noreferrer",children:"Acessar novamente"})})})]},`${i.type}-${i.id}`))})]})]}),y.jsx(sr,{})]})}function uz(){return y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(nr,{}),y.jsxs("main",{className:"container mx-auto px-4 py-12",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 rounded-full text-primary text-sm font-medium mb-4",children:[y.jsx(Jl,{className:"h-4 w-4"}),"Desafio Python"]}),y.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Jogo do Desafio"}),y.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Teste suas habilidades em nosso jogo com sistema de pontuação."})]}),y.jsx("div",{className:"flex justify-center",children:y.jsx("div",{className:"w-full max-w-4xl aspect-video rounded-lg overflow-hidden shadow-lg border border-border",children:y.jsx("iframe",{src:"/desafio/index.html",width:"100%",height:"100%",className:"w-full h-full",frameBorder:"0",title:"Desafio Game",allowFullScreen:!0})})})]}),y.jsx(sr,{})]})}const dz=new kj,hz=()=>y.jsx(Nj,{client:dz,children:y.jsxs(ij,{children:[y.jsx(sD,{}),y.jsx(LD,{}),y.jsx(_F,{children:y.jsxs(vF,{children:[y.jsx(vn,{path:"/",element:y.jsx(HF,{})}),y.jsx(vn,{path:"/books",element:y.jsx(aB,{})}),y.jsx(vn,{path:"/games",element:y.jsx(lB,{})}),y.jsx(vn,{path:"/admin/login",element:y.jsx(hB,{})}),y.jsx(vn,{path:"/admin/post",element:y.jsx(fB,{})}),y.jsx(vn,{path:"/admin/solicitacoes",element:y.jsx(pB,{})}),y.jsx(vn,{path:"/auth/register",element:y.jsx(iz,{})}),y.jsx(vn,{path:"/freegame",element:y.jsx(oz,{})}),y.jsx(vn,{path:"/livrospg",element:y.jsx(az,{})}),y.jsx(vn,{path:"/Movies",element:y.jsx(lz,{})}),y.jsx(vn,{path:"/Historico",element:y.jsx(cz,{})}),y.jsx(vn,{path:"/Desafio",element:y.jsx(uz,{})}),y.jsx(vn,{path:"*",element:y.jsx(cB,{})})]})})]})});sT(document.getElementById("root")).render(y.jsx(hz,{}));
